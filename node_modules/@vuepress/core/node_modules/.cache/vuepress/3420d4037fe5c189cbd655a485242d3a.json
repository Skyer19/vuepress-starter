{"remainingRequest":"/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/smoothscroll-polyfill/dist/smoothscroll.js","dependencies":[{"path":"/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/smoothscroll-polyfill/dist/smoothscroll.js","mtime":1661658715625},{"path":"/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/cache-loader/dist/cjs.js","mtime":1661658709451},{"path":"/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/babel-loader/lib/index.js","mtime":1661658709446}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIik7CgovKiBzbW9vdGhzY3JvbGwgdjAuNC40IC0gMjAxOSAtIER1c3RhbiBLYXN0ZW4sIEplcmVtaWFzIE1lbmljaGVsbGkgLSBNSVQgTGljZW5zZSAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsgLy8gcG9seWZpbGwKCiAgZnVuY3Rpb24gcG9seWZpbGwoKSB7CiAgICAvLyBhbGlhc2VzCiAgICB2YXIgdyA9IHdpbmRvdzsKICAgIHZhciBkID0gZG9jdW1lbnQ7IC8vIHJldHVybiBpZiBzY3JvbGwgYmVoYXZpb3IgaXMgc3VwcG9ydGVkIGFuZCBwb2x5ZmlsbCBpcyBub3QgZm9yY2VkCgogICAgaWYgKCdzY3JvbGxCZWhhdmlvcicgaW4gZC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgdy5fX2ZvcmNlU21vb3RoU2Nyb2xsUG9seWZpbGxfXyAhPT0gdHJ1ZSkgewogICAgICByZXR1cm47CiAgICB9IC8vIGdsb2JhbHMKCgogICAgdmFyIEVsZW1lbnQgPSB3LkhUTUxFbGVtZW50IHx8IHcuRWxlbWVudDsKICAgIHZhciBTQ1JPTExfVElNRSA9IDQ2ODsgLy8gb2JqZWN0IGdhdGhlcmluZyBvcmlnaW5hbCBzY3JvbGwgbWV0aG9kcwoKICAgIHZhciBvcmlnaW5hbCA9IHsKICAgICAgc2Nyb2xsOiB3LnNjcm9sbCB8fCB3LnNjcm9sbFRvLAogICAgICBzY3JvbGxCeTogdy5zY3JvbGxCeSwKICAgICAgZWxlbWVudFNjcm9sbDogRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsIHx8IHNjcm9sbEVsZW1lbnQsCiAgICAgIHNjcm9sbEludG9WaWV3OiBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxJbnRvVmlldwogICAgfTsgLy8gZGVmaW5lIHRpbWluZyBtZXRob2QKCiAgICB2YXIgbm93ID0gdy5wZXJmb3JtYW5jZSAmJiB3LnBlcmZvcm1hbmNlLm5vdyA/IHcucGVyZm9ybWFuY2Uubm93LmJpbmQody5wZXJmb3JtYW5jZSkgOiBEYXRlLm5vdzsKICAgIC8qKgogICAgICogaW5kaWNhdGVzIGlmIGEgdGhlIGN1cnJlbnQgYnJvd3NlciBpcyBtYWRlIGJ5IE1pY3Jvc29mdAogICAgICogQG1ldGhvZCBpc01pY3Jvc29mdEJyb3dzZXIKICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1c2VyQWdlbnQKICAgICAqIEByZXR1cm5zIHtCb29sZWFufQogICAgICovCgogICAgZnVuY3Rpb24gaXNNaWNyb3NvZnRCcm93c2VyKHVzZXJBZ2VudCkgewogICAgICB2YXIgdXNlckFnZW50UGF0dGVybnMgPSBbJ01TSUUgJywgJ1RyaWRlbnQvJywgJ0VkZ2UvJ107CiAgICAgIHJldHVybiBuZXcgUmVnRXhwKHVzZXJBZ2VudFBhdHRlcm5zLmpvaW4oJ3wnKSkudGVzdCh1c2VyQWdlbnQpOwogICAgfQogICAgLyoKICAgICAqIElFIGhhcyByb3VuZGluZyBidWcgcm91bmRpbmcgZG93biBjbGllbnRIZWlnaHQgYW5kIGNsaWVudFdpZHRoIGFuZAogICAgICogcm91bmRpbmcgdXAgc2Nyb2xsSGVpZ2h0IGFuZCBzY3JvbGxXaWR0aCBjYXVzaW5nIGZhbHNlIHBvc2l0aXZlcwogICAgICogb24gaGFzU2Nyb2xsYWJsZVNwYWNlCiAgICAgKi8KCgogICAgdmFyIFJPVU5ESU5HX1RPTEVSQU5DRSA9IGlzTWljcm9zb2Z0QnJvd3Nlcih3Lm5hdmlnYXRvci51c2VyQWdlbnQpID8gMSA6IDA7CiAgICAvKioKICAgICAqIGNoYW5nZXMgc2Nyb2xsIHBvc2l0aW9uIGluc2lkZSBhbiBlbGVtZW50CiAgICAgKiBAbWV0aG9kIHNjcm9sbEVsZW1lbnQKICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4CiAgICAgKiBAcGFyYW0ge051bWJlcn0geQogICAgICogQHJldHVybnMge3VuZGVmaW5lZH0KICAgICAqLwoKICAgIGZ1bmN0aW9uIHNjcm9sbEVsZW1lbnQoeCwgeSkgewogICAgICB0aGlzLnNjcm9sbExlZnQgPSB4OwogICAgICB0aGlzLnNjcm9sbFRvcCA9IHk7CiAgICB9CiAgICAvKioKICAgICAqIHJldHVybnMgcmVzdWx0IG9mIGFwcGx5aW5nIGVhc2UgbWF0aCBmdW5jdGlvbiB0byBhIG51bWJlcgogICAgICogQG1ldGhvZCBlYXNlCiAgICAgKiBAcGFyYW0ge051bWJlcn0gawogICAgICogQHJldHVybnMge051bWJlcn0KICAgICAqLwoKCiAgICBmdW5jdGlvbiBlYXNlKGspIHsKICAgICAgcmV0dXJuIDAuNSAqICgxIC0gTWF0aC5jb3MoTWF0aC5QSSAqIGspKTsKICAgIH0KICAgIC8qKgogICAgICogaW5kaWNhdGVzIGlmIGEgc21vb3RoIGJlaGF2aW9yIHNob3VsZCBiZSBhcHBsaWVkCiAgICAgKiBAbWV0aG9kIHNob3VsZEJhaWxPdXQKICAgICAqIEBwYXJhbSB7TnVtYmVyfE9iamVjdH0gZmlyc3RBcmcKICAgICAqIEByZXR1cm5zIHtCb29sZWFufQogICAgICovCgoKICAgIGZ1bmN0aW9uIHNob3VsZEJhaWxPdXQoZmlyc3RBcmcpIHsKICAgICAgaWYgKGZpcnN0QXJnID09PSBudWxsIHx8IHR5cGVvZiBmaXJzdEFyZyAhPT0gJ29iamVjdCcgfHwgZmlyc3RBcmcuYmVoYXZpb3IgPT09IHVuZGVmaW5lZCB8fCBmaXJzdEFyZy5iZWhhdmlvciA9PT0gJ2F1dG8nIHx8IGZpcnN0QXJnLmJlaGF2aW9yID09PSAnaW5zdGFudCcpIHsKICAgICAgICAvLyBmaXJzdCBhcmd1bWVudCBpcyBub3QgYW4gb2JqZWN0L251bGwKICAgICAgICAvLyBvciBiZWhhdmlvciBpcyBhdXRvLCBpbnN0YW50IG9yIHVuZGVmaW5lZAogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CgogICAgICBpZiAodHlwZW9mIGZpcnN0QXJnID09PSAnb2JqZWN0JyAmJiBmaXJzdEFyZy5iZWhhdmlvciA9PT0gJ3Ntb290aCcpIHsKICAgICAgICAvLyBmaXJzdCBhcmd1bWVudCBpcyBhbiBvYmplY3QgYW5kIGJlaGF2aW9yIGlzIHNtb290aAogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfSAvLyB0aHJvdyBlcnJvciB3aGVuIGJlaGF2aW9yIGlzIG5vdCBzdXBwb3J0ZWQKCgogICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdiZWhhdmlvciBtZW1iZXIgb2YgU2Nyb2xsT3B0aW9ucyAnICsgZmlyc3RBcmcuYmVoYXZpb3IgKyAnIGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciBlbnVtZXJhdGlvbiBTY3JvbGxCZWhhdmlvci4nKTsKICAgIH0KICAgIC8qKgogICAgICogaW5kaWNhdGVzIGlmIGFuIGVsZW1lbnQgaGFzIHNjcm9sbGFibGUgc3BhY2UgaW4gdGhlIHByb3ZpZGVkIGF4aXMKICAgICAqIEBtZXRob2QgaGFzU2Nyb2xsYWJsZVNwYWNlCiAgICAgKiBAcGFyYW0ge05vZGV9IGVsCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gYXhpcwogICAgICogQHJldHVybnMge0Jvb2xlYW59CiAgICAgKi8KCgogICAgZnVuY3Rpb24gaGFzU2Nyb2xsYWJsZVNwYWNlKGVsLCBheGlzKSB7CiAgICAgIGlmIChheGlzID09PSAnWScpIHsKICAgICAgICByZXR1cm4gZWwuY2xpZW50SGVpZ2h0ICsgUk9VTkRJTkdfVE9MRVJBTkNFIDwgZWwuc2Nyb2xsSGVpZ2h0OwogICAgICB9CgogICAgICBpZiAoYXhpcyA9PT0gJ1gnKSB7CiAgICAgICAgcmV0dXJuIGVsLmNsaWVudFdpZHRoICsgUk9VTkRJTkdfVE9MRVJBTkNFIDwgZWwuc2Nyb2xsV2lkdGg7CiAgICAgIH0KICAgIH0KICAgIC8qKgogICAgICogaW5kaWNhdGVzIGlmIGFuIGVsZW1lbnQgaGFzIGEgc2Nyb2xsYWJsZSBvdmVyZmxvdyBwcm9wZXJ0eSBpbiB0aGUgYXhpcwogICAgICogQG1ldGhvZCBjYW5PdmVyZmxvdwogICAgICogQHBhcmFtIHtOb2RlfSBlbAogICAgICogQHBhcmFtIHtTdHJpbmd9IGF4aXMKICAgICAqIEByZXR1cm5zIHtCb29sZWFufQogICAgICovCgoKICAgIGZ1bmN0aW9uIGNhbk92ZXJmbG93KGVsLCBheGlzKSB7CiAgICAgIHZhciBvdmVyZmxvd1ZhbHVlID0gdy5nZXRDb21wdXRlZFN0eWxlKGVsLCBudWxsKVsnb3ZlcmZsb3cnICsgYXhpc107CiAgICAgIHJldHVybiBvdmVyZmxvd1ZhbHVlID09PSAnYXV0bycgfHwgb3ZlcmZsb3dWYWx1ZSA9PT0gJ3Njcm9sbCc7CiAgICB9CiAgICAvKioKICAgICAqIGluZGljYXRlcyBpZiBhbiBlbGVtZW50IGNhbiBiZSBzY3JvbGxlZCBpbiBlaXRoZXIgYXhpcwogICAgICogQG1ldGhvZCBpc1Njcm9sbGFibGUKICAgICAqIEBwYXJhbSB7Tm9kZX0gZWwKICAgICAqIEBwYXJhbSB7U3RyaW5nfSBheGlzCiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0KICAgICAqLwoKCiAgICBmdW5jdGlvbiBpc1Njcm9sbGFibGUoZWwpIHsKICAgICAgdmFyIGlzU2Nyb2xsYWJsZVkgPSBoYXNTY3JvbGxhYmxlU3BhY2UoZWwsICdZJykgJiYgY2FuT3ZlcmZsb3coZWwsICdZJyk7CiAgICAgIHZhciBpc1Njcm9sbGFibGVYID0gaGFzU2Nyb2xsYWJsZVNwYWNlKGVsLCAnWCcpICYmIGNhbk92ZXJmbG93KGVsLCAnWCcpOwogICAgICByZXR1cm4gaXNTY3JvbGxhYmxlWSB8fCBpc1Njcm9sbGFibGVYOwogICAgfQogICAgLyoqCiAgICAgKiBmaW5kcyBzY3JvbGxhYmxlIHBhcmVudCBvZiBhbiBlbGVtZW50CiAgICAgKiBAbWV0aG9kIGZpbmRTY3JvbGxhYmxlUGFyZW50CiAgICAgKiBAcGFyYW0ge05vZGV9IGVsCiAgICAgKiBAcmV0dXJucyB7Tm9kZX0gZWwKICAgICAqLwoKCiAgICBmdW5jdGlvbiBmaW5kU2Nyb2xsYWJsZVBhcmVudChlbCkgewogICAgICB3aGlsZSAoZWwgIT09IGQuYm9keSAmJiBpc1Njcm9sbGFibGUoZWwpID09PSBmYWxzZSkgewogICAgICAgIGVsID0gZWwucGFyZW50Tm9kZSB8fCBlbC5ob3N0OwogICAgICB9CgogICAgICByZXR1cm4gZWw7CiAgICB9CiAgICAvKioKICAgICAqIHNlbGYgaW52b2tlZCBmdW5jdGlvbiB0aGF0LCBnaXZlbiBhIGNvbnRleHQsIHN0ZXBzIHRocm91Z2ggc2Nyb2xsaW5nCiAgICAgKiBAbWV0aG9kIHN0ZXAKICAgICAqIEBwYXJhbSB7T2JqZWN0fSBjb250ZXh0CiAgICAgKiBAcmV0dXJucyB7dW5kZWZpbmVkfQogICAgICovCgoKICAgIGZ1bmN0aW9uIHN0ZXAoY29udGV4dCkgewogICAgICB2YXIgdGltZSA9IG5vdygpOwogICAgICB2YXIgdmFsdWU7CiAgICAgIHZhciBjdXJyZW50WDsKICAgICAgdmFyIGN1cnJlbnRZOwogICAgICB2YXIgZWxhcHNlZCA9ICh0aW1lIC0gY29udGV4dC5zdGFydFRpbWUpIC8gU0NST0xMX1RJTUU7IC8vIGF2b2lkIGVsYXBzZWQgdGltZXMgaGlnaGVyIHRoYW4gb25lCgogICAgICBlbGFwc2VkID0gZWxhcHNlZCA+IDEgPyAxIDogZWxhcHNlZDsgLy8gYXBwbHkgZWFzaW5nIHRvIGVsYXBzZWQgdGltZQoKICAgICAgdmFsdWUgPSBlYXNlKGVsYXBzZWQpOwogICAgICBjdXJyZW50WCA9IGNvbnRleHQuc3RhcnRYICsgKGNvbnRleHQueCAtIGNvbnRleHQuc3RhcnRYKSAqIHZhbHVlOwogICAgICBjdXJyZW50WSA9IGNvbnRleHQuc3RhcnRZICsgKGNvbnRleHQueSAtIGNvbnRleHQuc3RhcnRZKSAqIHZhbHVlOwogICAgICBjb250ZXh0Lm1ldGhvZC5jYWxsKGNvbnRleHQuc2Nyb2xsYWJsZSwgY3VycmVudFgsIGN1cnJlbnRZKTsgLy8gc2Nyb2xsIG1vcmUgaWYgd2UgaGF2ZSBub3QgcmVhY2hlZCBvdXIgZGVzdGluYXRpb24KCiAgICAgIGlmIChjdXJyZW50WCAhPT0gY29udGV4dC54IHx8IGN1cnJlbnRZICE9PSBjb250ZXh0LnkpIHsKICAgICAgICB3LnJlcXVlc3RBbmltYXRpb25GcmFtZShzdGVwLmJpbmQodywgY29udGV4dCkpOwogICAgICB9CiAgICB9CiAgICAvKioKICAgICAqIHNjcm9sbHMgd2luZG93IG9yIGVsZW1lbnQgd2l0aCBhIHNtb290aCBiZWhhdmlvcgogICAgICogQG1ldGhvZCBzbW9vdGhTY3JvbGwKICAgICAqIEBwYXJhbSB7T2JqZWN0fE5vZGV9IGVsCiAgICAgKiBAcGFyYW0ge051bWJlcn0geAogICAgICogQHBhcmFtIHtOdW1iZXJ9IHkKICAgICAqIEByZXR1cm5zIHt1bmRlZmluZWR9CiAgICAgKi8KCgogICAgZnVuY3Rpb24gc21vb3RoU2Nyb2xsKGVsLCB4LCB5KSB7CiAgICAgIHZhciBzY3JvbGxhYmxlOwogICAgICB2YXIgc3RhcnRYOwogICAgICB2YXIgc3RhcnRZOwogICAgICB2YXIgbWV0aG9kOwogICAgICB2YXIgc3RhcnRUaW1lID0gbm93KCk7IC8vIGRlZmluZSBzY3JvbGwgY29udGV4dAoKICAgICAgaWYgKGVsID09PSBkLmJvZHkpIHsKICAgICAgICBzY3JvbGxhYmxlID0gdzsKICAgICAgICBzdGFydFggPSB3LnNjcm9sbFggfHwgdy5wYWdlWE9mZnNldDsKICAgICAgICBzdGFydFkgPSB3LnNjcm9sbFkgfHwgdy5wYWdlWU9mZnNldDsKICAgICAgICBtZXRob2QgPSBvcmlnaW5hbC5zY3JvbGw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2Nyb2xsYWJsZSA9IGVsOwogICAgICAgIHN0YXJ0WCA9IGVsLnNjcm9sbExlZnQ7CiAgICAgICAgc3RhcnRZID0gZWwuc2Nyb2xsVG9wOwogICAgICAgIG1ldGhvZCA9IHNjcm9sbEVsZW1lbnQ7CiAgICAgIH0gLy8gc2Nyb2xsIGxvb3Bpbmcgb3ZlciBhIGZyYW1lCgoKICAgICAgc3RlcCh7CiAgICAgICAgc2Nyb2xsYWJsZTogc2Nyb2xsYWJsZSwKICAgICAgICBtZXRob2Q6IG1ldGhvZCwKICAgICAgICBzdGFydFRpbWU6IHN0YXJ0VGltZSwKICAgICAgICBzdGFydFg6IHN0YXJ0WCwKICAgICAgICBzdGFydFk6IHN0YXJ0WSwKICAgICAgICB4OiB4LAogICAgICAgIHk6IHkKICAgICAgfSk7CiAgICB9IC8vIE9SSUdJTkFMIE1FVEhPRFMgT1ZFUlJJREVTCiAgICAvLyB3LnNjcm9sbCBhbmQgdy5zY3JvbGxUbwoKCiAgICB3LnNjcm9sbCA9IHcuc2Nyb2xsVG8gPSBmdW5jdGlvbiAoKSB7CiAgICAgIC8vIGF2b2lkIGFjdGlvbiB3aGVuIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkCiAgICAgIGlmIChhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBhdm9pZCBzbW9vdGggYmVoYXZpb3IgaWYgbm90IHJlcXVpcmVkCgoKICAgICAgaWYgKHNob3VsZEJhaWxPdXQoYXJndW1lbnRzWzBdKSA9PT0gdHJ1ZSkgewogICAgICAgIG9yaWdpbmFsLnNjcm9sbC5jYWxsKHcsIGFyZ3VtZW50c1swXS5sZWZ0ICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0ubGVmdCA6IHR5cGVvZiBhcmd1bWVudHNbMF0gIT09ICdvYmplY3QnID8gYXJndW1lbnRzWzBdIDogdy5zY3JvbGxYIHx8IHcucGFnZVhPZmZzZXQsIC8vIHVzZSB0b3AgcHJvcCwgc2Vjb25kIGFyZ3VtZW50IGlmIHByZXNlbnQgb3IgZmFsbGJhY2sgdG8gc2Nyb2xsWQogICAgICAgIGFyZ3VtZW50c1swXS50b3AgIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXS50b3AgOiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHcuc2Nyb2xsWSB8fCB3LnBhZ2VZT2Zmc2V0KTsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gTEVUIFRIRSBTTU9PVEhORVNTIEJFR0lOIQoKCiAgICAgIHNtb290aFNjcm9sbC5jYWxsKHcsIGQuYm9keSwgYXJndW1lbnRzWzBdLmxlZnQgIT09IHVuZGVmaW5lZCA/IH5+YXJndW1lbnRzWzBdLmxlZnQgOiB3LnNjcm9sbFggfHwgdy5wYWdlWE9mZnNldCwgYXJndW1lbnRzWzBdLnRvcCAhPT0gdW5kZWZpbmVkID8gfn5hcmd1bWVudHNbMF0udG9wIDogdy5zY3JvbGxZIHx8IHcucGFnZVlPZmZzZXQpOwogICAgfTsgLy8gdy5zY3JvbGxCeQoKCiAgICB3LnNjcm9sbEJ5ID0gZnVuY3Rpb24gKCkgewogICAgICAvLyBhdm9pZCBhY3Rpb24gd2hlbiBubyBhcmd1bWVudHMgYXJlIHBhc3NlZAogICAgICBpZiAoYXJndW1lbnRzWzBdID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gLy8gYXZvaWQgc21vb3RoIGJlaGF2aW9yIGlmIG5vdCByZXF1aXJlZAoKCiAgICAgIGlmIChzaG91bGRCYWlsT3V0KGFyZ3VtZW50c1swXSkpIHsKICAgICAgICBvcmlnaW5hbC5zY3JvbGxCeS5jYWxsKHcsIGFyZ3VtZW50c1swXS5sZWZ0ICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0ubGVmdCA6IHR5cGVvZiBhcmd1bWVudHNbMF0gIT09ICdvYmplY3QnID8gYXJndW1lbnRzWzBdIDogMCwgYXJndW1lbnRzWzBdLnRvcCAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdLnRvcCA6IGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIExFVCBUSEUgU01PT1RITkVTUyBCRUdJTiEKCgogICAgICBzbW9vdGhTY3JvbGwuY2FsbCh3LCBkLmJvZHksIH5+YXJndW1lbnRzWzBdLmxlZnQgKyAody5zY3JvbGxYIHx8IHcucGFnZVhPZmZzZXQpLCB+fmFyZ3VtZW50c1swXS50b3AgKyAody5zY3JvbGxZIHx8IHcucGFnZVlPZmZzZXQpKTsKICAgIH07IC8vIEVsZW1lbnQucHJvdG90eXBlLnNjcm9sbCBhbmQgRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsVG8KCgogICAgRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsID0gRWxlbWVudC5wcm90b3R5cGUuc2Nyb2xsVG8gPSBmdW5jdGlvbiAoKSB7CiAgICAgIC8vIGF2b2lkIGFjdGlvbiB3aGVuIG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkCiAgICAgIGlmIChhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBhdm9pZCBzbW9vdGggYmVoYXZpb3IgaWYgbm90IHJlcXVpcmVkCgoKICAgICAgaWYgKHNob3VsZEJhaWxPdXQoYXJndW1lbnRzWzBdKSA9PT0gdHJ1ZSkgewogICAgICAgIC8vIGlmIG9uZSBudW1iZXIgaXMgcGFzc2VkLCB0aHJvdyBlcnJvciB0byBtYXRjaCBGaXJlZm94IGltcGxlbWVudGF0aW9uCiAgICAgICAgaWYgKHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdudW1iZXInICYmIGFyZ3VtZW50c1sxXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ1ZhbHVlIGNvdWxkIG5vdCBiZSBjb252ZXJ0ZWQnKTsKICAgICAgICB9CgogICAgICAgIG9yaWdpbmFsLmVsZW1lbnRTY3JvbGwuY2FsbCh0aGlzLCAvLyB1c2UgbGVmdCBwcm9wLCBmaXJzdCBudW1iZXIgYXJndW1lbnQgb3IgZmFsbGJhY2sgdG8gc2Nyb2xsTGVmdAogICAgICAgIGFyZ3VtZW50c1swXS5sZWZ0ICE9PSB1bmRlZmluZWQgPyB+fmFyZ3VtZW50c1swXS5sZWZ0IDogdHlwZW9mIGFyZ3VtZW50c1swXSAhPT0gJ29iamVjdCcgPyB+fmFyZ3VtZW50c1swXSA6IHRoaXMuc2Nyb2xsTGVmdCwgLy8gdXNlIHRvcCBwcm9wLCBzZWNvbmQgYXJndW1lbnQgb3IgZmFsbGJhY2sgdG8gc2Nyb2xsVG9wCiAgICAgICAgYXJndW1lbnRzWzBdLnRvcCAhPT0gdW5kZWZpbmVkID8gfn5hcmd1bWVudHNbMF0udG9wIDogYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyB+fmFyZ3VtZW50c1sxXSA6IHRoaXMuc2Nyb2xsVG9wKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHZhciBsZWZ0ID0gYXJndW1lbnRzWzBdLmxlZnQ7CiAgICAgIHZhciB0b3AgPSBhcmd1bWVudHNbMF0udG9wOyAvLyBMRVQgVEhFIFNNT09USE5FU1MgQkVHSU4hCgogICAgICBzbW9vdGhTY3JvbGwuY2FsbCh0aGlzLCB0aGlzLCB0eXBlb2YgbGVmdCA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnNjcm9sbExlZnQgOiB+fmxlZnQsIHR5cGVvZiB0b3AgPT09ICd1bmRlZmluZWQnID8gdGhpcy5zY3JvbGxUb3AgOiB+fnRvcCk7CiAgICB9OyAvLyBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxCeQoKCiAgICBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxCeSA9IGZ1bmN0aW9uICgpIHsKICAgICAgLy8gYXZvaWQgYWN0aW9uIHdoZW4gbm8gYXJndW1lbnRzIGFyZSBwYXNzZWQKICAgICAgaWYgKGFyZ3VtZW50c1swXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIGF2b2lkIHNtb290aCBiZWhhdmlvciBpZiBub3QgcmVxdWlyZWQKCgogICAgICBpZiAoc2hvdWxkQmFpbE91dChhcmd1bWVudHNbMF0pID09PSB0cnVlKSB7CiAgICAgICAgb3JpZ2luYWwuZWxlbWVudFNjcm9sbC5jYWxsKHRoaXMsIGFyZ3VtZW50c1swXS5sZWZ0ICE9PSB1bmRlZmluZWQgPyB+fmFyZ3VtZW50c1swXS5sZWZ0ICsgdGhpcy5zY3JvbGxMZWZ0IDogfn5hcmd1bWVudHNbMF0gKyB0aGlzLnNjcm9sbExlZnQsIGFyZ3VtZW50c1swXS50b3AgIT09IHVuZGVmaW5lZCA/IH5+YXJndW1lbnRzWzBdLnRvcCArIHRoaXMuc2Nyb2xsVG9wIDogfn5hcmd1bWVudHNbMV0gKyB0aGlzLnNjcm9sbFRvcCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnNjcm9sbCh7CiAgICAgICAgbGVmdDogfn5hcmd1bWVudHNbMF0ubGVmdCArIHRoaXMuc2Nyb2xsTGVmdCwKICAgICAgICB0b3A6IH5+YXJndW1lbnRzWzBdLnRvcCArIHRoaXMuc2Nyb2xsVG9wLAogICAgICAgIGJlaGF2aW9yOiBhcmd1bWVudHNbMF0uYmVoYXZpb3IKICAgICAgfSk7CiAgICB9OyAvLyBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxJbnRvVmlldwoKCiAgICBFbGVtZW50LnByb3RvdHlwZS5zY3JvbGxJbnRvVmlldyA9IGZ1bmN0aW9uICgpIHsKICAgICAgLy8gYXZvaWQgc21vb3RoIGJlaGF2aW9yIGlmIG5vdCByZXF1aXJlZAogICAgICBpZiAoc2hvdWxkQmFpbE91dChhcmd1bWVudHNbMF0pID09PSB0cnVlKSB7CiAgICAgICAgb3JpZ2luYWwuc2Nyb2xsSW50b1ZpZXcuY2FsbCh0aGlzLCBhcmd1bWVudHNbMF0gPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhcmd1bWVudHNbMF0pOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBMRVQgVEhFIFNNT09USE5FU1MgQkVHSU4hCgoKICAgICAgdmFyIHNjcm9sbGFibGVQYXJlbnQgPSBmaW5kU2Nyb2xsYWJsZVBhcmVudCh0aGlzKTsKICAgICAgdmFyIHBhcmVudFJlY3RzID0gc2Nyb2xsYWJsZVBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgdmFyIGNsaWVudFJlY3RzID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKCiAgICAgIGlmIChzY3JvbGxhYmxlUGFyZW50ICE9PSBkLmJvZHkpIHsKICAgICAgICAvLyByZXZlYWwgZWxlbWVudCBpbnNpZGUgcGFyZW50CiAgICAgICAgc21vb3RoU2Nyb2xsLmNhbGwodGhpcywgc2Nyb2xsYWJsZVBhcmVudCwgc2Nyb2xsYWJsZVBhcmVudC5zY3JvbGxMZWZ0ICsgY2xpZW50UmVjdHMubGVmdCAtIHBhcmVudFJlY3RzLmxlZnQsIHNjcm9sbGFibGVQYXJlbnQuc2Nyb2xsVG9wICsgY2xpZW50UmVjdHMudG9wIC0gcGFyZW50UmVjdHMudG9wKTsgLy8gcmV2ZWFsIHBhcmVudCBpbiB2aWV3cG9ydCB1bmxlc3MgaXMgZml4ZWQKCiAgICAgICAgaWYgKHcuZ2V0Q29tcHV0ZWRTdHlsZShzY3JvbGxhYmxlUGFyZW50KS5wb3NpdGlvbiAhPT0gJ2ZpeGVkJykgewogICAgICAgICAgdy5zY3JvbGxCeSh7CiAgICAgICAgICAgIGxlZnQ6IHBhcmVudFJlY3RzLmxlZnQsCiAgICAgICAgICAgIHRvcDogcGFyZW50UmVjdHMudG9wLAogICAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvLyByZXZlYWwgZWxlbWVudCBpbiB2aWV3cG9ydAogICAgICAgIHcuc2Nyb2xsQnkoewogICAgICAgICAgbGVmdDogY2xpZW50UmVjdHMubGVmdCwKICAgICAgICAgIHRvcDogY2xpZW50UmVjdHMudG9wLAogICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CiAgfQoKICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7CiAgICAvLyBjb21tb25qcwogICAgbW9kdWxlLmV4cG9ydHMgPSB7CiAgICAgIHBvbHlmaWxsOiBwb2x5ZmlsbAogICAgfTsKICB9IGVsc2UgewogICAgLy8gZ2xvYmFsCiAgICBwb2x5ZmlsbCgpOwogIH0KfSkoKTs="},null]}