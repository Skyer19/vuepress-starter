{"remainingRequest":"/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/vssue/dist/vssue.js","dependencies":[{"path":"/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/vssue/dist/vssue.js","mtime":1661659638736},{"path":"/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/cache-loader/dist/cjs.js","mtime":1661658709451},{"path":"/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/babel-loader/lib/index.js","mtime":1661658709446}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC50by1zdHJpbmctdGFnLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwoKLyohCiAqIHZzc3VlIC0gQSB2dWUtcG93ZXJlZCBpc3N1ZS1iYXNlZCBjb21tZW50IHBsdWdpbgogKgogKiBAdmVyc2lvbiB2MS40LjgKICogQGxpbmsgaHR0cHM6Ly92c3N1ZS5qcy5vcmcKICogQGxpY2Vuc2UgTUlUCiAqIEBjb3B5cmlnaHQgMjAxOC0yMDIxIG1ldGVvcmx4eQogKi8KaW1wb3J0IHsgUHJvcCwgSW5qZWN0LCBDb21wb25lbnQsIFZ1ZSBhcyBWdWUkMSwgV2F0Y2gsIFByb3ZpZGUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBmb3JtYXREYXRlVGltZSwgZ2V0Q2xlYW5VUkwgfSBmcm9tICdAdnNzdWUvdXRpbHMnOwppbXBvcnQgVnVlSTE4biBmcm9tICd2dWUtaTE4bic7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQpMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlDQp0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZQ0KTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCg0KVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQ0KS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRA0KV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSwNCk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuDQoNClNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucw0KYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLg0KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KCmZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHsKICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsCiAgICAgIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLAogICAgICBkOwogIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gIm9iamVjdCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09ICJmdW5jdGlvbiIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByOwogIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7Cn0KCnZhciBzY3JpcHQgPSBWdWUuZXh0ZW5kKHsKICBuYW1lOiAnSWNvbmZvbnQnCn0pOwoKZnVuY3Rpb24gbm9ybWFsaXplQ29tcG9uZW50KHRlbXBsYXRlLCBzdHlsZSwgc2NyaXB0LCBzY29wZUlkLCBpc0Z1bmN0aW9uYWxUZW1wbGF0ZSwgbW9kdWxlSWRlbnRpZmllcgovKiBzZXJ2ZXIgb25seSAqLwosIHNoYWRvd01vZGUsIGNyZWF0ZUluamVjdG9yLCBjcmVhdGVJbmplY3RvclNTUiwgY3JlYXRlSW5qZWN0b3JTaGFkb3cpIHsKICBpZiAodHlwZW9mIHNoYWRvd01vZGUgIT09ICdib29sZWFuJykgewogICAgY3JlYXRlSW5qZWN0b3JTU1IgPSBjcmVhdGVJbmplY3RvcjsKICAgIGNyZWF0ZUluamVjdG9yID0gc2hhZG93TW9kZTsKICAgIHNoYWRvd01vZGUgPSBmYWxzZTsKICB9IC8vIFZ1ZS5leHRlbmQgY29uc3RydWN0b3IgZXhwb3J0IGludGVyb3AuCgoKICBjb25zdCBvcHRpb25zID0gdHlwZW9mIHNjcmlwdCA9PT0gJ2Z1bmN0aW9uJyA/IHNjcmlwdC5vcHRpb25zIDogc2NyaXB0OyAvLyByZW5kZXIgZnVuY3Rpb25zCgogIGlmICh0ZW1wbGF0ZSAmJiB0ZW1wbGF0ZS5yZW5kZXIpIHsKICAgIG9wdGlvbnMucmVuZGVyID0gdGVtcGxhdGUucmVuZGVyOwogICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSB0ZW1wbGF0ZS5zdGF0aWNSZW5kZXJGbnM7CiAgICBvcHRpb25zLl9jb21waWxlZCA9IHRydWU7IC8vIGZ1bmN0aW9uYWwgdGVtcGxhdGUKCiAgICBpZiAoaXNGdW5jdGlvbmFsVGVtcGxhdGUpIHsKICAgICAgb3B0aW9ucy5mdW5jdGlvbmFsID0gdHJ1ZTsKICAgIH0KICB9IC8vIHNjb3BlZElkCgoKICBpZiAoc2NvcGVJZCkgewogICAgb3B0aW9ucy5fc2NvcGVJZCA9IHNjb3BlSWQ7CiAgfQoKICBsZXQgaG9vazsKCiAgaWYgKG1vZHVsZUlkZW50aWZpZXIpIHsKICAgIC8vIHNlcnZlciBidWlsZAogICAgaG9vayA9IGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgICAgIC8vIDIuMyBpbmplY3Rpb24KICAgICAgY29udGV4dCA9IGNvbnRleHQgfHwgLy8gY2FjaGVkIGNhbGwKICAgICAgdGhpcy4kdm5vZGUgJiYgdGhpcy4kdm5vZGUuc3NyQ29udGV4dCB8fCAvLyBzdGF0ZWZ1bAogICAgICB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC4kdm5vZGUgJiYgdGhpcy5wYXJlbnQuJHZub2RlLnNzckNvbnRleHQ7IC8vIGZ1bmN0aW9uYWwKICAgICAgLy8gMi4yIHdpdGggcnVuSW5OZXdDb250ZXh0OiB0cnVlCgogICAgICBpZiAoIWNvbnRleHQgJiYgdHlwZW9mIF9fVlVFX1NTUl9DT05URVhUX18gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY29udGV4dCA9IF9fVlVFX1NTUl9DT05URVhUX187CiAgICAgIH0gLy8gaW5qZWN0IGNvbXBvbmVudCBzdHlsZXMKCgogICAgICBpZiAoc3R5bGUpIHsKICAgICAgICBzdHlsZS5jYWxsKHRoaXMsIGNyZWF0ZUluamVjdG9yU1NSKGNvbnRleHQpKTsKICAgICAgfSAvLyByZWdpc3RlciBjb21wb25lbnQgbW9kdWxlIGlkZW50aWZpZXIgZm9yIGFzeW5jIGNodW5rIGluZmVyZW5jZQoKCiAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuX3JlZ2lzdGVyZWRDb21wb25lbnRzKSB7CiAgICAgICAgY29udGV4dC5fcmVnaXN0ZXJlZENvbXBvbmVudHMuYWRkKG1vZHVsZUlkZW50aWZpZXIpOwogICAgICB9CiAgICB9OyAvLyB1c2VkIGJ5IHNzciBpbiBjYXNlIGNvbXBvbmVudCBpcyBjYWNoZWQgYW5kIGJlZm9yZUNyZWF0ZQogICAgLy8gbmV2ZXIgZ2V0cyBjYWxsZWQKCgogICAgb3B0aW9ucy5fc3NyUmVnaXN0ZXIgPSBob29rOwogIH0gZWxzZSBpZiAoc3R5bGUpIHsKICAgIGhvb2sgPSBzaGFkb3dNb2RlID8gZnVuY3Rpb24gKGNvbnRleHQpIHsKICAgICAgc3R5bGUuY2FsbCh0aGlzLCBjcmVhdGVJbmplY3RvclNoYWRvdyhjb250ZXh0LCB0aGlzLiRyb290LiRvcHRpb25zLnNoYWRvd1Jvb3QpKTsKICAgIH0gOiBmdW5jdGlvbiAoY29udGV4dCkgewogICAgICBzdHlsZS5jYWxsKHRoaXMsIGNyZWF0ZUluamVjdG9yKGNvbnRleHQpKTsKICAgIH07CiAgfQoKICBpZiAoaG9vaykgewogICAgaWYgKG9wdGlvbnMuZnVuY3Rpb25hbCkgewogICAgICAvLyByZWdpc3RlciBmb3IgZnVuY3Rpb25hbCBjb21wb25lbnQgaW4gdnVlIGZpbGUKICAgICAgY29uc3Qgb3JpZ2luYWxSZW5kZXIgPSBvcHRpb25zLnJlbmRlcjsKCiAgICAgIG9wdGlvbnMucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyV2l0aFN0eWxlSW5qZWN0aW9uKGgsIGNvbnRleHQpIHsKICAgICAgICBob29rLmNhbGwoY29udGV4dCk7CiAgICAgICAgcmV0dXJuIG9yaWdpbmFsUmVuZGVyKGgsIGNvbnRleHQpOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgLy8gaW5qZWN0IGNvbXBvbmVudCByZWdpc3RyYXRpb24gYXMgYmVmb3JlQ3JlYXRlIGhvb2sKICAgICAgY29uc3QgZXhpc3RpbmcgPSBvcHRpb25zLmJlZm9yZUNyZWF0ZTsKICAgICAgb3B0aW9ucy5iZWZvcmVDcmVhdGUgPSBleGlzdGluZyA/IFtdLmNvbmNhdChleGlzdGluZywgaG9vaykgOiBbaG9va107CiAgICB9CiAgfQoKICByZXR1cm4gc2NyaXB0Owp9Cgpjb25zdCBpc09sZElFID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL21zaWUgWzYtOV1cXGIvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTsKLyogc2NyaXB0ICovCgpjb25zdCBfX3Z1ZV9zY3JpcHRfXyA9IHNjcmlwdDsKLyogdGVtcGxhdGUgKi8KCnZhciBfX3Z1ZV9yZW5kZXJfXyA9IGZ1bmN0aW9uIChfaCwgX3ZtKSB7CiAgdmFyIF9jID0gX3ZtLl9jOwogIHJldHVybiBfYygnc3ZnJywgewogICAgZGlyZWN0aXZlczogW3sKICAgICAgbmFtZTogInNob3ciLAogICAgICByYXdOYW1lOiAidi1zaG93IiwKICAgICAgdmFsdWU6IGZhbHNlLAogICAgICBleHByZXNzaW9uOiAiZmFsc2UiCiAgICB9XQogIH0sIFtfYygnc3ltYm9sJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogInZzc3VlLWljb24tYml0YnVja2V0IiwKICAgICAgInZpZXdCb3giOiAiMCAwIDEwMjQgMTAyNCIKICAgIH0KICB9LCBbX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNNTc5LjU1MjI0NjQgNDg5LjQ1MjQ5NDkzcTQuODM3MTgwOCAzOC4zODUzNzE3My0zMC44MTc1MjQyNyA2MS41NTcwMjgyN3QtNjcuOTU0NTkwOTMgMy42NjY4OTQ5M3EtMjMuNzk1ODA5MDctMTAuMzc2NTMzMzMtMzIuNjExOTYxNi0zNS4zNDI2MjgyNnQtMC4zMTIwNzU3My01MC4wMTAyMDkwNyAzMS42NzU3MzMzMy0zNS4zNDI2MjgyN3EyMS45MjMzNTI1My0xMS4wMDA2ODU4NyA0NC4xNTg3ODA4LTcuMzMzNzkwOTN0MzkuMDA5NTI0MjcgMjEuNjExMjc1NzMgMTYuNzc0MDk0OTMgNDEuMTE2MDM4NHpNNjQ3LjE5NDc2MDUzIDQ3Ni42NTczNzE3M3EtOC41MDQwNzU3My02NS4yMjM5MjQyNy02OC44OTA4MTkyLTk5Ljk0MjR0LTEyMC4wNzEzMTQxMy03Ljk1Nzk0MjRxLTM4LjM4NTM3MTczIDE3LjA4NjE3MTczLTYxLjI0NDk1MjUzIDUzLjkxMTE2MTZ0LTIxLjA2NTE0MjQgNzguOTU1Mjc1NzRxMi40MTg1OTA5MyA1NS40NzE1NDI0IDQ3LjIwMTUyNDI2IDk0LjQ4MTA2NjY2dDEwMC44Nzg2MjgyNyAzNC4xNzIzNDI0cTU1LjQ3MTU0MjQtNC44MzcxODA4IDkyLjYwODYwOTA3LTUxLjE4MDQ5NDkzdDMwLjUwNTQ0NzQ2LTEwMi40MzkwMDkwN3pNNzkyLjkzNDM0MTMzIDE0Ni4zMjQ3MjQyN3EtMTIuMTcwOTcxNzMtMTYuNDYyMDE5Mi0zNC4xNzIzNDI0LTI3LjE1MDYyODI3dC0zNS4zNDI2MjgyNi0xMy40MTkyNzU3My00My4zMDA1NzE3NC03LjY0NTg2NjY3cS0xNzcuMzM3Mjk0OTMtMjguNjMyOTkwOTMtMzQ1LjAwMDIyODI2IDEuMjQ4MzA1MDctMjYuMjE0NCA0LjI5MTA0NzQ3LTQwLjI1NzgyODI3IDcuMzMzNzkwOTN0LTMzLjU0ODE5MDkzIDEzLjQxOTI3NTczLTMwLjUwNTQ0NzQ3IDI2LjIxNDRxMTguMjU2NDU3NiAxNy4wODYxNzE3MyA0Ni4zNDMzMTQxMyAyNy42OTY3NjE2dDQ0Ljc4MjkzMzM0IDEzLjQxOTI3NTc0IDUzLjM2NTAyODI2IDcuMDIxNzE0MTNxMTM4Ljk1MTkyNDI3IDE3LjcxMDMyNDI3IDI3My4wNjY2NjY2NyAwLjYyNDE1MjUzIDM4LjM4NTM3MTczLTQuODM3MTgwOCA1NC41MzUzMTQxMy03LjMzMzc5MDkzdDQ0LjE1ODc4MDgtMTMuMTA3MiA0NS43MTkxNjE2LTI4LjMyMDkxNDEzek04MjcuNjUyODE4MTMgNzc3LjEwODcyNDI3cS00LjgzNzE4MDggMTUuODM3ODY2NjctOS40NDAzMDUwNiA0Ni42NTUzOTA5M3QtOC41MDQwNzU3NCA1MS4xODA0OTQ5My0xNy4zOTgyNDc0NiA0Mi42NzY0MTkyLTM1LjM0MjYyODI3IDM0LjQwNjRxLTUyLjQyODggMjkuMjU3MTQyNC0xMTUuNDY4MTkwOTMgNDMuNjEyNjQ3NDd0LTEyMy4xMTQwNTc2IDEzLjQxOTI3NTczLTEyMi44MDE5ODA4LTExLjMxMjc2MTZxLTI4LjAwODgzODQtNC44MzcxODA4LTQ5LjY5ODEzMzM0LTExLjAwMDY4NTg2dC00Ni42NTUzOTA5My0xNi40NjIwMTkyLTQ0LjQ3MDg1NzYtMjYuNTI2NDc1NzQtMzEuNjc1NzMzMzMtMzcuNDQ5MTQyNHEtMTUuMjEzNzE0MTMtNTguNTE0Mjg1ODctMzQuNzE4NDc1NzQtMTc3Ljk2MTQ0NzQ2bDMuNjY2ODk0OTQtOS43NTIzODA4IDExLjAwMDY4NTg2LTUuNDYxMzMzMzRxMTM1LjkwOTE4MDggOTAuMTkwMDE5MiAzMDguNzIxMzcxNzQgOTAuMTkwMDE5MnQzMDkuMzQ1NTI0MjYtOTAuMTkwMDE5MnExMi43OTUxMjQyNyAzLjY2Njg5NDkzIDE0LjU4OTU2MTYgMTQuMDQzNDI4Mjd0LTMuMDQyNzQyNCAyNy40NjI3MDUwNy00LjgzNzE4MDggMjIuNTQ3NTA1MDZ6TTkzNy45NzE3NTE0NyAxOTEuNDE5NzMzMzNxLTE1LjgzNzg2NjY3IDEwMS44MTQ4NTc2LTY3LjY0MjUxNDE0IDM5OS4yMjM0NjY2Ny0zLjA0Mjc0MjQgMTguMjU2NDU3Ni0xNi40NjIwMTkyIDM0LjE3MjM0MjR0LTI2LjUyNjQ3NTczIDI0LjM0MTk0MjQtMzMuMjM2MTE0MTMgMTguODgwNjA5MDdxLTE1My42MTk1MDUwNyA3Ni43NzA3NDI0LTM3MS44Mzg3ODA4IDUzLjY3NzEwNTA2LTE1MS4xMjI4OTQ5My0xNi40NjIwMTkyLTI0MC4xNDI2MjgyNy04NC43Mjg2ODU4Ni05LjEyODIyODI3LTcuMzMzNzkwOTMtMTUuNTI1NzkwOTMtMTYuMTQ5OTQyNHQtMTAuMzc2NTMzMzQtMjEuMjk5Mi01LjQ2MTMzMzMzLTIwLjc1MzA2NjY3LTMuNjY2ODk0OTMtMjQuMTA3ODg1ODctMy4zNTQ4MTkyLTIxLjI5OTJxLTUuNDYxMzMzMzMtMzAuNTA1NDQ3NDctMTYuMTQ5OTQyNC05MS40MzgzMjQyNnQtMTcuMDg2MTcxNzQtOTguNDYwMDM4NC0xNC4zNTU1MDUwNi04OS44Nzc5NDI0LTEzLjQxOTI3NTc0LTk2LjI3NTUwNTA3cTEuNzk0NDM4NC0xNS44Mzc4NjY2NyAxMC42ODg2MDkwNy0yOS41NjkyMTkydDE5LjE5MjY4NTg3LTIyLjg1OTU4MDggMjcuNDYyNzA1MDYtMTguMjU2NDU3NiAyOC4wMDg4Mzg0LTEzLjczMTM1MjUzIDI5LjI1NzE0MjQtMTEuMzEyNzYxNnE3Ni4yMjQ2MDkwNy0yOC4wMDg4Mzg0IDE5MC43NTY1NzE3NC0zOS4wMDk1MjQyNyAyMzEuMDE0NC0yMi41NDc1MDUwNyA0MTIuMDE4NTkwOTMgMzAuNTA1NDQ3NDcgOTQuNDgxMDY2NjcgMjguMDA4ODM4NCAxMzEuMDcyIDc0LjM1MjE1MjUzIDkuNzUyMzgwOCAxMi4xNzA5NzE3MyAxMC4wNjQ0NTc2IDMxLjA1MTU4MDh0LTMuMzU0ODE5MiAzMi45MjQwMzg0eiIKICAgIH0KICB9KV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3N5bWJvbCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICJ2c3N1ZS1pY29uLWdpdGVhIiwKICAgICAgInZpZXdCb3giOiAiMCAwIDEwMjQgMTAyNCIKICAgIH0KICB9LCBbX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNMTg0LjMxODY4OTg1IDIzNi4xMDg2MDc0MkMxMDYuOTQ4MzI2NjcgMjM1Ljk0MDg2NjQ4IDMuMzI2NTU1MDggMjg1LjEzMDgwNDY4IDkuMDI5NzM2NjUgNDA4LjQ2MjA5OTM2YzguOTMyMTg4MjcgMTkyLjY1MDEwNzg3IDIwNi4zMjA5Njg0NSAyMTAuNTE0NDg0NCAyODUuMjAwOTk3MjUgMjEyLjA2NjA4NDUzIDguNjM4NjQxODYgMzYuMTQ4MTA0OTYgMTAxLjQ4MzA3NzY2IDE2MC43NzkzODg4MyAxNzAuMjE0Nzk4OTggMTY3LjMyMTI3MzIxaDMwMS4wOTQ0MjE3N2MxODAuNTcyNzgyODgtMTEuOTkzNDU0OTkgMzE1Ljc3MTcyNjExLTU0Ni4wNzk2MDM1OSAyMTUuNTQ2NzAyMTctNTQ4LjA5MjQ5MTA5LTE2NS43Njk2NzIxIDcuNzk5OTM5MDYtMjY0LjAyMzc0MzA1IDExLjc0MTg0NDA1LTM0OC4yNzE0NzE1MSAxMi40MTI4MDU5MXYxNjYuNjkyMjQ1ODVsLTI2LjI1MTQwODQzLTExLjYxNjAzNzYxLTAuMTY3NzM5OTctMTU0Ljk5MjMzNzI4Yy05Ni43MDI0Njk4NS0wLjA0MTkzNTQ4LTE4MS44MzA4Mzc1Ny00LjUyODk5Njg3LTM0My40MDY5OTQ3LTEyLjQ5NjY3Njg3LTIwLjIxMjc0NDk2LTAuMTI1ODA1NDctNDguMzkzMTY5OTItMy41NjQ0ODg2LTc4LjY3MDM1MjM2LTMuNjQ4MzU4NTl6IG0xMC45NDUwNzU3NyA2OC4xNDQ2Mjg0OWg5LjIyNTczMzcxYzEwLjk4NzAxMTI0IDk4Ljc1NzI5MjgzIDI4Ljg1MTM4Nzc4IDE1Ni41MDIwMDI5MSA2NC45OTk0OTI3NCAyNDQuNzMzNTcxODUtOTIuMjU3MzQzOTQtMTAuOTAzMTQwMjktMTcwLjc1OTk1NjM0LTM3LjY5OTcwNTA5LTE4NS4xODU2NDk3NC0xMzcuNzU2OTg4MDktNy40NjQ0NTgxMy01MS43ODk5MTc1NyAxNy42OTY2MzU1OC0xMDUuODQ0MzM0NTYgMTEwLjk2MDQyMzI5LTEwNy4wMTg1MTgyN3ogbTM1OC44MzkxMzA4NyA5Ny4wNzk4ODcyM2M2LjI5MDI3MzQzIDAuMDgzODY5OTkgMTIuNzA2MzUyMzMgMS4yNTgwNTQ2OCAxOC43NDUwMTQ4MiA0LjAyNTc3NDk5bDMxLjQwOTQzMjYzIDEzLjU0NTA1NTEzLTIyLjUxOTE3ODg3IDQxLjA1NDUxODI0YTI4LjE4MDQyNDk2IDI1LjAzNTI4ODI1IDAgMCAwLTEwLjEwNjM3Mjk3IDEuNTkzNTM1NjEgMjguMTgwNDI0OTYgMjUuMDM1Mjg4MjUgMCAwIDAtMTYuOTgzNzM4MjUgMzIuMDM4NDU5IDI4LjE4MDQyNDk2IDI1LjAzNTI4ODI1IDAgMCAwIDQuNjk2NzM3ODEgNy4yOTY3MTcxOGwtMzguODMxOTU1MjggNzAuNzAyNjczMzNhMjguMTgwNDI0OTYgMjUuMDM1Mjg4MjUgMCAwIDAtOS4zMDk2MDQ2NyAxLjU5MzUzNjU5IDI4LjE4MDQyNDk2IDI1LjAzNTI4ODI1IDAgMCAwLTE2Ljk4MzczODI1IDMyLjAzODQ1OSAyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMCAzNi4wNjQyMzQ5NyAxNS4wOTY2NTYyMyAyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMCAxNi45NDE4MDI3Ni0zMi4wODAzOTQ0OSAyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMC02LjYyNTc1NDM0LTkuMjI1NzM0NjhsMzcuODI1NTEwNTYtNjguODU3NTI1ODFhMjguMTgwNDI0OTYgMjUuMDM1Mjg4MjUgMCAwIDAgMTIuMjg3MDAwNDQtMS4yNTgwNTQ2OSAyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMCA4LjkzMjE4ODI2LTQuNjk2NzM3ODNjMTQuNTkzNDM0MzUgNi4xMjI1MzI0OCAyNi41NDQ5NTM4NiAxMS4xMTI4MTY3MSAzNS4xNDE2NjEyMiAxNS4zNDgyNjcxNyAxMi45MTYwMjc3OCA2LjM3NDE0MzQxIDE3LjQ4Njk2MDEyIDEwLjYwOTU5NDg1IDE4Ljg3MDgyMDI3IDE1LjMwNjMzMTY5IDEuMzgzODYwMTUgNC42MTI4NjY4NS0wLjEyNTgwNTQ3IDEzLjUwMzEyMDYyLTcuNDIyNTIyNjMgMjkuMTAyOTk4NzItNS40NTE1NzA2MyAxMS42MTYwMzg1OS0xNC40Njc2Mjg4OSAyOC4wOTY1NTQ5Ny0yNS4xMTkxNTgyMyA0Ny41MTI1MzE2NGEyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMC0xMC41MjU3MjQ4NiAxLjU5MzUzNjU5IDI4LjE4MDQyNDk2IDI1LjAzNTI4ODI1IDAgMCAwLTE2Ljk4MzczODI2IDMyLjAzODQ1OSAyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMCAzNi4wNjQyMzQ5OCAxNS4wOTY2NTYyMyAyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMCAxNi45NDE4MDI3OC0zMi4wMzg0NTkwMSAyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMC01Ljc0NTExNjA4LTguNDcwOTAxODhjMTAuNTI1NzIzODgtMTkuMjA2MzAxMjIgMTkuNTgzNzE3NjItMzUuNzI4NzUzMDggMjUuNDEyNzA0NjUtNDguMTQxNTU4OTcgNy44ODM4MDkwNC0xNi44NTc5MzI3OSAxMS45OTM0NTQ5OS0yOS4zOTY1NDQxNiA4LjM4NzAzMDkxLTQxLjUxNTgwNDYzLTMuNjA2NDIzMTEtMTIuMTE5MjYwNDYtMTQuNjc3MzA0MzQtMjAuMDAzMDY5NS0yOS4zNTQ2MDk2Ni0yNy4yNTc4NTIxNy05LjY0NTA4NTYtNC43Mzg2NzIzMy0yMS42ODA0NzYwNy05Ljc3MDg5MTA2LTM2LjA2NDIzMzk5LTE1LjgwOTU1MzU3YTI4LjE4MDQyNDk2IDI1LjAzNTI4ODI1IDAgMCAwLTEuNTkzNTM1NjItMTAuMDIyNTAyIDI4LjE4MDQyNDk2IDI1LjAzNTI4ODI1IDAgMCAwLTYuMDgwNTk3OTYtOC43NjQ0NDgzbDIyLjE0MTc2MjQ2LTQwLjM4MzU1NTQxIDEyMi42MTgzOTYzOCA1Mi45NjQxMDIyN2MyMi4xNDE3NjI0NyA5LjYwMzE1MTEgMzEuMjgzNjI2MiAzMy4xMjg3NzM3MiAyMC41NDgyMjY4NSA1Mi44MzgyOTY4bC04NC4yODk2NjM5MyAxNTQuMzIxMzc1NDRjLTEwLjc3NzMzNDgyIDE5LjY2NzU4ODU3LTM3LjIzODQxODY5IDI3LjgwMzAwODU1LTU5LjM4MDE4MTE4IDE4LjI0MTc5MjkzbC0xNzMuNDg1NzQxMTUtNzQuOTgwMDU5MjdjLTIyLjE0MTc2MjQ3LTkuNTYxMjE1Ni0zMS4zMjU1NjE2Ny0zMy4xMjg3NzM3Mi0yMC41NDgyMjY4Ny01Mi44MzgyOTY3OWw4NC4yODk2NjM5NS0xNTQuMjc5NDM5OTVjNy4zODA1ODcxNi0xMy41NDUwNTUxMyAyMi4yMjU2MzI0Ni0yMS41OTY2MDUxMSAzNy45NTEzMTctMjIuMjI1NjMyNDZoMi42ODM4NDkzNXoiCiAgICB9CiAgfSldKSwgX3ZtLl92KCIgIiksIF9jKCdzeW1ib2wnLCB7CiAgICBhdHRyczogewogICAgICAiaWQiOiAidnNzdWUtaWNvbi1naXRlZSIsCiAgICAgICJ2aWV3Qm94IjogIjAgMCAxMDI0IDEwMjQiCiAgICB9CiAgfSwgW19jKCdwYXRoJywgewogICAgYXR0cnM6IHsKICAgICAgImQiOiAiTTk3OC40MDQyNzUgNDA5LjU2MTYwNEg0NTUuMDYxMzM4Yy0yNS4xMTc2NDUgMC00NS40OTk3MzQgMjAuMzgyMDg5LTQ1LjQ5OTczNCA0NS40OTk3MzRsLTAuMDMxOTk3IDExMy43ODEzMzNjMCAyNS4xMTc2NDUgMjAuMzUwMDkyIDQ1LjQ5OTczNCA0NS40OTk3MzQgNDUuNTMxNzMxaDMxOC41OTQxMzJjMjUuMTE3NjQ1IDAgNDUuNDk5NzM0IDIwLjM4MjA4OSA0NS40OTk3MzQgNDUuNDk5NzM1djIyLjc0OTg2N2ExMzYuNTMxMiAxMzYuNTMxMiAwIDAgMS0xMzYuNTMxMiAxMzYuNTMxMkgyNTAuMjQ4NTM5YTQ1LjQ5OTczNCA0NS40OTk3MzQgMCAwIDEtNDUuNDk5NzM0LTQ1LjQ5OTczNFYzNDEuMzQzOTk5YTEzNi41MzEyIDEzNi41MzEyIDAgMCAxIDEzNi41MzEyLTEzNi41MzEyTDk3OC4zMDgyODQgMjA0Ljc4MDgwMmMyNS4xMTc2NDUgMCA0NS40OTk3MzQtMjAuMzUwMDkyIDQ1LjQ5OTczNC00NS40Njc3MzhMMTAyMy45MDQwMDkgNDUuNTMxNzMxaDAuMDMxOTk3QTQ1LjQ5OTczNCA0NS40OTk3MzQgMCAwIDAgOTc4LjQ2ODI2OSAwaC0wLjAzMTk5N0wzNDEuMzQzOTk5IDAuMDMxOTk3QzE1Mi44NDk2NyAwLjAzMTk5NyAwLjAzMTk5NyAxNTIuODQ5NjcgMC4wMzE5OTcgMzQxLjM0Mzk5OXY2MzcuMDkyMjczYzAgMjUuMTE3NjQ1IDIwLjM4MjA4OSA0NS40OTk3MzQgNDUuNDk5NzM0IDQ1LjQ5OTczNGg2NzEuMjMzMDcyYTMwNy4xNzEyMDMgMzA3LjE3MTIwMyAwIDAgMCAzMDcuMTcxMjAzLTMwNy4xNzEyMDN2LTI2MS42NzE0NjhjMC0yNS4xMTc2NDUtMjAuMzgyMDg5LTQ1LjQ5OTczNC00NS40OTk3MzQtNDUuNDk5NzM0eiIKICAgIH0KICB9KV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3N5bWJvbCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICJ2c3N1ZS1pY29uLWdpdGh1YiIsCiAgICAgICJ2aWV3Qm94IjogIjAgMCAxMDI0IDEwMjQiCiAgICB9CiAgfSwgW19jKCdwYXRoJywgewogICAgYXR0cnM6IHsKICAgICAgImQiOiAiTTUxMiAyMC40NDI1Yy0yNzguMzM0IDAtNTA0IDIyNS42MzQ1LTUwNCA1MDQgMCAyMjIuNjczNSAxNDQuNDI3NSA0MTEuNjEwNSAzNDQuNjczIDQ3OC4yMzMgMjUuMiA0LjY2MiAzNC40NjEtMTAuOTMwNSAzNC40NjEtMjQuMjU1IDAtMTIuMDAxNS0wLjQ3MjUtNTEuNzIzLTAuNjkzLTkzLjgzODUtMTQwLjIzOCAzMC40OTItMTY5LjgxNjUtNTkuNDcyLTE2OS44MTY1LTU5LjQ3Mi0yMi45MzItNTguMjQzNS01NS45NDQtNzMuNzQxNS01NS45NDQtNzMuNzQxNS00NS43MzgtMzEuMjc5NSAzLjQ2NS0zMC42NDk1IDMuNDY1LTMwLjY0OTUgNTAuNTg5IDMuNTU5NSA3Ny4yMzggNTEuOTQzNSA3Ny4yMzggNTEuOTQzNSA0NC45NTA1IDc3LjA0OSAxMTcuOTA0NSA1NC43Nzg1IDE0Ni42NjQgNDEuODk1IDQuNTA0NS0zMi41NzEgMTcuNTc3LTU0LjgxIDMyLjAwNC02Ny40MS0xMTEuOTUxLTEyLjcyNi0yMjkuNjM1LTU1Ljk3NTUtMjI5LjYzNS0yNDkuMDcwNSAwLTU1LjAzMDUgMTkuNjg3NS05OS45ODEgNTEuOTQzNS0xMzUuMjkyNS01LjIyOS0xMi42OTQ1LTIyLjQ5MS02My45NDUgNC44ODI1LTEzMy4zNzEgMCAwIDQyLjMzNi0xMy41NDUgMTM4LjYzMTUgNTEuNjYgNDAuMTk0LTExLjE4MjUgODMuMzE3NS0xNi43NTggMTI2LjE1NzUtMTYuOTc4NSA0Mi44MDg1IDAuMTg5IDg1Ljk2MzUgNS43OTYgMTI2LjI1MiAxNi45Nzg1IDk2LjIwMS02NS4yMDUgMTM4LjQ0MjUtNTEuNjYgMTM4LjQ0MjUtNTEuNjYgMjcuNDM2NSA2OS40MjYgMTAuMTc0NSAxMjAuNjc2NSA0Ljk0NTUgMTMzLjM3MSAzMi4zMTkgMzUuMjggNTEuODgwNSA4MC4yNjIgNTEuODgwNSAxMzUuMjkyNSAwIDE5My41Njc1LTExNy45MDQ1IDIzNi4xODctMjMwLjEzOSAyNDguNjkyNSAxOC4wODEgMTUuNjU1NSAzNC4xNzc1IDQ2LjMwNSAzNC4xNzc1IDkzLjMzNDUgMCA2Ny40NDE1LTAuNTk4NSAxMjEuNzE2LTAuNTk4NSAxMzguMzE2NSAwIDEzLjQxOSA5LjA3MiAyOS4xMzc1IDM0LjYxODUgMjQuMTkyIDIwMC4xNTEtNjYuNzE3IDM0NC4zODk1LTI1NS41NTk1IDM0NC4zODk1LTQ3OC4xNyAwLTI3OC4zNjU1LTIyNS42NjYtNTA0LTUwNC01MDR6IgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygnc3ltYm9sJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogInZzc3VlLWljb24tZ2l0bGFiIiwKICAgICAgInZpZXdCb3giOiAiMCAwIDEwMjQgMTAyNCIKICAgIH0KICB9LCBbX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNNjYuNjEzNzU5ODYgNDA1LjExNjAwMDQyTDUxMi4xMTM3NjAyOCA5NzYuMDM5OTk5NzIgMjMuODQ1NzYgNjIxLjY1NTk5OTU4YTM5LjMxMiAzOS4zMTIgMCAwIDEtMTQuMDc2MDAwNDItNDMuMzA3OTk5NDRsNTYuODA4MDAwNy0xNzMuMjY4MDAwMjh6IG0yNTkuODg0MDAwMTQgMGgzNzEuMjY4MDAwMTRMNTEyLjE0OTc1OTg2IDk3Ni4wMzk5OTk3MnpNMjE1LjExMzc2IDYwLjg4NDAwMDQybDExMS4zODQgMzQ0LjIzMkg2Ni42MTM3NTk4NmwxMTEuMzg0LTM0NC4yMzJhMTkuNzI4MDAwMTQgMTkuNzI4MDAwMTQgMCAwIDEgMzcuMTE2MDAwMTQgMHogbTc0Mi40OTk5OTk3MiAzNDQuMjMybDU2LjgwODAwMDcgMTczLjI2Nzk5OTNhMzkuMjM5OTk5ODYgMzkuMjM5OTk5ODYgMCAwIDEtMTQuMDc2MDAwNDIgNDMuMzA4MDAwNDJsLTQ4OC4yNjgwMDAyOCAzNTQuMzg0MDAwMTQgNDQ1LjUwMDAwMDQyLTU3MC45MjQwMDAyOHogbTAgMGgtMjU5Ljg4NDAwMDE0bDExMS4zODQtMzQ0LjIzMmExOS43MjgwMDAxNCAxOS43MjgwMDAxNCAwIDAgMSAzNy4xMTYwMDAxNCAweiIKICAgIH0KICB9KV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3N5bWJvbCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICJ2c3N1ZS1pY29uLWxvYWRpbmciLAogICAgICAidmlld0JveCI6ICIwIDAgMTAyNCAxMDI0IgogICAgfQogIH0sIFtfYygncGF0aCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJkIjogIk04NDMuMzA3IDc0Mi4yNGMwIDMuMjE3IDIuNjA3IDUuODI0IDUuODI0IDUuODI0czUuODI0LTIuNjA3IDUuODI0LTUuODI0YTUuODIzIDUuODIzIDAgMCAwLTUuODI0LTUuODI0IDUuODIzIDUuODIzIDAgMCAwLTUuODI0IDUuODI0ek03MTQuNzMxIDg3NC45MTJjMCA2LjM5OCA1LjE4NiAxMS41ODQgMTEuNTg0IDExLjU4NHMxMS41ODQtNS4xODYgMTEuNTg0LTExLjU4NC01LjE4Ni0xMS41ODQtMTEuNTg0LTExLjU4NC0xMS41ODQgNS4xODYtMTEuNTg0IDExLjU4NHpNNTQxLjQxOSA5NDMuMmMwIDkuNjE0IDcuNzk0IDE3LjQwOCAxNy40MDggMTcuNDA4czE3LjQwOC03Ljc5NCAxNy40MDgtMTcuNDA4LTcuNzk0LTE3LjQwOC0xNy40MDgtMTcuNDA4LTE3LjQwOCA3Ljc5NC0xNy40MDggMTcuNDA4eiBtLTE4Ni41Ni05LjE1MmMwIDEyLjc5NSAxMC4zNzMgMjMuMTY4IDIzLjE2OCAyMy4xNjhzMjMuMTY4LTEwLjM3MyAyMy4xNjgtMjMuMTY4LTEwLjM3My0yMy4xNjgtMjMuMTY4LTIzLjE2OC0yMy4xNjggMTAuMzczLTIzLjE2OCAyMy4xNjh6TTE4OS4zNTUgODQ5LjEyYzAgMTYuMDEyIDEyLjk4IDI4Ljk5MiAyOC45OTIgMjguOTkyczI4Ljk5Mi0xMi45OCAyOC45OTItMjguOTkyLTEyLjk4LTI4Ljk5Mi0yOC45OTItMjguOTkyLTI4Ljk5MiAxMi45OC0yOC45OTIgMjguOTkyek03NC43MzEgNzA0LjczNmMwIDE5LjIyOCAxNS41ODggMzQuODE2IDM0LjgxNiAzNC44MTZzMzQuODE2LTE1LjU4OCAzNC44MTYtMzQuODE2LTE1LjU4OC0zNC44MTYtMzQuODE2LTM0LjgxNi0zNC44MTYgMTUuNTg4LTM0LjgxNiAzNC44MTZ6IG0tNDMuMDA4LTE3Ny4yOGMwIDIyLjQxIDE4LjE2NiA0MC41NzYgNDAuNTc2IDQwLjU3NnM0MC41NzYtMTguMTY2IDQwLjU3Ni00MC41NzYtMTguMTY2LTQwLjU3Ni00MC41NzYtNDAuNTc2LTQwLjU3NiAxOC4xNjYtNDAuNTc2IDQwLjU3NnogbTM1LjM5Mi0xNzYuMTI4YzAgMjUuNjI2IDIwLjc3NCA0Ni40IDQ2LjQgNDYuNHM0Ni40LTIwLjc3NCA0Ni40LTQ2LjRjMC0yNS42MjYtMjAuNzc0LTQ2LjQtNDYuNC00Ni40LTI1LjYyNiAwLTQ2LjQgMjAuNzc0LTQ2LjQgNDYuNHogbTEwNi4xNzYtMTQyLjAxNmMwIDI4Ljg0MyAyMy4zODEgNTIuMjI0IDUyLjIyNCA1Mi4yMjRzNTIuMjI0LTIzLjM4MSA1Mi4yMjQtNTIuMjI0YzAtMjguODQzLTIzLjM4MS01Mi4yMjQtNTIuMjI0LTUyLjIyNC0yOC44NDMgMC01Mi4yMjQgMjMuMzgxLTUyLjIyNCA1Mi4yMjR6IG0xNTUuOTA0LTgxLjM0NGMwIDMyLjAyNCAyNS45NiA1Ny45ODQgNTcuOTg0IDU3Ljk4NHM1Ny45ODQtMjUuOTYgNTcuOTg0LTU3Ljk4NC0yNS45Ni01Ny45ODQtNTcuOTg0LTU3Ljk4NC01Ny45ODQgMjUuOTYtNTcuOTg0IDU3Ljk4NHogbTE3NS4xMDQtNS4wNTZjMCAzNS4yNCAyOC41NjggNjMuODA4IDYzLjgwOCA2My44MDhzNjMuODA4LTI4LjU2OCA2My44MDgtNjMuODA4YzAtMzUuMjQtMjguNTY4LTYzLjgwOC02My44MDgtNjMuODA4LTM1LjI0IDAtNjMuODA4IDI4LjU2OC02My44MDggNjMuODA4eiBtMTYwLjMyIDcyLjEyOGMwIDM4LjQyMSAzMS4xNDcgNjkuNTY4IDY5LjU2OCA2OS41NjhzNjkuNTY4LTMxLjE0NyA2OS41NjgtNjkuNTY4LTMxLjE0Ny02OS41NjgtNjkuNTY4LTY5LjU2OC02OS41NjggMzEuMTQ3LTY5LjU2OCA2OS41Njh6IG0xMTMuOTIgMTM1LjQ4OGMwIDQxLjYzOCAzMy43NTQgNzUuMzkyIDc1LjM5MiA3NS4zOTJzNzUuMzkyLTMzLjc1NCA3NS4zOTItNzUuMzkyLTMzLjc1NC03NS4zOTItNzUuMzkyLTc1LjM5Mi03NS4zOTIgMzMuNzU0LTc1LjM5MiA3NS4zOTJ6IG00NS4zMTIgMTc1LjQ4OGMwIDQ0Ljg1NCAzNi4zNjIgODEuMjE2IDgxLjIxNiA4MS4yMTZzODEuMjE2LTM2LjM2MiA4MS4yMTYtODEuMjE2YzAtNDQuODU0LTM2LjM2Mi04MS4yMTYtODEuMjE2LTgxLjIxNi00NC44NTQgMC04MS4yMTYgMzYuMzYyLTgxLjIxNiA4MS4yMTZ6IgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygnc3ltYm9sJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogInZzc3VlLWljb24tbGlrZSIsCiAgICAgICJ2aWV3Qm94IjogIjAgMCAxMDI0IDEwMjQiCiAgICB9CiAgfSwgW19jKCdwYXRoJywgewogICAgYXR0cnM6IHsKICAgICAgImQiOiAiTTg4NS45IDUzMy43YzE2LjgtMjIuMiAyNi4xLTQ5LjQgMjYuMS03Ny43IDAtNDQuOS0yNS4xLTg3LjQtNjUuNS0xMTEuMWE2Ny42NyA2Ny42NyAwIDAgMC0zNC4zLTkuM0g1NzIuNGw2LTEyMi45YzEuNC0yOS43LTkuMS01Ny45LTI5LjUtNzkuNC0yMC41LTIxLjUtNDguMS0zMy40LTc3LjktMzMuNC01MiAwLTk4IDM1LTExMS44IDg1LjFsLTg1LjkgMzExSDE0NGMtMTcuNyAwLTMyIDE0LjMtMzIgMzJ2MzY0YzAgMTcuNyAxNC4zIDMyIDMyIDMyaDYwMS4zYzkuMiAwIDE4LjItMS44IDI2LjUtNS40IDQ3LjYtMjAuMyA3OC4zLTY2LjggNzguMy0xMTguNCAwLTEyLjYtMS44LTI1LTUuNC0zNyAxNi44LTIyLjIgMjYuMS00OS40IDI2LjEtNzcuNyAwLTEyLjYtMS44LTI1LTUuNC0zNyAxNi44LTIyLjIgMjYuMS00OS40IDI2LjEtNzcuNy0wLjItMTIuNi0yLTI1LjEtNS42LTM3LjF6TTE4NCA4NTJWNTY4aDgxdjI4NGgtODF6IG02MzYuNC0zNTNsLTIxLjkgMTkgMTMuOSAyNS40YzQuNiA4LjQgNi45IDE3LjYgNi45IDI3LjMgMCAxNi41LTcuMiAzMi4yLTE5LjYgNDNsLTIxLjkgMTkgMTMuOSAyNS40YzQuNiA4LjQgNi45IDE3LjYgNi45IDI3LjMgMCAxNi41LTcuMiAzMi4yLTE5LjYgNDNsLTIxLjkgMTkgMTMuOSAyNS40YzQuNiA4LjQgNi45IDE3LjYgNi45IDI3LjMgMCAyMi40LTEzLjIgNDIuNi0zMy42IDUxLjhIMzI5VjU2NC44bDk5LjUtMzYwLjVjNS4yLTE4LjkgMjIuNS0zMi4yIDQyLjItMzIuMyA3LjYgMCAxNS4xIDIuMiAyMS4xIDYuNyA5LjkgNy40IDE1LjIgMTguNiAxNC42IDMwLjVsLTkuNiAxOTguNGgzMTQuNEM4MjkgNDE4LjUgODQwIDQzNi45IDg0MCA0NTZjMCAxNi41LTcuMiAzMi4xLTE5LjYgNDN6IgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygnc3ltYm9sJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogInZzc3VlLWljb24tdW5saWtlIiwKICAgICAgInZpZXdCb3giOiAiMCAwIDEwMjQgMTAyNCIKICAgIH0KICB9LCBbX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNODg1LjkgNDkwLjNjMy42LTEyIDUuNC0yNC40IDUuNC0zNyAwLTI4LjMtOS4zLTU1LjUtMjYuMS03Ny43IDMuNi0xMiA1LjQtMjQuNCA1LjQtMzcgMC0yOC4zLTkuMy01NS41LTI2LjEtNzcuNyAzLjYtMTIgNS40LTI0LjQgNS40LTM3IDAtNTEuNi0zMC43LTk4LjEtNzguMy0xMTguNC04LjMtMy42LTE3LjItNS40LTI2LjUtNS40SDE0NGMtMTcuNyAwLTMyIDE0LjMtMzIgMzJ2MzY0YzAgMTcuNyAxNC4zIDMyIDMyIDMyaDEyOS4zbDg1LjggMzEwLjhDMzcyLjkgODg5IDQxOC45IDkyNCA0NzAuOSA5MjRjMjkuNyAwIDU3LjQtMTEuOCA3Ny45LTMzLjQgMjAuNS0yMS41IDMxLTQ5LjcgMjkuNS03OS40bC02LTEyMi45aDIzOS45YzEyLjEgMCAyMy45LTMuMiAzNC4zLTkuMyA0MC40LTIzLjUgNjUuNS02Ni4xIDY1LjUtMTExIDAtMjguMy05LjMtNTUuNS0yNi4xLTc3Ljd6TTE4NCA0NTZWMTcyaDgxdjI4NGgtODF6IG02MjcuMiAxNjAuNEg0OTYuOGw5LjYgMTk4LjRjMC42IDExLjktNC43IDIzLjEtMTQuNiAzMC41LTYuMSA0LjUtMTMuNiA2LjgtMjEuMSA2LjctMTkuNi0wLjEtMzYuOS0xMy40LTQyLjItMzIuM0wzMjkgNDU5LjJWMTcyaDQxNS40YzIwLjQgOS4yIDMzLjYgMjkuNCAzMy42IDUxLjggMCA5LjctMi4zIDE4LjktNi45IDI3LjNsLTEzLjkgMjUuNCAyMS45IDE5YzEyLjUgMTAuOCAxOS42IDI2LjUgMTkuNiA0MyAwIDkuNy0yLjMgMTguOS02LjkgMjcuM2wtMTMuOSAyNS40IDIxLjkgMTljMTIuNSAxMC44IDE5LjYgMjYuNSAxOS42IDQzIDAgOS43LTIuMyAxOC45LTYuOSAyNy4zbC0xNCAyNS41IDIxLjkgMTljMTIuNSAxMC44IDE5LjYgMjYuNSAxOS42IDQzIDAgMTkuMS0xMSAzNy41LTI4LjggNDguNHoiCiAgICB9CiAgfSldKSwgX3ZtLl92KCIgIiksIF9jKCdzeW1ib2wnLCB7CiAgICBhdHRyczogewogICAgICAiaWQiOiAidnNzdWUtaWNvbi1oZWFydCIsCiAgICAgICJ2aWV3Qm94IjogIjAgMCAxMDI0IDEwMjQiCiAgICB9CiAgfSwgW19jKCdwYXRoJywgewogICAgYXR0cnM6IHsKICAgICAgImQiOiAiTTkyMyAyODMuNmMtMTMuNC0zMS4xLTMyLjYtNTguOS01Ni45LTgyLjgtMjQuMy0yMy44LTUyLjUtNDIuNC04NC01NS41LTMyLjUtMTMuNS02Ni45LTIwLjMtMTAyLjQtMjAuMy00OS4zIDAtOTcuNCAxMy41LTEzOS4yIDM5LTEwIDYuMS0xOS41IDEyLjgtMjguNSAyMC4xLTktNy4zLTE4LjUtMTQtMjguNS0yMC4xLTQxLjgtMjUuNS04OS45LTM5LTEzOS4yLTM5LTM1LjUgMC02OS45IDYuOC0xMDIuNCAyMC4zLTMxLjQgMTMtNTkuNyAzMS43LTg0IDU1LjUtMjQuNCAyMy45LTQzLjUgNTEuNy01Ni45IDgyLjgtMTMuOSAzMi4zLTIxIDY2LjYtMjEgMTAxLjkgMCAzMy4zIDYuOCA2OCAyMC4zIDEwMy4zIDExLjMgMjkuNSAyNy41IDYwLjEgNDguMiA5MSAzMi44IDQ4LjkgNzcuOSA5OS45IDEzMy45IDE1MS42IDkyLjggODUuNyAxODQuNyAxNDQuOSAxODguNiAxNDcuM2wyMy43IDE1LjJjMTAuNSA2LjcgMjQgNi43IDM0LjUgMGwyMy43LTE1LjJjMy45LTIuNSA5NS43LTYxLjYgMTg4LjYtMTQ3LjMgNTYtNTEuNyAxMDEuMS0xMDIuNyAxMzMuOS0xNTEuNiAyMC43LTMwLjkgMzctNjEuNSA0OC4yLTkxIDEzLjUtMzUuMyAyMC4zLTcwIDIwLjMtMTAzLjMgMC4xLTM1LjMtNy02OS42LTIwLjktMTAxLjl6TTUxMiA4MTQuOFMxNTYgNTg2LjcgMTU2IDM4NS41QzE1NiAyODMuNiAyNDAuMyAyMDEgMzQ0LjMgMjAxYzczLjEgMCAxMzYuNSA0MC44IDE2Ny43IDEwMC40QzU0My4yIDI0MS44IDYwNi42IDIwMSA2NzkuNyAyMDFjMTA0IDAgMTg4LjMgODIuNiAxODguMyAxODQuNSAwIDIwMS4yLTM1NiA0MjkuMy0zNTYgNDI5LjN6IgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygnc3ltYm9sJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogInZzc3VlLWljb24tZWRpdCIsCiAgICAgICJ2aWV3Qm94IjogIjAgMCAxMDI0IDEwMjQiCiAgICB9CiAgfSwgW19jKCdwYXRoJywgewogICAgYXR0cnM6IHsKICAgICAgImQiOiAiTTcyMy4yIDkxNy43NkgyODYuNzJjLTY1LjI4IDAtMTE4LjQtNTEuMi0xMTguNC0xMTMuOTJWMjYxLjc2QzE2OC4zMiAxOTguNCAyMjEuNDQgMTQ3LjIgMjg2LjcyIDE0Ny4yaDM3NS4wNGMxNy45MiAwIDMyIDE0LjA4IDMyIDMycy0xNC4wOCAzMi0zMiAzMkgyODYuNzJjLTMwLjA4IDAtNTQuNCAyMi40LTU0LjQgNDkuOTJ2NTQyLjA4YzAgMjcuNTIgMjQuMzIgNDkuOTIgNTQuNCA0OS45Mkg3MjMuMmMzMC4wOCAwIDU0LjQtMjIuNCA1NC40LTQ5LjkyVjQ0MC4zMmMwLTE3LjkyIDE0LjA4LTMyIDMyLTMyczMyIDE0LjA4IDMyIDMydjM2My41MmMwIDYyLjcyLTUzLjEyIDExMy45Mi0xMTguNCAxMTMuOTJ6IgogICAgfQogIH0pLCBfdm0uX3YoIiAiKSwgX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNNDk5Ljg0IDYwMi4yNGMtNy42OCAwLTE0LjcyLTIuNTYtMjEuMTItNy42OC0xMy40NC0xMS41Mi0xNC43Mi0zMi0zLjItNDUuNDRMNzgwLjE2IDE5OC40YzExLjUyLTEzLjQ0IDMyLTE0LjcyIDQ1LjQ0LTMuMnMxNC43MiAzMiAzLjIgNDUuNDRMNTI0LjE2IDU5MS4zNmMtNi40IDcuMDQtMTUuMzYgMTAuODgtMjQuMzIgMTAuODh6IgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygnc3ltYm9sJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogInZzc3VlLWljb24tZGVsZXRlIiwKICAgICAgInZpZXdCb3giOiAiMCAwIDEwMjQgMTAyNCIKICAgIH0KICB9LCBbX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNNjc3LjY0NzA1OSAyNTZsMC05MC4zNTI5NDFjMC0zNy40MzYyMzUtMjMuNDYxNjQ3LTYwLjIzNTI5NC02MS43NzEyOTQtNjAuMjM1Mjk0TDQwOC4wOTQxMTggMTA1LjQxMTc2NWMtMzguMjQ5NDEyIDAtNjEuNzQxMTc2IDIyLjc5OTA1OS02MS43NDExNzYgNjAuMjM1Mjk0bDAgOTAuMzUyOTQxLTE4MC43MDU4ODIgMCAwIDYwLjIzNTI5NCA2MC4yMzUyOTQgMCAwIDUxMmMwIDU0LjI3MiAzMy45NzI3MDYgOTAuMzUyOTQxIDkwLjM1Mjk0MSA5MC4zNTI5NDFsMzkxLjUyOTQxMiAwYzU1LjA4NTE3NiAwIDkwLjM1Mjk0MS0zMy40OTA4MjQgOTAuMzUyOTQxLTkwLjM1Mjk0MWwwLTUxMiA2MC4yMzUyOTQgMCAwLTYwLjIzNTI5NEw2NzcuNjQ3MDU5IDI1NnpNNDA2LjU4ODIzNSAxNjUuNjQ3MDU5bDIxMC44MjM1MjkgMC0xLjI2NDk0MSA5MC4zNTI5NDFMNDA2LjU4ODIzNSAyNTYgNDA2LjU4ODIzNSAxNjUuNjQ3MDU5ek03MzcuODgyMzUzIDg1OC4zNTI5NDFsLTQ1MS43NjQ3MDYgMCAwLTU0Mi4xMTc2NDcgNDUxLjc2NDcwNiAwTDczNy44ODIzNTMgODU4LjM1Mjk0MXpNNDY2LjgyMzUyOSAzNzYuNDcwNTg4bC01OC43Mjk0MTIgMC0xLjUwNTg4MiAzOTEuNTI5NDEyIDYwLjIzNTI5NCAwTDQ2Ni44MjM1MjkgMzc2LjQ3MDU4OHpNNjE3LjQxMTc2NSAzNzYuNDcwNTg4bC02MC4yMzUyOTQgMCAwIDM5MS41Mjk0MTIgNjAuMjM1Mjk0IDBMNjE3LjQxMTc2NSAzNzYuNDcwNTg4eiIKICAgIH0KICB9KV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3N5bWJvbCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICJ2c3N1ZS1pY29uLXJlcGx5IiwKICAgICAgInZpZXdCb3giOiAiMCAwIDEwMjQgMTAyNCIKICAgIH0KICB9LCBbX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNNDI2LjY2NjY2NyAzODQgNDI2LjY2NjY2NyAyMTMuMzMzMzMzIDEyOCA1MTIgNDI2LjY2NjY2NyA4MTAuNjY2NjY3IDQyNi42NjY2NjcgNjM1LjczMzMzM0M2NDAgNjM1LjczMzMzMyA3ODkuMzMzMzMzIDcwNCA4OTYgODUzLjMzMzMzMyA4NTMuMzMzMzMzIDY0MCA3MjUuMzMzMzMzIDQyNi42NjY2NjcgNDI2LjY2NjY2NyAzODRaIgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygnc3ltYm9sJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogInZzc3VlLWljb24tZXJyb3IiLAogICAgICAidmlld0JveCI6ICIwIDAgMTAyNCAxMDI0IgogICAgfQogIH0sIFtfYygncGF0aCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJkIjogIk01MTIgNzIwbS00OCAwYTQ4IDQ4IDAgMSAwIDk2IDAgNDggNDggMCAxIDAtOTYgMFoiCiAgICB9CiAgfSksIF92bS5fdigiICIpLCBfYygncGF0aCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJkIjogIk00ODAgNDE2djE4NGMwIDQuNCAzLjYgOCA4IDhoNDhjNC40IDAgOC0zLjYgOC04VjQxNmMwLTQuNC0zLjYtOC04LThoLTQ4Yy00LjQgMC04IDMuNi04IDh6IgogICAgfQogIH0pLCBfdm0uX3YoIiAiKSwgX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNOTU1LjcgODU2bC00MTYtNzIwYy02LjItMTAuNy0xNi45LTE2LTI3LjctMTZzLTIxLjYgNS4zLTI3LjcgMTZsLTQxNiA3MjBDNTYgODc3LjQgNzEuNCA5MDQgOTYgOTA0aDgzMmMyNC42IDAgNDAtMjYuNiAyNy43LTQ4eiBtLTc4My41LTI3LjlMNTEyIDIzOS45bDMzOS44IDU4OC4ySDE3Mi4yeiIKICAgIH0KICB9KV0pXSk7Cn07Cgp2YXIgX192dWVfc3RhdGljUmVuZGVyRm5zX18gPSBbXTsKLyogc3R5bGUgKi8KCmNvbnN0IF9fdnVlX2luamVjdF9zdHlsZXNfXyA9IHVuZGVmaW5lZDsKLyogc2NvcGVkICovCgpjb25zdCBfX3Z1ZV9zY29wZV9pZF9fID0gdW5kZWZpbmVkOwovKiBtb2R1bGUgaWRlbnRpZmllciAqLwoKY29uc3QgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyA9IHVuZGVmaW5lZDsKLyogZnVuY3Rpb25hbCB0ZW1wbGF0ZSAqLwoKY29uc3QgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fID0gdHJ1ZTsKLyogc3R5bGUgaW5qZWN0ICovCgovKiBzdHlsZSBpbmplY3QgU1NSICovCgovKiBzdHlsZSBpbmplY3Qgc2hhZG93IGRvbSAqLwoKY29uc3QgX192dWVfY29tcG9uZW50X18gPSBub3JtYWxpemVDb21wb25lbnQoewogIHJlbmRlcjogX192dWVfcmVuZGVyX18sCiAgc3RhdGljUmVuZGVyRm5zOiBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXwp9LCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18sIF9fdnVlX3NjcmlwdF9fLCBfX3Z1ZV9zY29wZV9pZF9fLCBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18sIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18sIGZhbHNlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsKCnZhciBzY3JpcHQkMSA9IFZ1ZS5leHRlbmQoewogIG5hbWU6ICdUcmFuc2l0aW9uRmFkZScsCiAgZnVuY3Rpb25hbDogdHJ1ZSwKICBwcm9wczogewogICAgZ3JvdXA6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHRhZzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ2RpdicKICAgIH0KICB9LAoKICByZW5kZXIoaCwgewogICAgcHJvcHMsCiAgICBjaGlsZHJlbgogIH0pIHsKICAgIHJldHVybiBoKHByb3BzLmdyb3VwID8gJ1RyYW5zaXRpb25Hcm91cCcgOiAnVHJhbnNpdGlvbicsIHsKICAgICAgcHJvcHM6IHsKICAgICAgICBuYW1lOiAnZmFkZScsCiAgICAgICAgbW9kZTogJ291dC1pbicsCiAgICAgICAgYXBwZWFyOiB0cnVlLAogICAgICAgIHRhZzogcHJvcHMudGFnCiAgICAgIH0KICAgIH0sIGNoaWxkcmVuKTsKICB9Cgp9KTsKLyogc2NyaXB0ICovCgpjb25zdCBfX3Z1ZV9zY3JpcHRfXyQxID0gc2NyaXB0JDE7Ci8qIHRlbXBsYXRlICovCgovKiBzdHlsZSAqLwoKY29uc3QgX192dWVfaW5qZWN0X3N0eWxlc19fJDEgPSB1bmRlZmluZWQ7Ci8qIHNjb3BlZCAqLwoKY29uc3QgX192dWVfc2NvcGVfaWRfXyQxID0gdW5kZWZpbmVkOwovKiBtb2R1bGUgaWRlbnRpZmllciAqLwoKY29uc3QgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyQxID0gdW5kZWZpbmVkOwovKiBmdW5jdGlvbmFsIHRlbXBsYXRlICovCgpjb25zdCBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18kMSA9IHVuZGVmaW5lZDsKLyogc3R5bGUgaW5qZWN0ICovCgovKiBzdHlsZSBpbmplY3QgU1NSICovCgovKiBzdHlsZSBpbmplY3Qgc2hhZG93IGRvbSAqLwoKY29uc3QgX192dWVfY29tcG9uZW50X18kMSA9IG5vcm1hbGl6ZUNvbXBvbmVudCh7fSwgX192dWVfaW5qZWN0X3N0eWxlc19fJDEsIF9fdnVlX3NjcmlwdF9fJDEsIF9fdnVlX3Njb3BlX2lkX18kMSwgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDEsIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kMSwgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwoKdmFyIHNjcmlwdCQyID0gVnVlLmV4dGVuZCh7CiAgbmFtZTogJ1Zzc3VlSWNvbicsCiAgZnVuY3Rpb25hbDogdHJ1ZSwKICBwcm9wczogewogICAgbmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAoKICByZW5kZXIoaCwgewogICAgcHJvcHMsCiAgICBkYXRhCiAgfSkgewogICAgcmV0dXJuIGgoJ3N2ZycsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGF0YSksIHsKICAgICAgY2xhc3M6IFsndnNzdWUtaWNvbicsIGB2c3N1ZS1pY29uLSR7cHJvcHMubmFtZX1gXSwKICAgICAgYXR0cnM6IHsKICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScKICAgICAgfQogICAgfSksIFtoKCd0aXRsZScsIHByb3BzLnRpdGxlKSwgaCgndXNlJywgewogICAgICBhdHRyczogewogICAgICAgICd4bGluazpocmVmJzogYCN2c3N1ZS1pY29uLSR7cHJvcHMubmFtZX1gCiAgICAgIH0KICAgIH0pXSk7CiAgfQoKfSk7Ci8qIHNjcmlwdCAqLwoKY29uc3QgX192dWVfc2NyaXB0X18kMiA9IHNjcmlwdCQyOwovKiB0ZW1wbGF0ZSAqLwoKLyogc3R5bGUgKi8KCmNvbnN0IF9fdnVlX2luamVjdF9zdHlsZXNfXyQyID0gdW5kZWZpbmVkOwovKiBzY29wZWQgKi8KCmNvbnN0IF9fdnVlX3Njb3BlX2lkX18kMiA9IHVuZGVmaW5lZDsKLyogbW9kdWxlIGlkZW50aWZpZXIgKi8KCmNvbnN0IF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kMiA9IHVuZGVmaW5lZDsKLyogZnVuY3Rpb25hbCB0ZW1wbGF0ZSAqLwoKY29uc3QgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDIgPSB1bmRlZmluZWQ7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJDIgPSBub3JtYWxpemVDb21wb25lbnQoe30sIF9fdnVlX2luamVjdF9zdHlsZXNfXyQyLCBfX3Z1ZV9zY3JpcHRfXyQyLCBfX3Z1ZV9zY29wZV9pZF9fJDIsIF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyQyLCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDIsIGZhbHNlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsKCmxldCBWc3N1ZUNvbW1lbnQgPSBjbGFzcyBWc3N1ZUNvbW1lbnQgZXh0ZW5kcyBWdWUkMSB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlciguLi5hcmd1bWVudHMpOwogICAgdGhpcy5lZGl0TW9kZSA9IGZhbHNlOwogICAgdGhpcy5lZGl0Q29udGVudCA9IHRoaXMuY29tbWVudC5jb250ZW50UmF3OwogICAgdGhpcy5jcmVhdGluZ1JlYWN0aW9ucyA9IFtdOwogICAgdGhpcy5pc1B1dGluZ0NvbW1lbnQgPSBmYWxzZTsKICAgIHRoaXMuaXNEZWxldGluZ0NvbW1lbnQgPSBmYWxzZTsKICB9CgogIGdldCBjdXJyZW50VXNlcigpIHsKICAgIHJldHVybiB0aGlzLnZzc3VlLnVzZXIgPyB0aGlzLnZzc3VlLnVzZXIudXNlcm5hbWUgOiBudWxsOwogIH0KCiAgZ2V0IGNvbnRlbnQoKSB7CiAgICByZXR1cm4gdGhpcy5jb21tZW50LmNvbnRlbnQ7CiAgfQoKICBnZXQgYXV0aG9yKCkgewogICAgcmV0dXJuIHRoaXMuY29tbWVudC5hdXRob3I7CiAgfQoKICBnZXQgY3JlYXRlZEF0KCkgewogICAgcmV0dXJuIGZvcm1hdERhdGVUaW1lKHRoaXMuY29tbWVudC5jcmVhdGVkQXQpOwogIH0KCiAgZ2V0IHVwZGF0ZWRBdCgpIHsKICAgIHJldHVybiBmb3JtYXREYXRlVGltZSh0aGlzLmNvbW1lbnQudXBkYXRlZEF0KTsKICB9CgogIGdldCBzaG93UmVhY3Rpb25zKCkgewogICAgcmV0dXJuIEJvb2xlYW4odGhpcy52c3N1ZS5BUEkgJiYgdGhpcy52c3N1ZS5BUEkucGxhdGZvcm0ubWV0YS5yZWFjdGFibGUgJiYgdGhpcy5jb21tZW50LnJlYWN0aW9ucyAmJiAhdGhpcy5lZGl0TW9kZSk7CiAgfQoKICBnZXQgcmVhY3Rpb25LZXlzKCkgewogICAgcmV0dXJuIFsnaGVhcnQnLCAnbGlrZScsICd1bmxpa2UnXTsKICB9CgogIGdldCBlZGl0Q29udGVudFJvd3MoKSB7CiAgICByZXR1cm4gdGhpcy5lZGl0Q29udGVudC5zcGxpdCgnXG4nKS5sZW5ndGggLSAxOwogIH0KCiAgZ2V0IGVkaXRJbnB1dFJvd3MoKSB7CiAgICByZXR1cm4gdGhpcy5lZGl0Q29udGVudFJvd3MgPCAzID8gNSA6IHRoaXMuZWRpdENvbnRlbnRSb3dzICsgMjsKICB9CgogIGFzeW5jIHBvc3RSZWFjdGlvbih7CiAgICByZWFjdGlvbgogIH0pIHsKICAgIHRyeSB7CiAgICAgIGlmICh0aGlzLmNyZWF0aW5nUmVhY3Rpb25zLmluY2x1ZGVzKHJlYWN0aW9uKSkgcmV0dXJuOwogICAgICB0aGlzLmNyZWF0aW5nUmVhY3Rpb25zLnB1c2gocmVhY3Rpb24pOwogICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgdGhpcy52c3N1ZS5wb3N0Q29tbWVudFJlYWN0aW9uKHsKICAgICAgICBjb21tZW50SWQ6IHRoaXMuY29tbWVudC5pZCwKICAgICAgICByZWFjdGlvbgogICAgICB9KTsKCiAgICAgIGlmICghc3VjY2VzcykgewogICAgICAgIHRoaXMudnNzdWUuJGVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKHRoaXMudnNzdWUuJHQoJ3JlYWN0aW9uR2l2ZW4nLCB7CiAgICAgICAgICByZWFjdGlvbjogdGhpcy52c3N1ZS4kdChyZWFjdGlvbikKICAgICAgICB9KSkpOwogICAgICB9IC8vIGFsd2F5cyByZWZyZXNoIHJlYWN0aW9ucyBldmVuIGFscmVhZHkgZ2l2ZW4KCgogICAgICBjb25zdCByZWFjdGlvbnMgPSBhd2FpdCB0aGlzLnZzc3VlLmdldENvbW1lbnRSZWFjdGlvbnMoewogICAgICAgIGNvbW1lbnRJZDogdGhpcy5jb21tZW50LmlkCiAgICAgIH0pOwoKICAgICAgaWYgKHJlYWN0aW9ucykgewogICAgICAgIHRoaXMuY29tbWVudC5yZWFjdGlvbnMgPSByZWFjdGlvbnM7CiAgICAgIH0KICAgIH0gZmluYWxseSB7CiAgICAgIHRoaXMuY3JlYXRpbmdSZWFjdGlvbnMuc3BsaWNlKHRoaXMuY3JlYXRpbmdSZWFjdGlvbnMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbSA9PT0gcmVhY3Rpb24pLCAxKTsKICAgIH0KICB9CgogIGVudGVyRWRpdCgpIHsKICAgIHRoaXMuZWRpdE1vZGUgPSB0cnVlOwogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB0aGlzLiRyZWZzLmlucHV0LmZvY3VzKCk7CiAgICB9KTsKICB9CgogIHJlc2V0RWRpdCgpIHsKICAgIHRoaXMuZWRpdE1vZGUgPSBmYWxzZTsKICAgIHRoaXMuZWRpdENvbnRlbnQgPSB0aGlzLmNvbW1lbnQuY29udGVudFJhdzsKICB9CgogIGFzeW5jIHB1dENvbW1lbnQoKSB7CiAgICB0cnkgewogICAgICBpZiAodGhpcy52c3N1ZS5pc1BlbmRpbmcpIHJldHVybjsKCiAgICAgIGlmICh0aGlzLmVkaXRDb250ZW50ICE9PSB0aGlzLmNvbW1lbnQuY29udGVudFJhdykgewogICAgICAgIHRoaXMuaXNQdXRpbmdDb21tZW50ID0gdHJ1ZTsKICAgICAgICB0aGlzLnZzc3VlLmlzVXBkYXRpbmdDb21tZW50ID0gdHJ1ZTsKICAgICAgICBjb25zdCBjb21tZW50ID0gYXdhaXQgdGhpcy52c3N1ZS5wdXRDb21tZW50KHsKICAgICAgICAgIGNvbW1lbnRJZDogdGhpcy5jb21tZW50LmlkLAogICAgICAgICAgY29udGVudDogdGhpcy5lZGl0Q29udGVudAogICAgICAgIH0pOwoKICAgICAgICBpZiAoY29tbWVudCkgewogICAgICAgICAgdGhpcy52c3N1ZS5jb21tZW50cy5kYXRhLnNwbGljZSh0aGlzLnZzc3VlLmNvbW1lbnRzLmRhdGEuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5pZCA9PT0gdGhpcy5jb21tZW50LmlkKSwgMSwgY29tbWVudCk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmVkaXRNb2RlID0gZmFsc2U7CiAgICB9IGZpbmFsbHkgewogICAgICB0aGlzLmlzUHV0aW5nQ29tbWVudCA9IGZhbHNlOwogICAgICB0aGlzLnZzc3VlLmlzVXBkYXRpbmdDb21tZW50ID0gZmFsc2U7CiAgICB9CiAgfQoKICBhc3luYyBkZWxldGVDb21tZW50KCkgewogICAgdHJ5IHsKICAgICAgaWYgKHRoaXMudnNzdWUuaXNQZW5kaW5nKSByZXR1cm47CiAgICAgIGlmICghd2luZG93LmNvbmZpcm0odGhpcy52c3N1ZS4kdCgnZGVsZXRlQ29uZmlybScpKSkgcmV0dXJuOwogICAgICB0aGlzLmlzRGVsZXRpbmdDb21tZW50ID0gdHJ1ZTsKICAgICAgdGhpcy52c3N1ZS5pc1VwZGF0aW5nQ29tbWVudCA9IHRydWU7CiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLnZzc3VlLmRlbGV0ZUNvbW1lbnQoewogICAgICAgIGNvbW1lbnRJZDogdGhpcy5jb21tZW50LmlkCiAgICAgIH0pOwoKICAgICAgaWYgKHN1Y2Nlc3MpIHsKICAgICAgICAvLyBkZWNyZWFzZSBjb3VudCBpbW1lZGlhdGVseQogICAgICAgIHRoaXMudnNzdWUuY29tbWVudHMuY291bnQgLT0gMTsgLy8gaWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgY29tbWVudCBvbiB0aGlzIHBhZ2UsIHJlbW92ZSB0aGUgZGVsZXRlZCBjb21tZW50IGltbWVkaWF0ZWx5CgogICAgICAgIGlmICh0aGlzLnZzc3VlLmNvbW1lbnRzLmRhdGEubGVuZ3RoID4gMSkgewogICAgICAgICAgdGhpcy52c3N1ZS5jb21tZW50cy5kYXRhLnNwbGljZSh0aGlzLnZzc3VlLmNvbW1lbnRzLmRhdGEuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5pZCA9PT0gdGhpcy5jb21tZW50LmlkKSwgMSk7CiAgICAgICAgfSAvLyBpZiB0aGUgcGFnZSBjb3VudCBzaG91bGQgYmUgZGVjcmVhc2VkLCBjaGFuZ2UgdGhlIHF1ZXJ5IHBhcmFtIHRvIHRyaWdnZXIgY29tbWVudHMgcmVsb2FkCgoKICAgICAgICBpZiAodGhpcy52c3N1ZS5xdWVyeS5wYWdlID4gMSAmJiB0aGlzLnZzc3VlLnF1ZXJ5LnBhZ2UgPiBNYXRoLmNlaWwodGhpcy52c3N1ZS5jb21tZW50cy5jb3VudCAvIHRoaXMudnNzdWUucXVlcnkucGVyUGFnZSkpIHsKICAgICAgICAgIHRoaXMudnNzdWUucXVlcnkucGFnZSAtPSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhd2FpdCB0aGlzLnZzc3VlLmdldENvbW1lbnRzKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudnNzdWUuJGVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKHRoaXMudnNzdWUuJHQoJ2RlbGV0ZUZhaWxlZCcpKSk7CiAgICAgIH0KICAgIH0gZmluYWxseSB7CiAgICAgIHRoaXMuaXNEZWxldGluZ0NvbW1lbnQgPSBmYWxzZTsKICAgICAgdGhpcy52c3N1ZS5pc1VwZGF0aW5nQ29tbWVudCA9IGZhbHNlOwogICAgfQogIH0KCn07CgpfX2RlY29yYXRlKFtQcm9wKHsKICB0eXBlOiBPYmplY3QsCiAgcmVxdWlyZWQ6IHRydWUKfSldLCBWc3N1ZUNvbW1lbnQucHJvdG90eXBlLCAiY29tbWVudCIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtJbmplY3QoKV0sIFZzc3VlQ29tbWVudC5wcm90b3R5cGUsICJ2c3N1ZSIsIHZvaWQgMCk7CgpWc3N1ZUNvbW1lbnQgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFZzc3VlSWNvbjogX192dWVfY29tcG9uZW50X18kMgogIH0KfSldLCBWc3N1ZUNvbW1lbnQpOwp2YXIgc2NyaXB0JDMgPSBWc3N1ZUNvbW1lbnQ7Ci8qIHNjcmlwdCAqLwoKY29uc3QgX192dWVfc2NyaXB0X18kMyA9IHNjcmlwdCQzOwovKiB0ZW1wbGF0ZSAqLwoKdmFyIF9fdnVlX3JlbmRlcl9fJDEgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIF92bSA9IHRoaXM7CgogIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICByZXR1cm4gX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtY29tbWVudCIsCiAgICBjbGFzczogewogICAgICAndnNzdWUtY29tbWVudC1lZGl0LW1vZGUnOiBfdm0uZWRpdE1vZGUsCiAgICAgICd2c3N1ZS1jb21tZW50LWRpc2FibGVkJzogX3ZtLmlzRGVsZXRpbmdDb21tZW50IHx8IF92bS5pc1B1dGluZ0NvbW1lbnQKICAgIH0KICB9LCBbX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtY29tbWVudC1hdmF0YXIiCiAgfSwgW19jKCdhJywgewogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiBfdm0uYXV0aG9yLmhvbWVwYWdlLAogICAgICAidGl0bGUiOiBfdm0uYXV0aG9yLnVzZXJuYW1lLAogICAgICAidGFyZ2V0IjogIl9ibGFuayIsCiAgICAgICJyZWwiOiAibm9vcGVuZXIgbm9yZWZlcnJlciIKICAgIH0KICB9LCBbX2MoJ2ltZycsIHsKICAgIGF0dHJzOiB7CiAgICAgICJzcmMiOiBfdm0uYXV0aG9yLmF2YXRhciwKICAgICAgImFsdCI6IF92bS5hdXRob3IudXNlcm5hbWUKICAgIH0KICB9KV0pXSksIF92bS5fdigiICIpLCBfYygnZGl2JywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1jb21tZW50LWJvZHkiCiAgfSwgW192bS5fdCgiYm9keSIsIFtfYygnZGl2JywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1jb21tZW50LWhlYWRlciIKICB9LCBbX2MoJ3NwYW4nLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWNvbW1lbnQtYXV0aG9yIgogIH0sIFtfYygnYScsIHsKICAgIGF0dHJzOiB7CiAgICAgICJocmVmIjogX3ZtLmF1dGhvci5ob21lcGFnZSwKICAgICAgInRpdGxlIjogX3ZtLmF1dGhvci51c2VybmFtZSwKICAgICAgInRhcmdldCI6ICJfYmxhbmsiLAogICAgICAicmVsIjogIm5vb3BlbmVyIG5vcmVmZXJyZXIiCiAgICB9CiAgfSwgW192bS5fdigiXG4gICAgICAgICAgICAiICsgX3ZtLl9zKF92bS5hdXRob3IudXNlcm5hbWUpICsgIlxuICAgICAgICAgICIpXSldKSwgX3ZtLl92KCIgIiksIF9jKCdzcGFuJywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1jb21tZW50LWNyZWF0ZWQtYXQiCiAgfSwgW192bS5fdigiXG4gICAgICAgICAgIiArIF92bS5fcyhfdm0uY3JlYXRlZEF0KSArICJcbiAgICAgICAgIildKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtY29tbWVudC1tYWluIgogIH0sIFtfdm0uZWRpdE1vZGUgPyBfYygndGV4dGFyZWEnLCB7CiAgICBkaXJlY3RpdmVzOiBbewogICAgICBuYW1lOiAibW9kZWwiLAogICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgIHZhbHVlOiBfdm0uZWRpdENvbnRlbnQsCiAgICAgIGV4cHJlc3Npb246ICJlZGl0Q29udGVudCIKICAgIH1dLAogICAgcmVmOiAiaW5wdXQiLAogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1lZGl0LWNvbW1lbnQtaW5wdXQiLAogICAgYXR0cnM6IHsKICAgICAgInJvd3MiOiBfdm0uZWRpdElucHV0Um93cwogICAgfSwKICAgIGRvbVByb3BzOiB7CiAgICAgICJ2YWx1ZSI6IF92bS5lZGl0Q29udGVudAogICAgfSwKICAgIG9uOiB7CiAgICAgICJrZXl1cCI6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICBpZiAoISRldmVudC50eXBlLmluZGV4T2YoJ2tleScpICYmIF92bS5faygkZXZlbnQua2V5Q29kZSwgImVudGVyIiwgMTMsICRldmVudC5rZXksICJFbnRlciIpKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CgogICAgICAgIGlmICghJGV2ZW50LmN0cmxLZXkpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIF92bS5wdXRDb21tZW50KCk7CiAgICAgIH0sCiAgICAgICJpbnB1dCI6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIF92bS5lZGl0Q29udGVudCA9ICRldmVudC50YXJnZXQudmFsdWU7CiAgICAgIH0KICAgIH0KICB9KSA6IF9jKCdhcnRpY2xlJywgewogICAgc3RhdGljQ2xhc3M6ICJtYXJrZG93bi1ib2R5IiwKICAgIGRvbVByb3BzOiB7CiAgICAgICJpbm5lckhUTUwiOiBfdm0uX3MoX3ZtLmNvbnRlbnQpCiAgICB9CiAgfSldKSwgX3ZtLl92KCIgIiksIF9jKCdkaXYnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWNvbW1lbnQtZm9vdGVyIgogIH0sIFtfdm0uZWRpdE1vZGUgPyBfYygnc3BhbicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtY29tbWVudC1oaW50IgogIH0sIFtfdm0uX3YoIlxuICAgICAgICAgICIgKyBfdm0uX3MoX3ZtLnZzc3VlLiR0KCdlZGl0TW9kZScpKSArICJcbiAgICAgICAgIildKSA6IF92bS5fZSgpLCBfdm0uX3YoIiAiKSwgX3ZtLnNob3dSZWFjdGlvbnMgPyBfYygnc3BhbicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtY29tbWVudC1yZWFjdGlvbnMiCiAgfSwgX3ZtLl9sKF92bS5yZWFjdGlvbktleXMsIGZ1bmN0aW9uIChyZWFjdGlvbikgewogICAgcmV0dXJuIF9jKCdzcGFuJywgewogICAgICBrZXk6IHJlYWN0aW9uLAogICAgICBzdGF0aWNDbGFzczogInZzc3VlLWNvbW1lbnQtcmVhY3Rpb24iLAogICAgICBhdHRyczogewogICAgICAgICJ0aXRsZSI6IF92bS52c3N1ZS4kdChfdm0uY3JlYXRpbmdSZWFjdGlvbnMuaW5jbHVkZXMocmVhY3Rpb24pID8gJ2xvYWRpbmcnIDogcmVhY3Rpb24pCiAgICAgIH0sCiAgICAgIG9uOiB7CiAgICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuIF92bS5wb3N0UmVhY3Rpb24oewogICAgICAgICAgICByZWFjdGlvbjogcmVhY3Rpb24KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwgW19jKCdWc3N1ZUljb24nLCB7CiAgICAgIGF0dHJzOiB7CiAgICAgICAgIm5hbWUiOiBfdm0uY3JlYXRpbmdSZWFjdGlvbnMuaW5jbHVkZXMocmVhY3Rpb24pID8gJ2xvYWRpbmcnIDogcmVhY3Rpb24sCiAgICAgICAgInRpdGxlIjogX3ZtLnZzc3VlLiR0KF92bS5jcmVhdGluZ1JlYWN0aW9ucy5pbmNsdWRlcyhyZWFjdGlvbikgPyAnbG9hZGluZycgOiByZWFjdGlvbikKICAgICAgfQogICAgfSksIF92bS5fdigiICIpLCBfYygnc3BhbicsIHsKICAgICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1jb21tZW50LXJlYWN0aW9uLW51bWJlciIKICAgIH0sIFtfdm0uX3YoIlxuICAgICAgICAgICAgICAiICsgX3ZtLl9zKF92bS5jb21tZW50LnJlYWN0aW9uc1tyZWFjdGlvbl0pICsgIlxuICAgICAgICAgICAgIildKV0sIDEpOwogIH0pLCAwKSA6IF92bS5fZSgpLCBfdm0uX3YoIiAiKSwgX2MoJ3NwYW4nLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWNvbW1lbnQtb3BlcmF0aW9ucyIKICB9LCBbX3ZtLmNvbW1lbnQuYXV0aG9yLnVzZXJuYW1lID09PSBfdm0uY3VycmVudFVzZXIgJiYgX3ZtLmVkaXRNb2RlID8gX2MoJ3NwYW4nLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWNvbW1lbnQtb3BlcmF0aW9uIiwKICAgIGNsYXNzOiB7CiAgICAgICd2c3N1ZS1jb21tZW50LW9wZXJhdGlvbi1tdXRlZCc6IF92bS5pc1B1dGluZ0NvbW1lbnQKICAgIH0sCiAgICBhdHRyczogewogICAgICAidGl0bGUiOiBfdm0udnNzdWUuJHQoX3ZtLmlzUHV0aW5nQ29tbWVudCA/ICdsb2FkaW5nJyA6ICdzdWJtaXQnKQogICAgfSwKICAgIG9uOiB7CiAgICAgICJjbGljayI6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICByZXR1cm4gX3ZtLnB1dENvbW1lbnQoKTsKICAgICAgfQogICAgfQogIH0sIFtfYygnVnNzdWVJY29uJywgewogICAgZGlyZWN0aXZlczogW3sKICAgICAgbmFtZTogInNob3ciLAogICAgICByYXdOYW1lOiAidi1zaG93IiwKICAgICAgdmFsdWU6IF92bS5pc1B1dGluZ0NvbW1lbnQsCiAgICAgIGV4cHJlc3Npb246ICJpc1B1dGluZ0NvbW1lbnQiCiAgICB9XSwKICAgIGF0dHJzOiB7CiAgICAgICJuYW1lIjogImxvYWRpbmciLAogICAgICAidGl0bGUiOiBfdm0udnNzdWUuJHQoJ2xvYWRpbmcnKQogICAgfQogIH0pLCBfdm0uX3YoIlxuXG4gICAgICAgICAgICAiICsgX3ZtLl9zKF92bS52c3N1ZS4kdCgnc3VibWl0JykpICsgIlxuICAgICAgICAgICIpXSwgMSkgOiBfdm0uX2UoKSwgX3ZtLl92KCIgIiksIF92bS5jb21tZW50LmF1dGhvci51c2VybmFtZSA9PT0gX3ZtLmN1cnJlbnRVc2VyICYmIF92bS5lZGl0TW9kZSA/IF9jKCdzcGFuJywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1jb21tZW50LW9wZXJhdGlvbiB2c3N1ZS1jb21tZW50LW9wZXJhdGlvbi1tdXRlZCIsCiAgICBhdHRyczogewogICAgICAidGl0bGUiOiBfdm0udnNzdWUuJHQoJ2NhbmNlbCcpCiAgICB9LAogICAgb246IHsKICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIHJldHVybiBfdm0ucmVzZXRFZGl0KCk7CiAgICAgIH0KICAgIH0KICB9LCBbX3ZtLl92KCJcbiAgICAgICAgICAgICIgKyBfdm0uX3MoX3ZtLnZzc3VlLiR0KCdjYW5jZWwnKSkgKyAiXG4gICAgICAgICAgIildKSA6IF92bS5fZSgpLCBfdm0uX3YoIiAiKSwgX3ZtLmNvbW1lbnQuYXV0aG9yLnVzZXJuYW1lID09PSBfdm0uY3VycmVudFVzZXIgPyBfYygnc3BhbicsIHsKICAgIGRpcmVjdGl2ZXM6IFt7CiAgICAgIG5hbWU6ICJzaG93IiwKICAgICAgcmF3TmFtZTogInYtc2hvdyIsCiAgICAgIHZhbHVlOiAhX3ZtLmVkaXRNb2RlLAogICAgICBleHByZXNzaW9uOiAiIWVkaXRNb2RlIgogICAgfV0sCiAgICBzdGF0aWNDbGFzczogInZzc3VlLWNvbW1lbnQtb3BlcmF0aW9uIiwKICAgIG9uOiB7CiAgICAgICJjbGljayI6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICByZXR1cm4gX3ZtLmVudGVyRWRpdCgpOwogICAgICB9CiAgICB9CiAgfSwgW19jKCdWc3N1ZUljb24nLCB7CiAgICBhdHRyczogewogICAgICAibmFtZSI6ICJlZGl0IiwKICAgICAgInRpdGxlIjogX3ZtLnZzc3VlLiR0KCdlZGl0JykKICAgIH0KICB9KV0sIDEpIDogX3ZtLl9lKCksIF92bS5fdigiICIpLCBfdm0uY29tbWVudC5hdXRob3IudXNlcm5hbWUgPT09IF92bS5jdXJyZW50VXNlciB8fCBfdm0udnNzdWUuaXNBZG1pbiA/IF9jKCdzcGFuJywgewogICAgZGlyZWN0aXZlczogW3sKICAgICAgbmFtZTogInNob3ciLAogICAgICByYXdOYW1lOiAidi1zaG93IiwKICAgICAgdmFsdWU6ICFfdm0uZWRpdE1vZGUsCiAgICAgIGV4cHJlc3Npb246ICIhZWRpdE1vZGUiCiAgICB9XSwKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtY29tbWVudC1vcGVyYXRpb24iLAogICAgb246IHsKICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIHJldHVybiBfdm0uZGVsZXRlQ29tbWVudCgpOwogICAgICB9CiAgICB9CiAgfSwgW19jKCdWc3N1ZUljb24nLCB7CiAgICBhdHRyczogewogICAgICAibmFtZSI6IF92bS5pc0RlbGV0aW5nQ29tbWVudCA/ICdsb2FkaW5nJyA6ICdkZWxldGUnLAogICAgICAidGl0bGUiOiBfdm0udnNzdWUuJHQoX3ZtLmlzRGVsZXRpbmdDb21tZW50ID8gJ2xvYWRpbmcnIDogJ2RlbGV0ZScpCiAgICB9CiAgfSldLCAxKSA6IF92bS5fZSgpLCBfdm0uX3YoIiAiKSwgX2MoJ3NwYW4nLCB7CiAgICBkaXJlY3RpdmVzOiBbewogICAgICBuYW1lOiAic2hvdyIsCiAgICAgIHJhd05hbWU6ICJ2LXNob3ciLAogICAgICB2YWx1ZTogIV92bS5lZGl0TW9kZSwKICAgICAgZXhwcmVzc2lvbjogIiFlZGl0TW9kZSIKICAgIH1dLAogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1jb21tZW50LW9wZXJhdGlvbiIsCiAgICBvbjogewogICAgICAiY2xpY2siOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuIF92bS52c3N1ZS4kZW1pdCgncmVwbHktY29tbWVudCcsIF92bS5jb21tZW50KTsKICAgICAgfQogICAgfQogIH0sIFtfYygnVnNzdWVJY29uJywgewogICAgYXR0cnM6IHsKICAgICAgIm5hbWUiOiAicmVwbHkiLAogICAgICAidGl0bGUiOiBfdm0udnNzdWUuJHQoJ3JlcGx5JykKICAgIH0KICB9KV0sIDEpXSldKV0pXSwgMildKTsKfTsKCnZhciBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQxID0gW107Ci8qIHN0eWxlICovCgpjb25zdCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kMyA9IHVuZGVmaW5lZDsKLyogc2NvcGVkICovCgpjb25zdCBfX3Z1ZV9zY29wZV9pZF9fJDMgPSB1bmRlZmluZWQ7Ci8qIG1vZHVsZSBpZGVudGlmaWVyICovCgpjb25zdCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDMgPSB1bmRlZmluZWQ7Ci8qIGZ1bmN0aW9uYWwgdGVtcGxhdGUgKi8KCmNvbnN0IF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyQzID0gZmFsc2U7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJDMgPSBub3JtYWxpemVDb21wb25lbnQoewogIHJlbmRlcjogX192dWVfcmVuZGVyX18kMSwKICBzdGF0aWNSZW5kZXJGbnM6IF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDEKfSwgX192dWVfaW5qZWN0X3N0eWxlc19fJDMsIF9fdnVlX3NjcmlwdF9fJDMsIF9fdnVlX3Njb3BlX2lkX18kMywgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDMsIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kMywgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwoKbGV0IFZzc3VlUGFnaW5hdGlvbiA9IGNsYXNzIFZzc3VlUGFnaW5hdGlvbiBleHRlbmRzIFZ1ZSQxIHsKICBnZXQgZGlzYWJsZWQoKSB7CiAgICByZXR1cm4gdGhpcy52c3N1ZS5pc1BlbmRpbmc7CiAgfQoKICBnZXQgcGFnZUNvdW50KCkgewogICAgY29uc3QgcGFnZUNvdW50ID0gTWF0aC5jZWlsKHRoaXMudnNzdWUuY29tbWVudHMuY291bnQgLyB0aGlzLnZzc3VlLmNvbW1lbnRzLnBlclBhZ2UpOwogICAgcmV0dXJuIHBhZ2VDb3VudCA+IDEgPyBwYWdlQ291bnQgOiAxOwogIH0KCiAgZ2V0IHBlclBhZ2VPcHRpb25zKCkgewogICAgY29uc3QgcGVyUGFnZU9wdGlvbnMgPSBbNSwgMTAsIDIwLCA1MF07CgogICAgaWYgKCFwZXJQYWdlT3B0aW9ucy5pbmNsdWRlcyh0aGlzLnZzc3VlLm9wdGlvbnMucGVyUGFnZSkgJiYgdGhpcy52c3N1ZS5vcHRpb25zLnBlclBhZ2UgPCAxMDApIHsKICAgICAgcGVyUGFnZU9wdGlvbnMucHVzaCh0aGlzLnZzc3VlLm9wdGlvbnMucGVyUGFnZSk7CiAgICB9CgogICAgcmV0dXJuIHBlclBhZ2VPcHRpb25zLnNvcnQoKGEsIGIpID0+IGEgLSBiKTsKICB9CgogIGdldCBwYWdlKCkgewogICAgcmV0dXJuIHRoaXMudnNzdWUucXVlcnkucGFnZSA+IHRoaXMucGFnZUNvdW50ID8gdGhpcy5wYWdlQ291bnQgOiB0aGlzLnZzc3VlLnF1ZXJ5LnBhZ2U7CiAgfQoKICBzZXQgcGFnZSh2YWwpIHsKICAgIGlmICh2YWwgPiAwICYmIHZhbCA8PSB0aGlzLnBhZ2VDb3VudCkgewogICAgICB0aGlzLnZzc3VlLnF1ZXJ5LnBhZ2UgPSB2YWw7CiAgICB9CiAgfQoKICBnZXQgcGVyUGFnZSgpIHsKICAgIHJldHVybiB0aGlzLnZzc3VlLnF1ZXJ5LnBlclBhZ2U7CiAgfQoKICBzZXQgcGVyUGFnZSh2YWwpIHsKICAgIGlmICh0aGlzLnBlclBhZ2VPcHRpb25zLmluY2x1ZGVzKHZhbCkpIHsKICAgICAgdGhpcy52c3N1ZS5xdWVyeS5wZXJQYWdlID0gdmFsOwogICAgfQogIH0KCn07CgpfX2RlY29yYXRlKFtJbmplY3QoKV0sIFZzc3VlUGFnaW5hdGlvbi5wcm90b3R5cGUsICJ2c3N1ZSIsIHZvaWQgMCk7CgpWc3N1ZVBhZ2luYXRpb24gPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFZzc3VlSWNvbjogX192dWVfY29tcG9uZW50X18kMgogIH0KfSldLCBWc3N1ZVBhZ2luYXRpb24pOwp2YXIgc2NyaXB0JDQgPSBWc3N1ZVBhZ2luYXRpb247Ci8qIHNjcmlwdCAqLwoKY29uc3QgX192dWVfc2NyaXB0X18kNCA9IHNjcmlwdCQ0OwovKiB0ZW1wbGF0ZSAqLwoKdmFyIF9fdnVlX3JlbmRlcl9fJDIgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIF92bSA9IHRoaXM7CgogIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICByZXR1cm4gX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtcGFnaW5hdGlvbiIKICB9LCBbX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtcGFnaW5hdGlvbi1wZXItcGFnZSIKICB9LCBbX2MoJ2xhYmVsJywgW19jKCdzZWxlY3QnLCB7CiAgICBkaXJlY3RpdmVzOiBbewogICAgICBuYW1lOiAibW9kZWwiLAogICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgIHZhbHVlOiBfdm0ucGVyUGFnZSwKICAgICAgZXhwcmVzc2lvbjogInBlclBhZ2UiCiAgICB9XSwKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtcGFnaW5hdGlvbi1zZWxlY3QiLAogICAgYXR0cnM6IHsKICAgICAgImRpc2FibGVkIjogX3ZtLmRpc2FibGVkCiAgICB9LAogICAgb246IHsKICAgICAgImNoYW5nZSI6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICB2YXIgJCRzZWxlY3RlZFZhbCA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbCgkZXZlbnQudGFyZ2V0Lm9wdGlvbnMsIGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICByZXR1cm4gby5zZWxlY3RlZDsKICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgIHZhciB2YWwgPSAiX3ZhbHVlIiBpbiBvID8gby5fdmFsdWUgOiBvLnZhbHVlOwogICAgICAgICAgcmV0dXJuIHZhbDsKICAgICAgICB9KTsKICAgICAgICBfdm0ucGVyUGFnZSA9ICRldmVudC50YXJnZXQubXVsdGlwbGUgPyAkJHNlbGVjdGVkVmFsIDogJCRzZWxlY3RlZFZhbFswXTsKICAgICAgfQogICAgfQogIH0sIF92bS5fbChfdm0ucGVyUGFnZU9wdGlvbnMsIGZ1bmN0aW9uICh2YWwpIHsKICAgIHJldHVybiBfYygnb3B0aW9uJywgewogICAgICBrZXk6IHZhbCwKICAgICAgZG9tUHJvcHM6IHsKICAgICAgICAidmFsdWUiOiB2YWwKICAgICAgfQogICAgfSwgW192bS5fdigiXG4gICAgICAgICAgIiArIF92bS5fcyh2YWwpICsgIlxuICAgICAgICAiKV0pOwogIH0pLCAwKSwgX3ZtLl92KCIgIiksIF9jKCdzcGFuJywgW192bS5fdigiXG4gICAgICAgICIgKyBfdm0uX3MoX3ZtLnZzc3VlLiR0KCdwZXJQYWdlJykpICsgIlxuICAgICAgIildKV0pLCBfdm0uX3YoIiAiKSwgX3ZtLnZzc3VlLkFQSS5wbGF0Zm9ybS5tZXRhLnNvcnRhYmxlID8gX2MoJ3NwYW4nLCB7CiAgICBjbGFzczogewogICAgICAndnNzdWUtcGFnaW5hdGlvbi1saW5rJzogdHJ1ZSwKICAgICAgZGlzYWJsZWQ6IF92bS5kaXNhYmxlZAogICAgfSwKICAgIGF0dHJzOiB7CiAgICAgICJ0aXRsZSI6IF92bS52c3N1ZS4kdCgnc29ydCcpCiAgICB9LAogICAgb246IHsKICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIF92bS52c3N1ZS5xdWVyeS5zb3J0ID0gX3ZtLnZzc3VlLnF1ZXJ5LnNvcnQgPT09ICdhc2MnID8gJ2Rlc2MnIDogJ2FzYyc7CiAgICAgIH0KICAgIH0KICB9LCBbX3ZtLl92KCJcbiAgICAgICIgKyBfdm0uX3MoX3ZtLnZzc3VlLnF1ZXJ5LnNvcnQgPT09ICdhc2MnID8gIuKGkSIgOiAi4oaTIikgKyAiXG4gICAgIildKSA6IF92bS5fZSgpXSksIF92bS5fdigiICIpLCBfYygnZGl2JywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1wYWdpbmF0aW9uLXBhZ2UiCiAgfSwgW19jKCdzcGFuJywgewogICAgY2xhc3M6IHsKICAgICAgJ3Zzc3VlLXBhZ2luYXRpb24tbGluayc6IHRydWUsCiAgICAgIGRpc2FibGVkOiBfdm0ucGFnZSA9PT0gMSB8fCBfdm0uZGlzYWJsZWQKICAgIH0sCiAgICBhdHRyczogewogICAgICAidGl0bGUiOiBfdm0udnNzdWUuJHQoJ3ByZXYnKQogICAgfSwKICAgIGRvbVByb3BzOiB7CiAgICAgICJ0ZXh0Q29udGVudCI6IF92bS5fcygiPCIpCiAgICB9LAogICAgb246IHsKICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIF92bS5wYWdlIC09IDE7CiAgICAgIH0KICAgIH0KICB9KSwgX3ZtLl92KCIgIiksIF9jKCdsYWJlbCcsIFtfYygnc3BhbicsIFtfdm0uX3YoIlxuICAgICAgICAiICsgX3ZtLl9zKF92bS52c3N1ZS4kdCgncGFnZScpKSArICJcbiAgICAgICIpXSksIF92bS5fdigiICIpLCBfYygnc2VsZWN0JywgewogICAgZGlyZWN0aXZlczogW3sKICAgICAgbmFtZTogInNob3ciLAogICAgICByYXdOYW1lOiAidi1zaG93IiwKICAgICAgdmFsdWU6IF92bS5wYWdlQ291bnQgPiAxLAogICAgICBleHByZXNzaW9uOiAicGFnZUNvdW50ID4gMSIKICAgIH0sIHsKICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICB2YWx1ZTogX3ZtLnBhZ2UsCiAgICAgIGV4cHJlc3Npb246ICJwYWdlIgogICAgfV0sCiAgICBzdGF0aWNDbGFzczogInZzc3VlLXBhZ2luYXRpb24tc2VsZWN0IiwKICAgIGF0dHJzOiB7CiAgICAgICJkaXNhYmxlZCI6IF92bS5kaXNhYmxlZAogICAgfSwKICAgIG9uOiB7CiAgICAgICJjaGFuZ2UiOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgdmFyICQkc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoJGV2ZW50LnRhcmdldC5vcHRpb25zLCBmdW5jdGlvbiAobykgewogICAgICAgICAgcmV0dXJuIG8uc2VsZWN0ZWQ7CiAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICB2YXIgdmFsID0gIl92YWx1ZSIgaW4gbyA/IG8uX3ZhbHVlIDogby52YWx1ZTsKICAgICAgICAgIHJldHVybiB2YWw7CiAgICAgICAgfSk7CiAgICAgICAgX3ZtLnBhZ2UgPSAkZXZlbnQudGFyZ2V0Lm11bHRpcGxlID8gJCRzZWxlY3RlZFZhbCA6ICQkc2VsZWN0ZWRWYWxbMF07CiAgICAgIH0KICAgIH0KICB9LCBfdm0uX2woX3ZtLnBhZ2VDb3VudCwgZnVuY3Rpb24gKHZhbCkgewogICAgcmV0dXJuIF9jKCdvcHRpb24nLCB7CiAgICAgIGtleTogdmFsLAogICAgICBkb21Qcm9wczogewogICAgICAgICJ2YWx1ZSI6IHZhbAogICAgICB9CiAgICB9LCBbX3ZtLl92KCJcbiAgICAgICAgICAiICsgX3ZtLl9zKHZhbCkgKyAiXG4gICAgICAgICIpXSk7CiAgfSksIDApLCBfdm0uX3YoIiAiKSwgX2MoJ3NwYW4nLCB7CiAgICBkaXJlY3RpdmVzOiBbewogICAgICBuYW1lOiAic2hvdyIsCiAgICAgIHJhd05hbWU6ICJ2LXNob3ciLAogICAgICB2YWx1ZTogX3ZtLnBhZ2VDb3VudCA8IDIsCiAgICAgIGV4cHJlc3Npb246ICJwYWdlQ291bnQgPCAyIgogICAgfV0sCiAgICBkb21Qcm9wczogewogICAgICAidGV4dENvbnRlbnQiOiBfdm0uX3MoX3ZtLnBhZ2UpCiAgICB9CiAgfSksIF92bS5fdigiICIpLCBfYygnc3BhbicsIHsKICAgIGRvbVByb3BzOiB7CiAgICAgICJ0ZXh0Q29udGVudCI6IF92bS5fcygiIC8gIiArIF92bS5wYWdlQ291bnQgKyAiICIpCiAgICB9CiAgfSldKSwgX3ZtLl92KCIgIiksIF9jKCdzcGFuJywgewogICAgY2xhc3M6IHsKICAgICAgJ3Zzc3VlLXBhZ2luYXRpb24tbGluayc6IHRydWUsCiAgICAgIGRpc2FibGVkOiBfdm0ucGFnZSA9PT0gX3ZtLnBhZ2VDb3VudCB8fCBfdm0uZGlzYWJsZWQKICAgIH0sCiAgICBhdHRyczogewogICAgICAidGl0bGUiOiBfdm0udnNzdWUuJHQoJ25leHQnKQogICAgfSwKICAgIGRvbVByb3BzOiB7CiAgICAgICJ0ZXh0Q29udGVudCI6IF92bS5fcygiPiIpCiAgICB9LAogICAgb246IHsKICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIF92bS5wYWdlICs9IDE7CiAgICAgIH0KICAgIH0KICB9KV0pXSk7Cn07Cgp2YXIgX192dWVfc3RhdGljUmVuZGVyRm5zX18kMiA9IFtdOwovKiBzdHlsZSAqLwoKY29uc3QgX192dWVfaW5qZWN0X3N0eWxlc19fJDQgPSB1bmRlZmluZWQ7Ci8qIHNjb3BlZCAqLwoKY29uc3QgX192dWVfc2NvcGVfaWRfXyQ0ID0gdW5kZWZpbmVkOwovKiBtb2R1bGUgaWRlbnRpZmllciAqLwoKY29uc3QgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyQ0ID0gdW5kZWZpbmVkOwovKiBmdW5jdGlvbmFsIHRlbXBsYXRlICovCgpjb25zdCBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18kNCA9IGZhbHNlOwovKiBzdHlsZSBpbmplY3QgKi8KCi8qIHN0eWxlIGluamVjdCBTU1IgKi8KCi8qIHN0eWxlIGluamVjdCBzaGFkb3cgZG9tICovCgpjb25zdCBfX3Z1ZV9jb21wb25lbnRfXyQ0ID0gbm9ybWFsaXplQ29tcG9uZW50KHsKICByZW5kZXI6IF9fdnVlX3JlbmRlcl9fJDIsCiAgc3RhdGljUmVuZGVyRm5zOiBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQyCn0sIF9fdnVlX2luamVjdF9zdHlsZXNfXyQ0LCBfX3Z1ZV9zY3JpcHRfXyQ0LCBfX3Z1ZV9zY29wZV9pZF9fJDQsIF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyQ0LCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDQsIGZhbHNlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsKCmxldCBWc3N1ZUNvbW1lbnRzID0gY2xhc3MgVnNzdWVDb21tZW50cyBleHRlbmRzIFZ1ZSQxIHt9OwoKX19kZWNvcmF0ZShbSW5qZWN0KCldLCBWc3N1ZUNvbW1lbnRzLnByb3RvdHlwZSwgInZzc3VlIiwgdm9pZCAwKTsKClZzc3VlQ29tbWVudHMgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFRyYW5zaXRpb25GYWRlOiBfX3Z1ZV9jb21wb25lbnRfXyQxLAogICAgVnNzdWVDb21tZW50OiBfX3Z1ZV9jb21wb25lbnRfXyQzLAogICAgVnNzdWVQYWdpbmF0aW9uOiBfX3Z1ZV9jb21wb25lbnRfXyQ0CiAgfQp9KV0sIFZzc3VlQ29tbWVudHMpOwp2YXIgc2NyaXB0JDUgPSBWc3N1ZUNvbW1lbnRzOwovKiBzY3JpcHQgKi8KCmNvbnN0IF9fdnVlX3NjcmlwdF9fJDUgPSBzY3JpcHQkNTsKLyogdGVtcGxhdGUgKi8KCnZhciBfX3Z1ZV9yZW5kZXJfXyQzID0gZnVuY3Rpb24gKCkgewogIHZhciBfdm0gPSB0aGlzOwoKICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWNvbW1lbnRzIgogIH0sIFtfYygnVnNzdWVQYWdpbmF0aW9uJyksIF92bS5fdigiICIpLCBfYygnVHJhbnNpdGlvbkZhZGUnLCB7CiAgICBhdHRyczogewogICAgICAiZ3JvdXAiOiAiIgogICAgfQogIH0sIF92bS5fbChfdm0udnNzdWUuY29tbWVudHMuZGF0YSwgZnVuY3Rpb24gKGNvbW1lbnQpIHsKICAgIHJldHVybiBfYygnVnNzdWVDb21tZW50JywgewogICAgICBrZXk6IGNvbW1lbnQuaWQsCiAgICAgIGF0dHJzOiB7CiAgICAgICAgImNvbW1lbnQiOiBjb21tZW50CiAgICAgIH0KICAgIH0pOwogIH0pLCAxKSwgX3ZtLl92KCIgIiksIF9jKCdWc3N1ZVBhZ2luYXRpb24nLCB7CiAgICBkaXJlY3RpdmVzOiBbewogICAgICBuYW1lOiAic2hvdyIsCiAgICAgIHJhd05hbWU6ICJ2LXNob3ciLAogICAgICB2YWx1ZTogX3ZtLnZzc3VlLmNvbW1lbnRzLmRhdGEubGVuZ3RoID4gNSwKICAgICAgZXhwcmVzc2lvbjogInZzc3VlLmNvbW1lbnRzLmRhdGEubGVuZ3RoID4gNSIKICAgIH1dCiAgfSldLCAxKTsKfTsKCnZhciBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQzID0gW107Ci8qIHN0eWxlICovCgpjb25zdCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kNSA9IHVuZGVmaW5lZDsKLyogc2NvcGVkICovCgpjb25zdCBfX3Z1ZV9zY29wZV9pZF9fJDUgPSB1bmRlZmluZWQ7Ci8qIG1vZHVsZSBpZGVudGlmaWVyICovCgpjb25zdCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDUgPSB1bmRlZmluZWQ7Ci8qIGZ1bmN0aW9uYWwgdGVtcGxhdGUgKi8KCmNvbnN0IF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyQ1ID0gZmFsc2U7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJDUgPSBub3JtYWxpemVDb21wb25lbnQoewogIHJlbmRlcjogX192dWVfcmVuZGVyX18kMywKICBzdGF0aWNSZW5kZXJGbnM6IF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDMKfSwgX192dWVfaW5qZWN0X3N0eWxlc19fJDUsIF9fdnVlX3NjcmlwdF9fJDUsIF9fdnVlX3Njb3BlX2lkX18kNSwgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDUsIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kNSwgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwoKdmFyIHNjcmlwdCQ2ID0gVnVlLmV4dGVuZCh7CiAgbmFtZTogJ1Zzc3VlSWNvbicsCiAgZnVuY3Rpb25hbDogdHJ1ZSwKICBwcm9wczogewogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ2RlZmF1bHQnCiAgICB9CiAgfSwKCiAgcmVuZGVyKGgsIHsKICAgIHByb3BzLAogICAgZGF0YSwKICAgIGNoaWxkcmVuCiAgfSkgewogICAgcmV0dXJuIGgoJ2J1dHRvbicsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGF0YSksIHsKICAgICAgY2xhc3M6IFsndnNzdWUtYnV0dG9uJywgYHZzc3VlLWJ1dHRvbi0ke3Byb3BzLnR5cGV9YF0KICAgIH0pLCBjaGlsZHJlbik7CiAgfQoKfSk7Ci8qIHNjcmlwdCAqLwoKY29uc3QgX192dWVfc2NyaXB0X18kNiA9IHNjcmlwdCQ2OwovKiB0ZW1wbGF0ZSAqLwoKLyogc3R5bGUgKi8KCmNvbnN0IF9fdnVlX2luamVjdF9zdHlsZXNfXyQ2ID0gdW5kZWZpbmVkOwovKiBzY29wZWQgKi8KCmNvbnN0IF9fdnVlX3Njb3BlX2lkX18kNiA9IHVuZGVmaW5lZDsKLyogbW9kdWxlIGlkZW50aWZpZXIgKi8KCmNvbnN0IF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kNiA9IHVuZGVmaW5lZDsKLyogZnVuY3Rpb25hbCB0ZW1wbGF0ZSAqLwoKY29uc3QgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDYgPSB1bmRlZmluZWQ7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJDYgPSBub3JtYWxpemVDb21wb25lbnQoe30sIF9fdnVlX2luamVjdF9zdHlsZXNfXyQ2LCBfX3Z1ZV9zY3JpcHRfXyQ2LCBfX3Z1ZV9zY29wZV9pZF9fJDYsIF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyQ2LCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDYsIGZhbHNlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsKCmxldCBWc3N1ZU5ld0NvbW1lbnQgPSBjbGFzcyBWc3N1ZU5ld0NvbW1lbnQgZXh0ZW5kcyBWdWUkMSB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlciguLi5hcmd1bWVudHMpOwogICAgdGhpcy5jb250ZW50ID0gJyc7CiAgfQoKICBnZXQgdXNlcigpIHsKICAgIHJldHVybiB0aGlzLnZzc3VlLnVzZXI7CiAgfQoKICBnZXQgcGxhdGZvcm0oKSB7CiAgICByZXR1cm4gdGhpcy52c3N1ZS5BUEkgJiYgdGhpcy52c3N1ZS5BUEkucGxhdGZvcm0ubmFtZTsKICB9CgogIGdldCBpc0lucHV0RGlzYWJsZWQoKSB7CiAgICByZXR1cm4gdGhpcy5sb2FkaW5nIHx8IHRoaXMudXNlciA9PT0gbnVsbCB8fCB0aGlzLnZzc3VlLmlzc3VlID09PSBudWxsOwogIH0KCiAgZ2V0IGlzU3VibWl0RGlzYWJsZWQoKSB7CiAgICByZXR1cm4gdGhpcy5jb250ZW50ID09PSAnJyB8fCB0aGlzLnZzc3VlLmlzUGVuZGluZyB8fCB0aGlzLnZzc3VlLmlzc3VlID09PSBudWxsOwogIH0KCiAgZ2V0IGxvYWRpbmcoKSB7CiAgICByZXR1cm4gdGhpcy52c3N1ZS5pc0NyZWF0aW5nQ29tbWVudDsKICB9CgogIGdldCBjb250ZW50Um93cygpIHsKICAgIHJldHVybiB0aGlzLmNvbnRlbnQuc3BsaXQoJ1xuJykubGVuZ3RoIC0gMTsKICB9CgogIGdldCBpbnB1dFJvd3MoKSB7CiAgICByZXR1cm4gdGhpcy5jb250ZW50Um93cyA8IDMgPyA1IDogdGhpcy5jb250ZW50Um93cyArIDI7CiAgfQoKICBjcmVhdGVkKCkgewogICAgdGhpcy52c3N1ZS4kb24oJ3JlcGx5LWNvbW1lbnQnLCBjb21tZW50ID0+IHsKICAgICAgY29uc3QgcXVvdGVkQ29tbWVudCA9IGNvbW1lbnQuY29udGVudFJhdy5yZXBsYWNlKC9cbi9nLCAnXG4+ICcpOwogICAgICBjb25zdCByZXBseUNvbnRlbnQgPSBgQCR7Y29tbWVudC5hdXRob3IudXNlcm5hbWV9XG5cbj4gJHtxdW90ZWRDb21tZW50fVxuXG5gOwogICAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLmNvbnRlbnQuY29uY2F0KHJlcGx5Q29udGVudCk7CiAgICAgIHRoaXMuZm9jdXMoKTsKICAgIH0pOwogIH0KCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMudnNzdWUuJG9mZigncmVwbHktY29tbWVudCcpOwogIH0KCiAgZm9jdXMoKSB7CiAgICB0aGlzLiRyZWZzLmlucHV0LmZvY3VzKCk7CiAgfQoKICBhc3luYyBzdWJtaXQoKSB7CiAgICBpZiAodGhpcy5pc1N1Ym1pdERpc2FibGVkKSByZXR1cm47CiAgICBhd2FpdCB0aGlzLnZzc3VlLnBvc3RDb21tZW50KHsKICAgICAgY29udGVudDogdGhpcy5jb250ZW50CiAgICB9KTsKICAgIHRoaXMuY29udGVudCA9ICcnOwogICAgYXdhaXQgdGhpcy52c3N1ZS5nZXRDb21tZW50cygpOwogIH0KCn07CgpfX2RlY29yYXRlKFtJbmplY3QoKV0sIFZzc3VlTmV3Q29tbWVudC5wcm90b3R5cGUsICJ2c3N1ZSIsIHZvaWQgMCk7CgpWc3N1ZU5ld0NvbW1lbnQgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFZzc3VlQnV0dG9uOiBfX3Z1ZV9jb21wb25lbnRfXyQ2LAogICAgVnNzdWVJY29uOiBfX3Z1ZV9jb21wb25lbnRfXyQyCiAgfQp9KV0sIFZzc3VlTmV3Q29tbWVudCk7CnZhciBzY3JpcHQkNyA9IFZzc3VlTmV3Q29tbWVudDsKLyogc2NyaXB0ICovCgpjb25zdCBfX3Z1ZV9zY3JpcHRfXyQ3ID0gc2NyaXB0JDc7Ci8qIHRlbXBsYXRlICovCgp2YXIgX192dWVfcmVuZGVyX18kNCA9IGZ1bmN0aW9uICgpIHsKICB2YXIgX3ZtID0gdGhpczsKCiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogIHJldHVybiBfYygnZGl2JywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1uZXctY29tbWVudCIKICB9LCBbX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtY29tbWVudC1hdmF0YXIiCiAgfSwgW192bS51c2VyID8gX2MoJ2EnLCB7CiAgICBhdHRyczogewogICAgICAiaHJlZiI6IF92bS51c2VyLmhvbWVwYWdlLAogICAgICAidGl0bGUiOiBfdm0udXNlci51c2VybmFtZSwKICAgICAgInRhcmdldCI6ICJfYmxhbmsiLAogICAgICAicmVsIjogIm5vb3BlbmVyIG5vcmVmZXJyZXIiCiAgICB9CiAgfSwgW19jKCdpbWcnLCB7CiAgICBhdHRyczogewogICAgICAic3JjIjogX3ZtLnVzZXIuYXZhdGFyLAogICAgICAiYWx0IjogX3ZtLnVzZXIudXNlcm5hbWUKICAgIH0KICB9KV0pIDogX2MoJ1Zzc3VlSWNvbicsIHsKICAgIGF0dHJzOiB7CiAgICAgICJuYW1lIjogX3ZtLnBsYXRmb3JtLnRvTG93ZXJDYXNlKCksCiAgICAgICJ0aXRsZSI6IF92bS52c3N1ZS4kdCgnbG9naW5Ub0NvbW1lbnQnLCB7CiAgICAgICAgcGxhdGZvcm06IF92bS5wbGF0Zm9ybQogICAgICB9KQogICAgfSwKICAgIG9uOiB7CiAgICAgICJjbGljayI6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICByZXR1cm4gX3ZtLnZzc3VlLmxvZ2luKCk7CiAgICAgIH0KICAgIH0KICB9KV0sIDEpLCBfdm0uX3YoIiAiKSwgX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtbmV3LWNvbW1lbnQtYm9keSIKICB9LCBbX2MoJ3RleHRhcmVhJywgewogICAgZGlyZWN0aXZlczogW3sKICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICB2YWx1ZTogX3ZtLmNvbnRlbnQsCiAgICAgIGV4cHJlc3Npb246ICJjb250ZW50IgogICAgfV0sCiAgICByZWY6ICJpbnB1dCIsCiAgICBzdGF0aWNDbGFzczogInZzc3VlLW5ldy1jb21tZW50LWlucHV0IiwKICAgIGF0dHJzOiB7CiAgICAgICJyb3dzIjogX3ZtLmlucHV0Um93cywKICAgICAgImRpc2FibGVkIjogX3ZtLmlzSW5wdXREaXNhYmxlZCwKICAgICAgInBsYWNlaG9sZGVyIjogX3ZtLnZzc3VlLiR0KF92bS51c2VyID8gJ3BsYWNlaG9sZGVyJyA6ICdub0xvZ2luUGxhY2VIb2xkZXInKSwKICAgICAgInNwZWxsY2hlY2siOiBmYWxzZSwKICAgICAgImFyaWEtbGFiZWwiOiAibGVhdmUgYSBjb21tZW50IgogICAgfSwKICAgIGRvbVByb3BzOiB7CiAgICAgICJ2YWx1ZSI6IF92bS5jb250ZW50CiAgICB9LAogICAgb246IHsKICAgICAgImtleXVwIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIGlmICghJGV2ZW50LnR5cGUuaW5kZXhPZigna2V5JykgJiYgX3ZtLl9rKCRldmVudC5rZXlDb2RlLCAiZW50ZXIiLCAxMywgJGV2ZW50LmtleSwgIkVudGVyIikpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KCiAgICAgICAgaWYgKCEkZXZlbnQuY3RybEtleSkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gX3ZtLnN1Ym1pdCgpOwogICAgICB9LAogICAgICAiaW5wdXQiOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfdm0uY29udGVudCA9ICRldmVudC50YXJnZXQudmFsdWU7CiAgICAgIH0KICAgIH0KICB9KV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtbmV3LWNvbW1lbnQtZm9vdGVyIgogIH0sIFtfdm0udXNlciA/IF9jKCdzcGFuJywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1jdXJyZW50LXVzZXIiCiAgfSwgW19jKCdzcGFuJywgW192bS5fdihfdm0uX3MoX3ZtLnZzc3VlLiR0KCdjdXJyZW50VXNlcicpKSArICIgLSAiICsgX3ZtLl9zKF92bS51c2VyLnVzZXJuYW1lKSArICIgLSAiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2EnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWxvZ291dCIsCiAgICBvbjogewogICAgICAiY2xpY2siOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuIF92bS52c3N1ZS5sb2dvdXQoKTsKICAgICAgfQogICAgfQogIH0sIFtfdm0uX3YoIlxuICAgICAgICAiICsgX3ZtLl9zKF92bS52c3N1ZS4kdCgnbG9nb3V0JykpICsgIlxuICAgICAgIildKV0pIDogX2MoJ3NwYW4nLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWN1cnJlbnQtdXNlciIKICB9LCBbX3ZtLl92KCJcbiAgICAgICIgKyBfdm0uX3MoX3ZtLnZzc3VlLiR0KCdsb2dpblRvQ29tbWVudCcsIHsKICAgIHBsYXRmb3JtOiBfdm0ucGxhdGZvcm0KICB9KSkgKyAiXG4gICAgIildKSwgX3ZtLl92KCIgIiksIF9jKCdkaXYnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLW5ldy1jb21tZW50LW9wZXJhdGlvbnMiCiAgfSwgW192bS51c2VyID8gX2MoJ1Zzc3VlQnV0dG9uJywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1idXR0b24tc3VibWl0LWNvbW1lbnQiLAogICAgYXR0cnM6IHsKICAgICAgInR5cGUiOiAicHJpbWFyeSIsCiAgICAgICJkaXNhYmxlZCI6IF92bS5pc1N1Ym1pdERpc2FibGVkCiAgICB9LAogICAgb246IHsKICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIHJldHVybiBfdm0uc3VibWl0KCk7CiAgICAgIH0KICAgIH0KICB9LCBbX2MoJ1Zzc3VlSWNvbicsIHsKICAgIGRpcmVjdGl2ZXM6IFt7CiAgICAgIG5hbWU6ICJzaG93IiwKICAgICAgcmF3TmFtZTogInYtc2hvdyIsCiAgICAgIHZhbHVlOiBfdm0ubG9hZGluZywKICAgICAgZXhwcmVzc2lvbjogImxvYWRpbmciCiAgICB9XSwKICAgIGF0dHJzOiB7CiAgICAgICJuYW1lIjogImxvYWRpbmciCiAgICB9CiAgfSksIF92bS5fdigiXG5cbiAgICAgICAgIiArIF92bS5fcyhfdm0udnNzdWUuJHQoX3ZtLmxvYWRpbmcgPyAnc3VibWl0dGluZycgOiAnc3VibWl0Q29tbWVudCcpKSArICJcbiAgICAgICIpXSwgMSkgOiBfYygnVnNzdWVCdXR0b24nLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWJ1dHRvbi1sb2dpbiIsCiAgICBhdHRyczogewogICAgICAidHlwZSI6ICJwcmltYXJ5IiwKICAgICAgInRpdGxlIjogX3ZtLnZzc3VlLiR0KCdsb2dpblRvQ29tbWVudCcsIHsKICAgICAgICBwbGF0Zm9ybTogX3ZtLnBsYXRmb3JtCiAgICAgIH0pCiAgICB9LAogICAgb246IHsKICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIHJldHVybiBfdm0udnNzdWUubG9naW4oKTsKICAgICAgfQogICAgfQogIH0sIFtfdm0uX3YoIlxuICAgICAgICAiICsgX3ZtLl9zKF92bS52c3N1ZS4kdCgnbG9naW4nLCB7CiAgICBwbGF0Zm9ybTogX3ZtLnBsYXRmb3JtCiAgfSkpICsgIlxuICAgICAgIildKV0sIDEpXSldKTsKfTsKCnZhciBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQ0ID0gW107Ci8qIHN0eWxlICovCgpjb25zdCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kNyA9IHVuZGVmaW5lZDsKLyogc2NvcGVkICovCgpjb25zdCBfX3Z1ZV9zY29wZV9pZF9fJDcgPSB1bmRlZmluZWQ7Ci8qIG1vZHVsZSBpZGVudGlmaWVyICovCgpjb25zdCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDcgPSB1bmRlZmluZWQ7Ci8qIGZ1bmN0aW9uYWwgdGVtcGxhdGUgKi8KCmNvbnN0IF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyQ3ID0gZmFsc2U7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJDcgPSBub3JtYWxpemVDb21wb25lbnQoewogIHJlbmRlcjogX192dWVfcmVuZGVyX18kNCwKICBzdGF0aWNSZW5kZXJGbnM6IF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDQKfSwgX192dWVfaW5qZWN0X3N0eWxlc19fJDcsIF9fdnVlX3NjcmlwdF9fJDcsIF9fdnVlX3Njb3BlX2lkX18kNywgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDcsIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kNywgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwoKbGV0IFZzc3VlTm90aWNlID0gY2xhc3MgVnNzdWVOb3RpY2UgZXh0ZW5kcyBWdWUkMSB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlciguLi5hcmd1bWVudHMpOyAvLyBwcm9ncmVzcyBkYXRhCgogICAgdGhpcy5wcm9ncmVzcyA9IHsKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIHBlcmNlbnQ6IDAsCiAgICAgIHRpbWVyOiBudWxsLAogICAgICBzcGVlZDogMjAwCiAgICB9OyAvLyBhbGVydCBkYXRhCgogICAgdGhpcy5hbGVydCA9IHsKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIG1lc3NhZ2U6IG51bGwsCiAgICAgIHRpbWVyOiBudWxsCiAgICB9OwogIH0KICAvKioKICAgKiBTaG93IHByb2dyZXNzIHdoZW4gbG9hZGluZyBjb21tZW50cwogICAqLwoKCiAgb25Mb2FkaW5nQ29tbWVudHNDaGFuZ2UodmFsKSB7CiAgICBpZiAodGhpcy52c3N1ZS5jb21tZW50cykgewogICAgICBpZiAodmFsKSB7CiAgICAgICAgdGhpcy5wcm9ncmVzc1N0YXJ0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wcm9ncmVzc0RvbmUoKTsKICAgICAgfQogICAgfQogIH0KCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMudnNzdWUuJG9uKCdlcnJvcicsIGUgPT4gdGhpcy5hbGVydFNob3coZS5tZXNzYWdlKSk7CiAgfQoKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy52c3N1ZS4kb2ZmKCdlcnJvcicpOwogICAgaWYgKHRoaXMucHJvZ3Jlc3MudGltZXIgIT09IG51bGwpIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5wcm9ncmVzcy50aW1lcik7CiAgICBpZiAodGhpcy5hbGVydC50aW1lciAhPT0gbnVsbCkgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmFsZXJ0LnRpbWVyKTsKICB9CiAgLyoqCiAgICogUHJvZ3Jlc3Mgc3RhcnQKICAgKi8KCgogIHByb2dyZXNzU3RhcnQoKSB7CiAgICB0aGlzLnByb2dyZXNzLnNob3cgPSB0cnVlOwogICAgdGhpcy5wcm9ncmVzcy5wZXJjZW50ID0gMDsKICAgIHRoaXMucHJvZ3Jlc3MudGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICB0aGlzLnByb2dyZXNzLnBlcmNlbnQgKz0gNTsKCiAgICAgIGlmICh0aGlzLnByb2dyZXNzLnBlcmNlbnQgPiA5NCkgewogICAgICAgIGlmICh0aGlzLnByb2dyZXNzLnRpbWVyICE9PSBudWxsKSB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnByb2dyZXNzLnRpbWVyKTsKICAgICAgfQogICAgfSwgdGhpcy5wcm9ncmVzcy5zcGVlZCk7CiAgfQogIC8qKgogICAqIFByb2dyZXNzIHN0b3AKICAgKi8KCgogIHByb2dyZXNzRG9uZSgpIHsKICAgIHRoaXMucHJvZ3Jlc3MucGVyY2VudCA9IDEwMDsKICAgIGlmICh0aGlzLnByb2dyZXNzLnRpbWVyICE9PSBudWxsKSB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucHJvZ3Jlc3MudGltZXIpOwogICAgdGhpcy5wcm9ncmVzcy50aW1lciA9IG51bGw7CiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHRoaXMucHJvZ3Jlc3Muc2hvdyA9IGZhbHNlOwogICAgfSwgdGhpcy5wcm9ncmVzcy5zcGVlZCk7CiAgfQogIC8qKgogICAqIFNob3cgYWxlcnQgbWVzc2FnZQogICAqLwoKCiAgYWxlcnRTaG93KGNvbnRlbnQpIHsKICAgIHRoaXMuYWxlcnQuc2hvdyA9IHRydWU7CiAgICB0aGlzLmFsZXJ0Lm1lc3NhZ2UgPSBjb250ZW50OwogICAgaWYgKHRoaXMuYWxlcnQudGltZXIgIT09IG51bGwpIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5hbGVydC50aW1lcik7CiAgICB0aGlzLmFsZXJ0LnRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gewogICAgICB0aGlzLmFsZXJ0SGlkZSgpOwogICAgfSwgMzAwMCk7CiAgfQogIC8qKgogICAqIEhpZGUgYWxlcnQgbWVzc2FnZQogICAqLwoKCiAgYWxlcnRIaWRlKCkgewogICAgdGhpcy5hbGVydC5zaG93ID0gZmFsc2U7CiAgICBpZiAodGhpcy5hbGVydC50aW1lciAhPT0gbnVsbCkgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmFsZXJ0LnRpbWVyKTsKICAgIHRoaXMuYWxlcnQudGltZXIgPSBudWxsOwogIH0KCn07CgpfX2RlY29yYXRlKFtJbmplY3QoKV0sIFZzc3VlTm90aWNlLnByb3RvdHlwZSwgInZzc3VlIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1dhdGNoKCd2c3N1ZS5pc0xvYWRpbmdDb21tZW50cycpXSwgVnNzdWVOb3RpY2UucHJvdG90eXBlLCAib25Mb2FkaW5nQ29tbWVudHNDaGFuZ2UiLCBudWxsKTsKClZzc3VlTm90aWNlID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBUcmFuc2l0aW9uRmFkZTogX192dWVfY29tcG9uZW50X18kMQogIH0KfSldLCBWc3N1ZU5vdGljZSk7CnZhciBzY3JpcHQkOCA9IFZzc3VlTm90aWNlOwovKiBzY3JpcHQgKi8KCmNvbnN0IF9fdnVlX3NjcmlwdF9fJDggPSBzY3JpcHQkODsKLyogdGVtcGxhdGUgKi8KCnZhciBfX3Z1ZV9yZW5kZXJfXyQ1ID0gZnVuY3Rpb24gKCkgewogIHZhciBfdm0gPSB0aGlzOwoKICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLW5vdGljZSIKICB9LCBbX2MoJ2RpdicsIHsKICAgIGRpcmVjdGl2ZXM6IFt7CiAgICAgIG5hbWU6ICJzaG93IiwKICAgICAgcmF3TmFtZTogInYtc2hvdyIsCiAgICAgIHZhbHVlOiBfdm0ucHJvZ3Jlc3Muc2hvdywKICAgICAgZXhwcmVzc2lvbjogInByb2dyZXNzLnNob3ciCiAgICB9XSwKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtcHJvZ3Jlc3MiLAogICAgc3R5bGU6IHsKICAgICAgd2lkdGg6IF92bS5wcm9ncmVzcy5wZXJjZW50ICsgIiUiLAogICAgICB0cmFuc2l0aW9uOiAiYWxsICIgKyBfdm0ucHJvZ3Jlc3Muc3BlZWQgKyAibXMgbGluZWFyIgogICAgfQogIH0pLCBfdm0uX3YoIiAiKSwgX2MoJ1RyYW5zaXRpb25GYWRlJywgW19jKCdkaXYnLCB7CiAgICBkaXJlY3RpdmVzOiBbewogICAgICBuYW1lOiAic2hvdyIsCiAgICAgIHJhd05hbWU6ICJ2LXNob3ciLAogICAgICB2YWx1ZTogX3ZtLmFsZXJ0LnNob3csCiAgICAgIGV4cHJlc3Npb246ICJhbGVydC5zaG93IgogICAgfV0sCiAgICBzdGF0aWNDbGFzczogInZzc3VlLWFsZXJ0IiwKICAgIGRvbVByb3BzOiB7CiAgICAgICJ0ZXh0Q29udGVudCI6IF92bS5fcyhfdm0uYWxlcnQubWVzc2FnZSkKICAgIH0sCiAgICBvbjogewogICAgICAiY2xpY2siOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuIF92bS5hbGVydEhpZGUoKTsKICAgICAgfQogICAgfQogIH0pXSldLCAxKTsKfTsKCnZhciBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQ1ID0gW107Ci8qIHN0eWxlICovCgpjb25zdCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kOCA9IHVuZGVmaW5lZDsKLyogc2NvcGVkICovCgpjb25zdCBfX3Z1ZV9zY29wZV9pZF9fJDggPSB1bmRlZmluZWQ7Ci8qIG1vZHVsZSBpZGVudGlmaWVyICovCgpjb25zdCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDggPSB1bmRlZmluZWQ7Ci8qIGZ1bmN0aW9uYWwgdGVtcGxhdGUgKi8KCmNvbnN0IF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyQ4ID0gZmFsc2U7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJDggPSBub3JtYWxpemVDb21wb25lbnQoewogIHJlbmRlcjogX192dWVfcmVuZGVyX18kNSwKICBzdGF0aWNSZW5kZXJGbnM6IF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDUKfSwgX192dWVfaW5qZWN0X3N0eWxlc19fJDgsIF9fdnVlX3NjcmlwdF9fJDgsIF9fdnVlX3Njb3BlX2lkX18kOCwgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDgsIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kOCwgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwoKbGV0IFZzc3VlU3RhdHVzID0gY2xhc3MgVnNzdWVTdGF0dXMgZXh0ZW5kcyBWdWUkMSB7CiAgZ2V0IHN0YXR1cygpIHsKICAgIGlmICh0aGlzLnZzc3VlLmlzRmFpbGVkKSB7CiAgICAgIHJldHVybiAnZmFpbGVkJzsKICAgIH0gZWxzZSBpZiAodGhpcy52c3N1ZS5pc0luaXRpYWxpemluZykgewogICAgICByZXR1cm4gJ2luaXRpYWxpemluZyc7CiAgICB9IGVsc2UgaWYgKHRoaXMudnNzdWUuaXNJc3N1ZU5vdENyZWF0ZWQgJiYgIXRoaXMudnNzdWUuaXNDcmVhdGluZ0lzc3VlKSB7CiAgICAgIGlmICh0aGlzLnZzc3VlLmlzQWRtaW4gfHwgIXRoaXMudnNzdWUuaXNMb2dpbmVkKSB7CiAgICAgICAgcmV0dXJuICdpc3N1ZU5vdENyZWF0ZWQnOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnZmFpbGVkJzsKICAgICAgfQogICAgfSBlbHNlIGlmICh0aGlzLnZzc3VlLmlzTG9naW5SZXF1aXJlZCkgewogICAgICByZXR1cm4gJ2xvZ2luUmVxdWlyZWQnOwogICAgfSBlbHNlIGlmICghdGhpcy52c3N1ZS5jb21tZW50cyB8fCB0aGlzLnZzc3VlLmlzQ3JlYXRpbmdJc3N1ZSkgewogICAgICByZXR1cm4gJ2xvYWRpbmdDb21tZW50cyc7CiAgICB9IGVsc2UgaWYgKHRoaXMudnNzdWUuY29tbWVudHMuZGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgcmV0dXJuICdub0NvbW1lbnRzJzsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0KCiAgaGFuZGxlQ2xpY2soKSB7CiAgICBpZiAodGhpcy5zdGF0dXMgPT09ICdpc3N1ZU5vdENyZWF0ZWQnKSB7CiAgICAgIHRoaXMudnNzdWUucG9zdElzc3VlKCk7CiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdHVzID09PSAnbG9naW5SZXF1aXJlZCcpIHsKICAgICAgdGhpcy52c3N1ZS5sb2dpbigpOwogICAgfQogIH0KCn07CgpfX2RlY29yYXRlKFtJbmplY3QoKV0sIFZzc3VlU3RhdHVzLnByb3RvdHlwZSwgInZzc3VlIiwgdm9pZCAwKTsKClZzc3VlU3RhdHVzID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBUcmFuc2l0aW9uRmFkZTogX192dWVfY29tcG9uZW50X18kMSwKICAgIFZzc3VlSWNvbjogX192dWVfY29tcG9uZW50X18kMgogIH0KfSldLCBWc3N1ZVN0YXR1cyk7CnZhciBzY3JpcHQkOSA9IFZzc3VlU3RhdHVzOwovKiBzY3JpcHQgKi8KCmNvbnN0IF9fdnVlX3NjcmlwdF9fJDkgPSBzY3JpcHQkOTsKLyogdGVtcGxhdGUgKi8KCnZhciBfX3Z1ZV9yZW5kZXJfXyQ2ID0gZnVuY3Rpb24gKCkgewogIHZhciBfdm0gPSB0aGlzOwoKICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgcmV0dXJuIF9jKCdUcmFuc2l0aW9uRmFkZScsIFtfdm0uc3RhdHVzID8gX2MoJ2RpdicsIHsKICAgIGtleTogX3ZtLnN0YXR1cywKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtc3RhdHVzIgogIH0sIFtbJ2ZhaWxlZCcsICdsb2FkaW5nQ29tbWVudHMnLCAnaW5pdGlhbGl6aW5nJ10uaW5jbHVkZXMoX3ZtLnN0YXR1cykgPyBfYygnVnNzdWVJY29uJywgewogICAgYXR0cnM6IHsKICAgICAgIm5hbWUiOiBfdm0uc3RhdHVzID09PSAnZmFpbGVkJyA/ICdlcnJvcicgOiAnbG9hZGluZycKICAgIH0KICB9KSA6IF92bS5fZSgpLCBfdm0uX3YoIiAiKSwgX2MoJ3AnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLXN0YXR1cy1pbmZvIgogIH0sIFtfYyhbJ2lzc3VlTm90Q3JlYXRlZCcsICdsb2dpblJlcXVpcmVkJ10uaW5jbHVkZXMoX3ZtLnN0YXR1cykgPyAnYScgOiAnc3BhbicsIHsKICAgIHRhZzogIkNvbXBvbmVudCIsCiAgICBvbjogewogICAgICAiY2xpY2siOiBfdm0uaGFuZGxlQ2xpY2sKICAgIH0KICB9LCBbX3ZtLl92KCJcbiAgICAgICAgIiArIF92bS5fcyhfdm0udnNzdWUuJHQoX3ZtLnN0YXR1cykpICsgIlxuICAgICAgIildKV0sIDEpXSwgMSkgOiBfdm0uX2UoKV0pOwp9OwoKdmFyIF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDYgPSBbXTsKLyogc3R5bGUgKi8KCmNvbnN0IF9fdnVlX2luamVjdF9zdHlsZXNfXyQ5ID0gdW5kZWZpbmVkOwovKiBzY29wZWQgKi8KCmNvbnN0IF9fdnVlX3Njb3BlX2lkX18kOSA9IHVuZGVmaW5lZDsKLyogbW9kdWxlIGlkZW50aWZpZXIgKi8KCmNvbnN0IF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kOSA9IHVuZGVmaW5lZDsKLyogZnVuY3Rpb25hbCB0ZW1wbGF0ZSAqLwoKY29uc3QgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDkgPSBmYWxzZTsKLyogc3R5bGUgaW5qZWN0ICovCgovKiBzdHlsZSBpbmplY3QgU1NSICovCgovKiBzdHlsZSBpbmplY3Qgc2hhZG93IGRvbSAqLwoKY29uc3QgX192dWVfY29tcG9uZW50X18kOSA9IG5vcm1hbGl6ZUNvbXBvbmVudCh7CiAgcmVuZGVyOiBfX3Z1ZV9yZW5kZXJfXyQ2LAogIHN0YXRpY1JlbmRlckZuczogX192dWVfc3RhdGljUmVuZGVyRm5zX18kNgp9LCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kOSwgX192dWVfc2NyaXB0X18kOSwgX192dWVfc2NvcGVfaWRfXyQ5LCBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18kOSwgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyQ5LCBmYWxzZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7CgpsZXQgVnNzdWVCb2R5ID0gY2xhc3MgVnNzdWVCb2R5IGV4dGVuZHMgVnVlJDEge307CgpfX2RlY29yYXRlKFtJbmplY3QoKV0sIFZzc3VlQm9keS5wcm90b3R5cGUsICJ2c3N1ZSIsIHZvaWQgMCk7CgpWc3N1ZUJvZHkgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFRyYW5zaXRpb25GYWRlOiBfX3Z1ZV9jb21wb25lbnRfXyQxLAogICAgVnNzdWVJY29uOiBfX3Z1ZV9jb21wb25lbnRfXyQyLAogICAgVnNzdWVDb21tZW50czogX192dWVfY29tcG9uZW50X18kNSwKICAgIFZzc3VlTmV3Q29tbWVudDogX192dWVfY29tcG9uZW50X18kNywKICAgIFZzc3VlTm90aWNlOiBfX3Z1ZV9jb21wb25lbnRfXyQ4LAogICAgVnNzdWVTdGF0dXM6IF9fdnVlX2NvbXBvbmVudF9fJDkKICB9Cn0pXSwgVnNzdWVCb2R5KTsKdmFyIHNjcmlwdCRhID0gVnNzdWVCb2R5OwovKiBzY3JpcHQgKi8KCmNvbnN0IF9fdnVlX3NjcmlwdF9fJGEgPSBzY3JpcHQkYTsKLyogdGVtcGxhdGUgKi8KCnZhciBfX3Z1ZV9yZW5kZXJfXyQ3ID0gZnVuY3Rpb24gKCkgewogIHZhciBfdm0gPSB0aGlzOwoKICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgcmV0dXJuIF9jKCdUcmFuc2l0aW9uRmFkZScsIFshX3ZtLnZzc3VlLmlzSW5pdGlhbGl6aW5nID8gX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtYm9keSIKICB9LCBbX3ZtLnZzc3VlLkFQSSA/IF9jKCdWc3N1ZU5ld0NvbW1lbnQnKSA6IF92bS5fZSgpLCBfdm0uX3YoIiAiKSwgX2MoJ1Zzc3VlTm90aWNlJyksIF92bS5fdigiICIpLCBfYygnVHJhbnNpdGlvbkZhZGUnLCBbX3ZtLnZzc3VlLmNvbW1lbnRzICYmIF92bS52c3N1ZS5jb21tZW50cy5kYXRhLmxlbmd0aCA+IDAgPyBfYygnVnNzdWVDb21tZW50cycpIDogX2MoJ1Zzc3VlU3RhdHVzJyldLCAxKV0sIDEpIDogX2MoJ1Zzc3VlU3RhdHVzJyldLCAxKTsKfTsKCnZhciBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQ3ID0gW107Ci8qIHN0eWxlICovCgpjb25zdCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kYSA9IHVuZGVmaW5lZDsKLyogc2NvcGVkICovCgpjb25zdCBfX3Z1ZV9zY29wZV9pZF9fJGEgPSB1bmRlZmluZWQ7Ci8qIG1vZHVsZSBpZGVudGlmaWVyICovCgpjb25zdCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJGEgPSB1bmRlZmluZWQ7Ci8qIGZ1bmN0aW9uYWwgdGVtcGxhdGUgKi8KCmNvbnN0IF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyRhID0gZmFsc2U7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJGEgPSBub3JtYWxpemVDb21wb25lbnQoewogIHJlbmRlcjogX192dWVfcmVuZGVyX18kNywKICBzdGF0aWNSZW5kZXJGbnM6IF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDcKfSwgX192dWVfaW5qZWN0X3N0eWxlc19fJGEsIF9fdnVlX3NjcmlwdF9fJGEsIF9fdnVlX3Njb3BlX2lkX18kYSwgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJGEsIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kYSwgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwoKbGV0IFZzc3VlSGVhZGVyID0gY2xhc3MgVnNzdWVIZWFkZXIgZXh0ZW5kcyBWdWUkMSB7fTsKCl9fZGVjb3JhdGUoW0luamVjdCgpXSwgVnNzdWVIZWFkZXIucHJvdG90eXBlLCAidnNzdWUiLCB2b2lkIDApOwoKVnNzdWVIZWFkZXIgPSBfX2RlY29yYXRlKFtDb21wb25lbnRdLCBWc3N1ZUhlYWRlcik7CnZhciBzY3JpcHQkYiA9IFZzc3VlSGVhZGVyOwovKiBzY3JpcHQgKi8KCmNvbnN0IF9fdnVlX3NjcmlwdF9fJGIgPSBzY3JpcHQkYjsKLyogdGVtcGxhdGUgKi8KCnZhciBfX3Z1ZV9yZW5kZXJfXyQ4ID0gZnVuY3Rpb24gKCkgewogIHZhciBfdm0gPSB0aGlzOwoKICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWhlYWRlciIKICB9LCBbX2MoJ2EnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWhlYWRlci1jb21tZW50cy1jb3VudCIsCiAgICBhdHRyczogewogICAgICAiaHJlZiI6IF92bS52c3N1ZS5pc3N1ZSA/IF92bS52c3N1ZS5pc3N1ZS5saW5rIDogbnVsbCwKICAgICAgInRhcmdldCI6ICJfYmxhbmsiLAogICAgICAicmVsIjogIm5vb3BlbmVyIG5vcmVmZXJyZXIiCiAgICB9CiAgfSwgW19jKCdzcGFuJywgW192bS5fdigiXG4gICAgICAiICsgX3ZtLl9zKF92bS52c3N1ZS5jb21tZW50cyA/IF92bS52c3N1ZS4kdGMoJ2NvbW1lbnRzJywgX3ZtLnZzc3VlLmNvbW1lbnRzLmNvdW50LCB7CiAgICBjb3VudDogX3ZtLnZzc3VlLmNvbW1lbnRzLmNvdW50CiAgfSkgOiBfdm0udnNzdWUuJHRjKCdjb21tZW50cycsIDApKSArICJcbiAgICAiKV0pXSksIF92bS5fdigiICIpLCBfYygnc3BhbicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtaGVhZGVyLXBvd2VyZWQtYnkiCiAgfSwgW19jKCdzcGFuJywgW192bS5fdigiUG93ZXJlZCBieSIpXSksIF92bS5fdigiICIpLCBfdm0udnNzdWUuQVBJID8gX2MoJ3NwYW4nLCBbX2MoJ2EnLCB7CiAgICBhdHRyczogewogICAgICAiaHJlZiI6IF92bS52c3N1ZS5BUEkucGxhdGZvcm0ubGluaywKICAgICAgInRpdGxlIjogX3ZtLnZzc3VlLkFQSS5wbGF0Zm9ybS5uYW1lICsgIiBBUEkgIiArIF92bS52c3N1ZS5BUEkucGxhdGZvcm0udmVyc2lvbiwKICAgICAgInRhcmdldCI6ICJfYmxhbmsiLAogICAgICAicmVsIjogIm5vb3BlbmVyIG5vcmVmZXJyZXIiCiAgICB9CiAgfSwgW192bS5fdigiXG4gICAgICAgICIgKyBfdm0uX3MoX3ZtLnZzc3VlLkFQSS5wbGF0Zm9ybS5uYW1lKSArICJcbiAgICAgICIpXSksIF92bS5fdigiICIpLCBfYygnc3BhbicsIFtfdm0uX3YoIiYiKV0pXSkgOiBfdm0uX2UoKSwgX3ZtLl92KCIgIiksIF9jKCdhJywgewogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiAiaHR0cHM6Ly9naXRodWIuY29tL21ldGVvcmx4eS92c3N1ZSIsCiAgICAgICJ0aXRsZSI6ICJWc3N1ZSB2IiArIF92bS52c3N1ZS52ZXJzaW9uLAogICAgICAidGFyZ2V0IjogIl9ibGFuayIsCiAgICAgICJyZWwiOiAibm9vcGVuZXIgbm9yZWZlcnJlciIKICAgIH0KICB9LCBbX3ZtLl92KCJcbiAgICAgIFZzc3VlXG4gICAgIildKV0pXSk7Cn07Cgp2YXIgX192dWVfc3RhdGljUmVuZGVyRm5zX18kOCA9IFtdOwovKiBzdHlsZSAqLwoKY29uc3QgX192dWVfaW5qZWN0X3N0eWxlc19fJGIgPSB1bmRlZmluZWQ7Ci8qIHNjb3BlZCAqLwoKY29uc3QgX192dWVfc2NvcGVfaWRfXyRiID0gdW5kZWZpbmVkOwovKiBtb2R1bGUgaWRlbnRpZmllciAqLwoKY29uc3QgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyRiID0gdW5kZWZpbmVkOwovKiBmdW5jdGlvbmFsIHRlbXBsYXRlICovCgpjb25zdCBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18kYiA9IGZhbHNlOwovKiBzdHlsZSBpbmplY3QgKi8KCi8qIHN0eWxlIGluamVjdCBTU1IgKi8KCi8qIHN0eWxlIGluamVjdCBzaGFkb3cgZG9tICovCgpjb25zdCBfX3Z1ZV9jb21wb25lbnRfXyRiID0gbm9ybWFsaXplQ29tcG9uZW50KHsKICByZW5kZXI6IF9fdnVlX3JlbmRlcl9fJDgsCiAgc3RhdGljUmVuZGVyRm5zOiBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQ4Cn0sIF9fdnVlX2luamVjdF9zdHlsZXNfXyRiLCBfX3Z1ZV9zY3JpcHRfXyRiLCBfX3Z1ZV9zY29wZV9pZF9fJGIsIF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyRiLCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJGIsIGZhbHNlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsKCmNvbnN0IG1lc3NhZ2VzID0gewogIC8vIGF1dGgKICBsb2dpbjogJ0xvZ2luIHdpdGgge3BsYXRmb3JtfScsCiAgbG9nb3V0OiAnTG9nb3V0JywKICBjdXJyZW50VXNlcjogJ0N1cnJlbnQgVXNlcicsCiAgLy8gY29tbWVudCBpbnB1dAogIGxvYWRpbmc6ICdMb2FkaW5nJywKICBzdWJtaXQ6ICdTdWJtaXQnLAogIHN1Ym1pdHRpbmc6ICdTdWJtaXR0aW5nJywKICBzdWJtaXRDb21tZW50OiAnU3VibWl0IENvbW1lbnQnLAogIGNhbmNlbDogJ0NhbmNlbCcsCiAgZWRpdDogJ0VkaXQnLAogIGVkaXRNb2RlOiAnRWRpdCBNb2RlJywKICBkZWxldGU6ICdEZWxldGUnLAogIHJlcGx5OiAnUmVwbHknLAogIC8vIHJlYWN0aW9ucwogIGhlYXJ0OiAnSGVhcnQnLAogIGxpa2U6ICdMaWtlJywKICB1bmxpa2U6ICdVbmxpa2UnLAogIC8vIHBhZ2luYXRpb24KICBwZXJQYWdlOiAnQ29tbWVudHMgcGVyIHBhZ2UnLAogIHNvcnQ6ICdDbGljayB0byBjaGFuZ2UgdGhlIHNvcnQgZGlyZWN0aW9uJywKICBwYWdlOiAnUGFnZScsCiAgcHJldjogJ1ByZXZpb3VzIFBhZ2UnLAogIG5leHQ6ICdOZXh0IFBhZ2UnLAogIC8vIGhpbnQKICBjb21tZW50czogJ0NvbW1lbnRzIHwge2NvdW50fSBDb21tZW50IHwge2NvdW50fSBDb21tZW50cycsCiAgbG9naW5Ub0NvbW1lbnQ6ICdMb2dpbiB3aXRoIHtwbGF0Zm9ybX0gYWNjb3VudCB0byBsZWF2ZSBhIGNvbW1lbnQnLAogIHBsYWNlaG9sZGVyOiAnTGVhdmUgYSBjb21tZW50LiBTdHlsaW5nIHdpdGggTWFya2Rvd24gaXMgc3VwcG9ydGVkLiBDdHJsICsgRW50ZXIgdG8gc3VibWl0LicsCiAgbm9Mb2dpblBsYWNlSG9sZGVyOiAnTG9naW4gdG8gbGVhdmUgYSBjb21tZW50LiBTdHlsaW5nIHdpdGggTWFya2Rvd24gaXMgc3VwcG9ydGVkLiAnLAogIC8vIHN0YXR1cwogIGZhaWxlZDogJ0ZhaWxlZCB0byBsb2FkIGNvbW1lbnRzJywKICBpbml0aWFsaXppbmc6ICdJbml0aWFsaXppbmcuLi4nLAogIGlzc3VlTm90Q3JlYXRlZDogJ0NsaWNrIHRvIGNyZWF0ZSBpc3N1ZScsCiAgbG9hZGluZ0NvbW1lbnRzOiAnTG9hZGluZyBjb21tZW50cy4uLicsCiAgbG9naW5SZXF1aXJlZDogJ0xvZ2luIHRvIHZpZXcgY29tbWVudHMnLAogIG5vQ29tbWVudHM6ICdObyBjb21tZW50cyB5ZXQuIExlYXZlIHRoZSBmaXJzdCBjb21tZW50ICEnLAogIC8vIGFsZXJ0cwogIHJlYWN0aW9uR2l2ZW46IGBBbHJlYWR5IGdpdmVuICd7cmVhY3Rpb259JyByZWFjdGlvbmAsCiAgZGVsZXRlQ29uZmlybTogJ0NvbmZpcm0gdG8gZGVsZXRlIHRoaXMgY29tbWVudCA/JywKICBkZWxldGVGYWlsZWQ6ICdGYWlsZWQgdG8gZGVsZXRlIGNvbW1lbnQnCn07CmNvbnN0IG1lc3NhZ2VzJDEgPSB7CiAgLy8gYXV0aAogIGxvZ2luOiAn5L2/55SoIHtwbGF0Zm9ybX0g55m75b2VJywKICBsb2dvdXQ6ICfpgIDlh7rnmbvlvZUnLAogIGN1cnJlbnRVc2VyOiAn5b2T5YmN55So5oi3JywKICAvLyBjb21tZW50IGlucHV0CiAgbG9hZGluZzogJ+WKoOi9veS4rScsCiAgc3VibWl0OiAn5o+Q5LqkJywKICBzdWJtaXR0aW5nOiAn5Y+R6KGo5LitJywKICBzdWJtaXRDb21tZW50OiAn5Y+R6KGo6K+E6K66JywKICBjYW5jZWw6ICflj5bmtognLAogIGVkaXQ6ICfnvJbovpEnLAogIGVkaXRNb2RlOiAn57yW6L6R5qih5byPJywKICBkZWxldGU6ICfliKDpmaQnLAogIHJlcGx5OiAn5Zue5aSNJywKICAvLyByZWFjdGlvbnMKICBoZWFydDogJ+WWnOasoicsCiAgbGlrZTogJ+i1nicsCiAgdW5saWtlOiAn6LipJywKICAvLyBwYWdpbmF0aW9uCiAgcGVyUGFnZTogJ+avj+mhteivhOiuuuaVsCcsCiAgc29ydDogJ+eCueWHu+aUueWPmOaOkuW6j+aWueW8jycsCiAgcGFnZTogJ+mhteaVsCcsCiAgcHJldjogJ+S4iuS4gOmhtScsCiAgbmV4dDogJ+S4i+S4gOmhtScsCiAgLy8gaGludAogIGNvbW1lbnRzOiAn6K+E6K66IHwge2NvdW50fSDmnaHor4TorrogfCB7Y291bnR9IOadoeivhOiuuicsCiAgbG9naW5Ub0NvbW1lbnQ6ICfkvb/nlKgge3BsYXRmb3JtfSDluJDlj7fnmbvlvZXlkI7lj5Hooajor4TorronLAogIHBsYWNlaG9sZGVyOiAn55WZ5LiL5L2g55qE6K+E6K665Lio5pSv5oyBIE1hcmtkb3duIOivreazleS4qEN0cmwgKyBFbnRlciDlj5Hooajor4TorronLAogIG5vTG9naW5QbGFjZUhvbGRlcjogJ+eZu+W9leWQjuaJjeiDveWPkeihqOivhOiuuuS4qOaUr+aMgSBNYXJrZG93biDor63ms5UnLAogIC8vIHN0YXR1cwogIGZhaWxlZDogJ+ivhOiuuuWKoOi9veWksei0pScsCiAgaW5pdGlhbGl6aW5nOiAn5q2j5Zyo5Yid5aeL5YyWLi4uJywKICBpc3N1ZU5vdENyZWF0ZWQ6ICfngrnlh7vliJvlu7ogSXNzdWUnLAogIGxvYWRpbmdDb21tZW50czogJ+ato+WcqOWKoOi9veivhOiuui4uLicsCiAgbG9naW5SZXF1aXJlZDogJ+eZu+W9leWQjuafpeeci+ivhOiuuicsCiAgbm9Db21tZW50czogJ+i/mOayoeacieivhOiuuu+8jOadpeWPkeihqOesrOS4gOadoeivhOiuuuWQp++8gScsCiAgLy8gYWxlcnRzCiAgcmVhY3Rpb25HaXZlbjogYOW3sue7j+a3u+WKoOi/hyAne3JlYWN0aW9ufScg5LqGYCwKICBkZWxldGVDb25maXJtOiAn56Gu6K6k6KaB5Yig6Zmk6K+l6K+E6K665ZCX77yfJywKICBkZWxldGVGYWlsZWQ6ICfor4TorrrliKDpmaTlpLHotKUnCn07CmNvbnN0IG1lc3NhZ2VzJDIgPSB7CiAgLy8gYXV0aAogIGxvZ2luOiAnRW50cmFyIGNvbSB7cGxhdGZvcm19JywKICBsb2dvdXQ6ICdTYWlyJywKICBjdXJyZW50VXNlcjogJ1VzdcOhcmlvIEF0dWFsJywKICAvLyBjb21tZW50IGlucHV0CiAgbG9hZGluZzogJ0NhcnJlZ2FuZG8nLAogIHN1Ym1pdDogJ0VudmlhcicsCiAgc3VibWl0dGluZzogJ0VudmlhbmRvJywKICBzdWJtaXRDb21tZW50OiAnRW52aWFyIENvbWVudMOhcmlvJywKICBjYW5jZWw6ICdDYW5jZWxhcicsCiAgZWRpdDogJ0VkaXRhcicsCiAgZWRpdE1vZGU6ICdNb2RvIGRlIEVkacOnw6NvJywKICBkZWxldGU6ICdBcGFnYXInLAogIHJlcGx5OiAnUmVzcG9uZGVyJywKICAvLyByZWFjdGlvbnMKICBoZWFydDogJ0hlYXJ0JywKICBsaWtlOiAnTGlrZScsCiAgdW5saWtlOiAnVW5saWtlJywKICAvLyBwYWdpbmF0aW9uCiAgcGVyUGFnZTogJ0NvbWVudMOhcmlvcyBwb3IgcMOhZ2luYScsCiAgc29ydDogJ0NsaXF1ZSBwYXJhIGFsdGVyYXIgYSBvcmRlbmHDp8OjbycsCiAgcGFnZTogJ1DDoWdpbmEnLAogIHByZXY6ICdQw6FnaW5hIEFudGVyaW9yJywKICBuZXh0OiAnUHLDs3hpbWEgUMOhZ2luYScsCiAgLy8gaGludAogIGNvbW1lbnRzOiAnQ29tZW50w6FyaW9zIHwge2NvdW50fSBDb21lbnTDoXJpbyB8IHtjb3VudH0gQ29tZW50w6FyaW9zJywKICBsb2dpblRvQ29tbWVudDogJ0VudHJlIGNvbSB1bWEgY29udGEge3BsYXRmb3JtfSBwYXJhIGRlaXhhciB1bSBjb21lbnTDoXJpbycsCiAgcGxhY2Vob2xkZXI6ICdEZWl4ZSB1bSBjb21lbnTDoXJpby4gRXN0aWxvcyBjb20gTWFya2Rvd24gc3Vwb3J0YWRvcy4gQ3RybCArIEVudGVyIHBhcmEgZW52aWFyLicsCiAgbm9Mb2dpblBsYWNlSG9sZGVyOiAnRW50cmUgcGFyYSBkZWl4YXIgdW0gY29tZW50w6FyaW8uIEVzdGlsb3MgY29tIE1hcmtkb3duIHN1cG9ydGFkb3MuICcsCiAgLy8gc3RhdHVzCiAgZmFpbGVkOiAnRmFsaGEgYW8gY2FycmVnYXIgY29tZW50w6FyaW9zJywKICBpbml0aWFsaXppbmc6ICdJbmljaWFsaXphbmRvLi4uJywKICBpc3N1ZU5vdENyZWF0ZWQ6ICdDbGljayB0byBjcmVhdGUgaXNzdWUnLAogIGxvYWRpbmdDb21tZW50czogJ0NhcnJlZ2FuZG8gY29tZW50w6FyaW9zLi4uJywKICBsb2dpblJlcXVpcmVkOiAnRW50cmFyIHBhcmEgdmlzdWFsaXphciBjb21lbnTDoXJpb3MnLAogIG5vQ29tbWVudHM6ICdOZW5odW0gY29tZW50w6FyaW8uIERlaXhlIG8gcHJpbWVpcm8gY29tZW50w6FyaW8hJywKICAvLyBhbGVydHMKICByZWFjdGlvbkdpdmVuOiBgSsOhIHJlYWdpdSBjb20gJ3tyZWFjdGlvbn0nYCwKICBkZWxldGVDb25maXJtOiAnQXBhZ2FyIGVzdGUgY29tZW50w6FyaW8/JywKICBkZWxldGVGYWlsZWQ6ICdGYWxoYSBhbyBhcGFnYXIgY29tZW50w6FyaW8nCn07CmNvbnN0IG1lc3NhZ2VzJDMgPSB7CiAgLy8gYXV0aAogIGxvZ2luOiAne3BsYXRmb3JtfSDjgafjg63jgrDjgqTjg7MnLAogIGxvZ291dDogJ+ODreOCsOOCouOCpuODiCcsCiAgY3VycmVudFVzZXI6ICfnj77lnKjjga7jg6bjg7zjgrbjg7wnLAogIC8vIGNvbW1lbnQgaW5wdXQKICBsb2FkaW5nOiAn6Kqt44G/6L6844G/5LitJywKICBzdWJtaXQ6ICfpgIHkv6EnLAogIHN1Ym1pdHRpbmc6ICfpgIHkv6HkuK0nLAogIHN1Ym1pdENvbW1lbnQ6ICfjgrPjg6Hjg7Pjg4jjgpLpgIHkv6EnLAogIGNhbmNlbDogJ+OCreODo+ODs+OCu+ODqycsCiAgZWRpdDogJ+e3qOmbhicsCiAgZWRpdE1vZGU6ICfnt6jpm4bjg6Ljg7zjg4knLAogIGRlbGV0ZTogJ+WJiumZpCcsCiAgcmVwbHk6ICfov5Tkv6EnLAogIC8vIHJlYWN0aW9ucwogIGhlYXJ0OiAn44OP44O844OIJywKICBsaWtlOiAn6auY6KmV5L6hJywKICB1bmxpa2U6ICfkvY7oqZXkvqEnLAogIC8vIHBhZ2luYXRpb24KICBwZXJQYWdlOiAn44Kz44Oh44Oz44OIL+ODmuODvOOCuCcsCiAgc29ydDogJ+S4puOBs+mghuOCkuWkieabtOOBmeOCi+OBq+OBr+OCr+ODquODg+OCr+OBl+OBpuOBj+OBoOOBleOBhCcsCiAgcGFnZTogJ+ODmuODvOOCuCcsCiAgcHJldjogJ+WJjeOBruODmuODvOOCuCcsCiAgbmV4dDogJ+asoeOBruODmuODvOOCuCcsCiAgLy8gaGludAogIGNvbW1lbnRzOiAn44Kz44Oh44Oz44OIIHwge2NvdW50fSDjgrPjg6Hjg7Pjg4ggfCB7Y291bnR9IOOCs+ODoeODs+ODiCcsCiAgbG9naW5Ub0NvbW1lbnQ6ICfjgrPjg6Hjg7Pjg4jjgpLmrovjgZnjgavjga8ge3BsYXRmb3JtfSDjgqLjgqvjgqbjg7Pjg4jjgafjg63jgrDjgqTjg7PjgZfjgabjgY/jgaDjgZXjgYTjgIInLAogIHBsYWNlaG9sZGVyOiAn44Kz44Oh44Oz44OI44KS5q6L44GX44Gm44GP44Gg44GV44GE44CCTWFya2Rvd24g6KiY5rOV44KS44K144Od44O844OI44GX44Gm44GE44G+44GZ44CCIEN0cmwgKyBFbnRlciDjgafpgIHkv6HjgafjgY3jgb7jgZnjgIInLAogIG5vTG9naW5QbGFjZUhvbGRlcjogJ+OCs+ODoeODs+ODiOOCkuaui+OBmeOBq+OBr+ODreOCsOOCpOODs+OBl+OBpuOBj+OBoOOBleOBhOOAguODnuODvOOCr+ODgOOCpuODs+iomOazleOCkuOCteODneODvOODiOOBl+OBpuOBhOOBvuOBmeOAgicsCiAgLy8gc3RhdHVzCiAgZmFpbGVkOiAn44Kz44Oh44Oz44OI44Gu6Kqt44G/6L6844G/44Gr5aSx5pWX44GX44G+44GX44GfJywKICBpbml0aWFsaXppbmc6ICfliJ3mnJ/ljJbkuK0uLi4nLAogIGlzc3VlTm90Q3JlYXRlZDogJ0NsaWNrIHRvIGNyZWF0ZSBpc3N1ZScsCiAgbG9hZGluZ0NvbW1lbnRzOiAn44Kz44Oh44Oz44OI44Gu6Kqt44G/6L6844G/5LitLi4uJywKICBsb2dpblJlcXVpcmVkOiAn44Kz44Oh44Oz44OI44KS6KaL44KL44Gr44Gv44Ot44Kw44Kk44Oz44GX44Gm44GP44Gg44GV44GEJywKICBub0NvbW1lbnRzOiAn44G+44Gg44Kz44Oh44Oz44OI44GM44GC44KK44G+44Gb44KT44CC5pyA5Yid44Gu44Kz44Oh44Oz44OI44KS5q6L44GX44G+44GX44KH44GG77yBJywKICAvLyBhbGVydHMKICByZWFjdGlvbkdpdmVuOiBg5pei44GrICd7cmVhY3Rpb259JyDjga7jg6rjgqLjgq/jgrfjg6fjg7PjgpLjgZfjgabjgYTjgb7jgZlgLAogIGRlbGV0ZUNvbmZpcm06ICfmnKzlvZPjgavjgrPjg6Hjg7Pjg4jjgpLliYrpmaTjgZfjgabjgoLjgYTjgYTjgafjgZnjgYvvvJ8nLAogIGRlbGV0ZUZhaWxlZDogJ+OCs+ODoeODs+ODiOOBruWJiumZpOOBq+WkseaVl+OBl+OBvuOBl+OBnycKfTsKY29uc3QgbWVzc2FnZXMkNCA9IHsKICAvLyBhdXRoCiAgbG9naW46ICfXlNeq15fXkdeo15Ug16LXnSB7cGxhdGZvcm19JywKICBsb2dvdXQ6ICfXlNeq16DXqten15UnLAogIGN1cnJlbnRVc2VyOiAn157Xqdeq157XqS/XqiDXoNeV15vXl9eZL9eqJywKICAvLyBjb21tZW50IGlucHV0CiAgbG9hZGluZzogJ9eY15XXotefJywKICBzdWJtaXQ6ICfXqdec15nXl9eUJywKICBzdWJtaXR0aW5nOiAn16nXldec15cnLAogIHN1Ym1pdENvbW1lbnQ6ICfXqdec15nXl9eqINeq15LXldeR15QnLAogIGNhbmNlbDogJ9eR15nXmNecJywKICBlZGl0OiAn16LXqNeZ15vXlCcsCiAgZWRpdE1vZGU6ICfXntem15Eg16LXqNeZ15vXlCcsCiAgZGVsZXRlOiAn157Xl9eZ16fXlCcsCiAgcmVwbHk6ICfXqtep15XXkdeUJywKICAvLyByZWFjdGlvbnMKICBoZWFydDogJ9ec15EnLAogIGxpa2U6ICfXnNeZ15nXpycsCiAgdW5saWtlOiAn15DXoNec15nXmdenJywKICAvLyBwYWdpbmF0aW9uCiAgcGVyUGFnZTogJ9eq15LXldeR15XXqiDXnNeT16MnLAogIHNvcnQ6ICfXnNeX16bXlSDXm9eT15kg15zXqdeg15XXqiDXkNeqINeb15nXldeV158g15TXnteZ15XXnycsCiAgcGFnZTogJ9eT16MnLAogIHByZXY6ICfXlNeT16Mg15TXp9eV15PXnScsCiAgbmV4dDogJ9eU15PXoyDXlNeR15AnLAogIC8vIGhpbnQKICBjb21tZW50czogJ9eq15LXldeR15XXqiB8IHtjb3VudH0g16rXkteV15HXlCB8IHtjb3VudH0g16rXkteV15HXldeqJywKICBsb2dpblRvQ29tbWVudDogJ9eU16rXl9eR16jXlSDXotedINeX16nXkdeV158ge3BsYXRmb3JtfSDXm9eT15kg15zXlNep15DXmdeoINeq15LXldeR15QnLAogIHBsYWNlaG9sZGVyOiAn15TXqdeQ15nXqNeVINeq15LXldeR15QuINeZ16kg16rXnteZ15vXlCDXkdei15nXpteV15Eg15HXoteW16jXqiBNYXJrZG93bi4gQ3RybCArIEVudGVyINeb15PXmSDXnNep15zXldeXLicsCiAgbm9Mb2dpblBsYWNlSG9sZGVyOiAn15TXqteX15HXqNeVINeb15PXmSDXnNeU16nXkNeZ16gg16rXkteV15HXlC4g15nXqSDXqtee15nXm9eUINeR16LXmdem15XXkSDXkdei15bXqNeqIE1hcmtkb3duLiAnLAogIC8vIHN0YXR1cwogIGZhaWxlZDogJ9eb16nXnNeV158g15HXmNei15nXoNeqINeU16rXkteV15HXldeqJywKICBpbml0aWFsaXppbmc6ICfXnteQ16rXl9ecLi4uJywKICBpc3N1ZU5vdENyZWF0ZWQ6ICfXnNeX16bXlSDXnNeZ16bXmdeo16ogaXNzdWUnLAogIGxvYWRpbmdDb21tZW50czogJ9eY15XXotefINeq15LXldeR15XXqi4uLicsCiAgbG9naW5SZXF1aXJlZDogJ9eU16rXl9eR16jXlSDXm9eT15kg15zXptek15XXqiDXkdeq15LXldeR15XXqicsCiAgbm9Db21tZW50czogJ9ei15PXmdeZ158g15DXmdefINeq15LXldeR15XXqi4g15TXqdeQ15nXqNeVINeq15LXldeR15Qg16jXkNep15XXoNeUICEnLAogIC8vIGFsZXJ0cwogIHJlYWN0aW9uR2l2ZW46IGDXm9eR16gg16DXmdeq158g15fXmdeV15XXmSAne3JlYWN0aW9ufSdgLAogIGRlbGV0ZUNvbmZpcm06ICfXkdeY15XXl9eZ150g15HXnteX15nXp9eqINeU16rXkteV15HXlCA/JywKICBkZWxldGVGYWlsZWQ6ICfXm9ep15zXldefINeR157Xl9eZ16fXqiDXlNeq15LXldeR15QnCn07CgppZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChWdWUsICckaTE4bicpKSB7CiAgVnVlLnVzZShWdWVJMThuKTsKfQoKY29uc3QgaTE4biA9IG5ldyBWdWVJMThuKHsKICBsb2NhbGU6ICdlbicsCiAgZmFsbGJhY2tMb2NhbGU6ICdlbicsCiAgbWVzc2FnZXM6IHsKICAgIGVuOiBtZXNzYWdlcywKICAgICdlbi1VUyc6IG1lc3NhZ2VzLAogICAgemg6IG1lc3NhZ2VzJDEsCiAgICAnemgtQ04nOiBtZXNzYWdlcyQxLAogICAgcHQ6IG1lc3NhZ2VzJDIsCiAgICAncHQtQlInOiBtZXNzYWdlcyQyLAogICAgamE6IG1lc3NhZ2VzJDMsCiAgICAnamEtSlAnOiBtZXNzYWdlcyQzLAogICAgaGU6IG1lc3NhZ2VzJDQsCiAgICAnaGUtSUwnOiBtZXNzYWdlcyQ0CiAgfQp9KTsKbGV0IFZzc3VlU3RvcmUgPSBjbGFzcyBWc3N1ZVN0b3JlIGV4dGVuZHMgVnVlJDEgewogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoLi4uYXJndW1lbnRzKTsKCiAgICB0aGlzLnRpdGxlID0gb3B0aW9ucyA9PiBgJHtvcHRpb25zLnByZWZpeH0ke2RvY3VtZW50LnRpdGxlfWA7CgogICAgdGhpcy5pc3N1ZUlkID0gbnVsbDsKICAgIHRoaXMub3B0aW9ucyA9IG51bGw7CiAgICB0aGlzLkFQSSA9IG51bGw7CiAgICB0aGlzLmFjY2Vzc1Rva2VuID0gbnVsbDsKICAgIHRoaXMudXNlciA9IG51bGw7CiAgICB0aGlzLmlzc3VlID0gbnVsbDsKICAgIHRoaXMuY29tbWVudHMgPSBudWxsOwogICAgdGhpcy5xdWVyeSA9IHsKICAgICAgcGFnZTogMSwKICAgICAgcGVyUGFnZTogMTAsCiAgICAgIHNvcnQ6ICdkZXNjJwogICAgfTsKICAgIHRoaXMuaXNJbml0aWFsaXppbmcgPSB0cnVlOwogICAgdGhpcy5pc0lzc3VlTm90Q3JlYXRlZCA9IGZhbHNlOwogICAgdGhpcy5pc0xvZ2luUmVxdWlyZWQgPSBmYWxzZTsKICAgIHRoaXMuaXNGYWlsZWQgPSBmYWxzZTsKICAgIHRoaXMuaXNDcmVhdGluZ0lzc3VlID0gZmFsc2U7CiAgICB0aGlzLmlzTG9hZGluZ0NvbW1lbnRzID0gZmFsc2U7CiAgICB0aGlzLmlzQ3JlYXRpbmdDb21tZW50ID0gZmFsc2U7CiAgICB0aGlzLmlzVXBkYXRpbmdDb21tZW50ID0gZmFsc2U7CiAgfQoKICBnZXQgdmVyc2lvbigpIHsKICAgIHJldHVybiAiMS40LjgiOwogIH0KCiAgZ2V0IGlzc3VlVGl0bGUoKSB7CiAgICBpZiAodGhpcy5vcHRpb25zID09PSBudWxsKSB7CiAgICAgIHJldHVybiAnJzsKICAgIH0KCiAgICByZXR1cm4gdHlwZW9mIHRoaXMudGl0bGUgPT09ICdmdW5jdGlvbicgPyB0aGlzLnRpdGxlKHRoaXMub3B0aW9ucykgOiBgJHt0aGlzLm9wdGlvbnMucHJlZml4fSR7dGhpcy50aXRsZX1gOwogIH0KCiAgZ2V0IGlzUGVuZGluZygpIHsKICAgIHJldHVybiB0aGlzLmlzTG9hZGluZ0NvbW1lbnRzIHx8IHRoaXMuaXNDcmVhdGluZ0NvbW1lbnQgfHwgdGhpcy5pc1VwZGF0aW5nQ29tbWVudDsKICB9CgogIGdldCBpc0xvZ2luZWQoKSB7CiAgICByZXR1cm4gdGhpcy5hY2Nlc3NUb2tlbiAhPT0gbnVsbCAmJiB0aGlzLnVzZXIgIT09IG51bGw7CiAgfQoKICBnZXQgaXNBZG1pbigpIHsKICAgIHJldHVybiB0aGlzLm9wdGlvbnMgIT09IG51bGwgJiYgdGhpcy5hY2Nlc3NUb2tlbiAhPT0gbnVsbCAmJiB0aGlzLnVzZXIgIT09IG51bGwgJiYgKHRoaXMudXNlci51c2VybmFtZSA9PT0gdGhpcy5vcHRpb25zLm93bmVyIHx8IHRoaXMub3B0aW9ucy5hZG1pbnMuaW5jbHVkZXModGhpcy51c2VyLnVzZXJuYW1lKSk7CiAgfQogIC8qKgogICAqIHRoZSBrZXkgb2YgYWNjZXNzIHRva2VuIGZvciBsb2NhbCBzdG9yYWdlCiAgICovCgoKICBnZXQgYWNjZXNzVG9rZW5LZXkoKSB7CiAgICByZXR1cm4gdGhpcy5BUEkgPyBgVnNzdWUuJHt0aGlzLkFQSS5wbGF0Zm9ybS5uYW1lLnRvTG93ZXJDYXNlKCl9LmFjY2Vzc190b2tlbmAgOiAnJzsKICB9CgogIG9uUXVlcnlQZXJQYWdlQ2hhbmdlKCkgewogICAgdGhpcy5xdWVyeS5wYWdlID0gMTsKICAgIHRoaXMuZ2V0Q29tbWVudHMoKTsKICB9CgogIG9uUXVlcnlDaGFuZ2UoKSB7CiAgICB0aGlzLmdldENvbW1lbnRzKCk7CiAgfQogIC8qKgogICAqIFNldCBvcHRpb25zIG9mIFZzc3VlCiAgICovCgoKICBzZXRPcHRpb25zKG9wdGlvbnMpIHsKICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oewogICAgICBsYWJlbHM6IFsnVnNzdWUnXSwKICAgICAgc3RhdGU6ICdWc3N1ZScsCiAgICAgIHByZWZpeDogJ1tWc3N1ZV0nLAogICAgICBhZG1pbnM6IFtdLAogICAgICBwZXJQYWdlOiAxMCwKICAgICAgcHJveHk6IHVybCA9PiBgaHR0cHM6Ly9jb3JzLWFueXdoZXJlLmF6bS53b3JrZXJzLmRldi8ke3VybH1gLAogICAgICBpc3N1ZUNvbnRlbnQ6ICh7CiAgICAgICAgdXJsCiAgICAgIH0pID0+IHVybCwKICAgICAgYXV0b0NyZWF0ZUlzc3VlOiBmYWxzZQogICAgfSwgb3B0aW9ucyk7IC8vIGNoZWNrIG9wdGlvbnMKCiAgICBjb25zdCByZXF1aXJlZE9wdGlvbnMgPSBbJ2FwaScsICdvd25lcicsICdyZXBvJywgJ2NsaWVudElkJ107CgogICAgZm9yIChjb25zdCBvcHQgb2YgcmVxdWlyZWRPcHRpb25zKSB7CiAgICAgIGlmICghdGhpcy5vcHRpb25zW29wdF0pIHsKICAgICAgICBjb25zb2xlLndhcm4oYFtWc3N1ZV0gdGhlIG9wdGlvbiAnJHtvcHR9JyBpcyByZXF1aXJlZGApOwogICAgICB9CiAgICB9IC8vIHNldCBsb2NhbGUKCgogICAgaWYgKHRoaXMub3B0aW9ucy5sb2NhbGUpIHsKICAgICAgdGhpcy4kaTE4bi5sb2NhbGUgPSB0aGlzLm9wdGlvbnMubG9jYWxlOwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgbG9jYWxlcyA9IE9iamVjdC5rZXlzKHRoaXMuJGkxOG4ubWVzc2FnZXMpOwogICAgICBjb25zdCBuYXZMYW5ncyA9IHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2VzOwogICAgICB0aGlzLiRpMThuLmxvY2FsZSA9IG5hdkxhbmdzLmZpbHRlcihpdGVtID0+IGxvY2FsZXMuaW5jbHVkZXMoaXRlbSkpLnNoaWZ0KCkgfHwgJ2VuJzsKICAgIH0KICB9CiAgLyoqCiAgICogSW5pdGlhbGl6YXRpb24KICAgKi8KCgogIGFzeW5jIGluaXQoKSB7CiAgICB0cnkgewogICAgICAvLyBpbml0IFZzc3VlU3RvcmUKICAgICAgYXdhaXQgdGhpcy5pbml0U3RvcmUoKTsgLy8gaW5pdCBjb21tZW50cwoKICAgICAgYXdhaXQgdGhpcy5pbml0Q29tbWVudHMoKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgaWYgKGUucmVzcG9uc2UgJiYgWzQwMSwgNDAzXS5pbmNsdWRlcyhlLnJlc3BvbnNlLnN0YXR1cykpIHsKICAgICAgICAvLyBpbiBzb21lIGNhc2VzLCByZXF1aXJlIGxvZ2luIHRvIGxvYWQgY29tbWVudHMKICAgICAgICB0aGlzLmlzTG9naW5SZXF1aXJlZCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0ZhaWxlZCA9IHRydWU7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICB9CiAgfQogIC8qKgogICAqIEluaXQgVnNzdWVTdG9yZQogICAqLwoKCiAgYXN5bmMgaW5pdFN0b3JlKCkgewogICAgdHJ5IHsKICAgICAgaWYgKCF0aGlzLm9wdGlvbnMpIHRocm93IG5ldyBFcnJvcignT3B0aW9ucyBhcmUgcmVxdWlyZWQgdG8gaW5pdGlhbGl6ZSBWc3N1ZScpOyAvLyByZXNldCBkYXRhCgogICAgICB0aGlzLkFQSSA9IG51bGw7CiAgICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBudWxsOwogICAgICB0aGlzLnVzZXIgPSBudWxsOwogICAgICB0aGlzLmlzc3VlID0gbnVsbDsKICAgICAgdGhpcy5jb21tZW50cyA9IG51bGw7CiAgICAgIHRoaXMucXVlcnkgPSB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBwZXJQYWdlOiB0aGlzLm9wdGlvbnMucGVyUGFnZSwKICAgICAgICBzb3J0OiAnZGVzYycKICAgICAgfTsgLy8gcmVzZXQgc3RhdHVzCgogICAgICB0aGlzLmlzSW5pdGlhbGl6aW5nID0gdHJ1ZTsKICAgICAgdGhpcy5pc0lzc3VlTm90Q3JlYXRlZCA9IGZhbHNlOwogICAgICB0aGlzLmlzTG9naW5SZXF1aXJlZCA9IGZhbHNlOwogICAgICB0aGlzLmlzRmFpbGVkID0gZmFsc2U7CiAgICAgIHRoaXMuaXNDcmVhdGluZ0lzc3VlID0gZmFsc2U7CiAgICAgIHRoaXMuaXNMb2FkaW5nQ29tbWVudHMgPSBmYWxzZTsKICAgICAgdGhpcy5pc0NyZWF0aW5nQ29tbWVudCA9IGZhbHNlOwogICAgICB0aGlzLmlzVXBkYXRpbmdDb21tZW50ID0gZmFsc2U7IC8vIGdldCB0aGUgVnNzdWVBUEkgaW5zdGFuY2UgYWNjb3JkaW5nIHRvIHRoZSBvcHRpb25zLmFwaQoKICAgICAgY29uc3QgQVBJQ29uc3RydWN0b3IgPSB0aGlzLm9wdGlvbnMuYXBpOwogICAgICB0aGlzLkFQSSA9IG5ldyBBUElDb25zdHJ1Y3Rvcih7CiAgICAgICAgYmFzZVVSTDogdGhpcy5vcHRpb25zLmJhc2VVUkwsCiAgICAgICAgbGFiZWxzOiB0aGlzLm9wdGlvbnMubGFiZWxzLAogICAgICAgIHN0YXRlOiB0aGlzLm9wdGlvbnMuc3RhdGUsCiAgICAgICAgb3duZXI6IHRoaXMub3B0aW9ucy5vd25lciwKICAgICAgICByZXBvOiB0aGlzLm9wdGlvbnMucmVwbywKICAgICAgICBjbGllbnRJZDogdGhpcy5vcHRpb25zLmNsaWVudElkLAogICAgICAgIGNsaWVudFNlY3JldDogdGhpcy5vcHRpb25zLmNsaWVudFNlY3JldCwKICAgICAgICBwcm94eTogdGhpcy5vcHRpb25zLnByb3h5CiAgICAgIH0pOyAvLyBoYW5kbGUgYXV0aG9yaXphdGlvbgoKICAgICAgYXdhaXQgdGhpcy5oYW5kbGVBdXRoKCk7CiAgICB9IGZpbmFsbHkgewogICAgICB0aGlzLmlzSW5pdGlhbGl6aW5nID0gZmFsc2U7CiAgICB9CiAgfQogIC8qKgogICAqIEluaXQgY29tbWVudHMKICAgKi8KCgogIGFzeW5jIGluaXRDb21tZW50cygpIHsKICAgIGlmICghdGhpcy5BUEkgfHwgIXRoaXMub3B0aW9ucykgcmV0dXJuOwoKICAgIGlmICh0aGlzLmlzc3VlSWQpIHsKICAgICAgLy8gaWYgaXNzdWVJZCBpcyBzZXQsIGdldCB0aGUgaXNzdWUgYW5kIGNvbW1lbnRzIGluIHRoZSBtZWFuIHRpbWUKICAgICAgLy8gbm90aWNlIHRoYXQgdnNzdWUgd2lsbCBub3QgdHJ5IHRvIGNyZWF0ZSB0aGUgaXNzdWUgaXMgbm90IGZvdW5kCiAgICAgIGNvbnN0IFtpc3N1ZSwgY29tbWVudHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuQVBJLmdldElzc3VlKHsKICAgICAgICBhY2Nlc3NUb2tlbjogdGhpcy5hY2Nlc3NUb2tlbiwKICAgICAgICBpc3N1ZUlkOiB0aGlzLmlzc3VlSWQKICAgICAgfSksIHRoaXMuQVBJLmdldENvbW1lbnRzKHsKICAgICAgICBhY2Nlc3NUb2tlbjogdGhpcy5hY2Nlc3NUb2tlbiwKICAgICAgICBpc3N1ZUlkOiB0aGlzLmlzc3VlSWQsCiAgICAgICAgcXVlcnk6IHRoaXMucXVlcnkKICAgICAgfSldKTsKICAgICAgdGhpcy5pc3N1ZSA9IGlzc3VlOwogICAgICB0aGlzLmNvbW1lbnRzID0gY29tbWVudHM7CiAgICB9IGVsc2UgewogICAgICAvLyBnZXQgaXNzdWUgYWNjb3JkaW5nIHRvIHRpdGxlCiAgICAgIHRoaXMuaXNzdWUgPSBhd2FpdCB0aGlzLkFQSS5nZXRJc3N1ZSh7CiAgICAgICAgYWNjZXNzVG9rZW46IHRoaXMuYWNjZXNzVG9rZW4sCiAgICAgICAgaXNzdWVUaXRsZTogdGhpcy5pc3N1ZVRpdGxlCiAgICAgIH0pOwoKICAgICAgaWYgKHRoaXMuaXNzdWUgPT09IG51bGwpIHsKICAgICAgICAvLyBpZiB0aGUgaXNzdWUgb2YgdGhpcyBwYWdlIGRvZXMgbm90IGV4aXN0CiAgICAgICAgdGhpcy5pc0lzc3VlTm90Q3JlYXRlZCA9IHRydWU7IC8vIHRyeSB0byBjcmVhdGUgaXNzdWUgd2hlbiBgYXV0b0NyZWF0ZUlzc3VlID0gdHJ1ZWAKCiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvQ3JlYXRlSXNzdWUpIHsKICAgICAgICAgIGF3YWl0IHRoaXMucG9zdElzc3VlKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIHRyeSB0byBsb2FkIGNvbW1lbnRzCiAgICAgICAgYXdhaXQgdGhpcy5nZXRDb21tZW50cygpOwogICAgICB9CiAgICB9CiAgfQogIC8qKgogICAqIFBvc3QgYSBuZXcgaXNzdWUKICAgKi8KCgogIGFzeW5jIHBvc3RJc3N1ZSgpIHsKICAgIGlmICghdGhpcy5BUEkgfHwgIXRoaXMub3B0aW9ucyB8fCB0aGlzLmlzc3VlIHx8IHRoaXMuaXNzdWVJZCkgcmV0dXJuOyAvLyBsb2dpbiB0byBjcmVhdGUgaXNzdWUKCiAgICBpZiAoIXRoaXMuaXNMb2dpbmVkKSB7CiAgICAgIHRoaXMubG9naW4oKTsKICAgIH0gLy8gb25seSBvd25lci9hZG1pbnMgY2FuIGNyZWF0ZSBpc3N1ZQoKCiAgICBpZiAoIXRoaXMuaXNBZG1pbikgcmV0dXJuOwoKICAgIHRyeSB7CiAgICAgIHRoaXMuaXNDcmVhdGluZ0lzc3VlID0gdHJ1ZTsKICAgICAgY29uc3QgaXNzdWUgPSBhd2FpdCB0aGlzLkFQSS5wb3N0SXNzdWUoewogICAgICAgIHRpdGxlOiB0aGlzLmlzc3VlVGl0bGUsCiAgICAgICAgY29udGVudDogYXdhaXQgdGhpcy5vcHRpb25zLmlzc3VlQ29udGVudCh7CiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsCiAgICAgICAgICB1cmw6IGdldENsZWFuVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKQogICAgICAgIH0pLAogICAgICAgIGFjY2Vzc1Rva2VuOiB0aGlzLmFjY2Vzc1Rva2VuCiAgICAgIH0pOwogICAgICB0aGlzLmlzc3VlID0gaXNzdWU7CiAgICAgIHRoaXMuaXNJc3N1ZU5vdENyZWF0ZWQgPSBmYWxzZTsKICAgICAgYXdhaXQgdGhpcy5nZXRDb21tZW50cygpOwogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLmlzRmFpbGVkID0gdHJ1ZTsKICAgIH0gZmluYWxseSB7CiAgICAgIHRoaXMuaXNDcmVhdGluZ0lzc3VlID0gZmFsc2U7CiAgICB9CiAgfQogIC8qKgogICAqIEdldCBjb21tZW50cyBvZiB0aGlzIHZzc3VlIGFjY29yZGluZyB0byB0aGUgaXNzdWUgaWQKICAgKi8KCgogIGFzeW5jIGdldENvbW1lbnRzKCkgewogICAgdHJ5IHsKICAgICAgaWYgKCF0aGlzLkFQSSB8fCAhdGhpcy5pc3N1ZSB8fCB0aGlzLmlzTG9hZGluZ0NvbW1lbnRzKSByZXR1cm47CiAgICAgIHRoaXMuaXNMb2FkaW5nQ29tbWVudHMgPSB0cnVlOwogICAgICBjb25zdCBjb21tZW50cyA9IGF3YWl0IHRoaXMuQVBJLmdldENvbW1lbnRzKHsKICAgICAgICBhY2Nlc3NUb2tlbjogdGhpcy5hY2Nlc3NUb2tlbiwKICAgICAgICBpc3N1ZUlkOiB0aGlzLmlzc3VlLmlkLAogICAgICAgIHF1ZXJ5OiB0aGlzLnF1ZXJ5CiAgICAgIH0pOwogICAgICB0aGlzLmNvbW1lbnRzID0gY29tbWVudHM7CgogICAgICBpZiAodGhpcy5xdWVyeS5wYWdlICE9PSBjb21tZW50cy5wYWdlKSB7CiAgICAgICAgdGhpcy5xdWVyeS5wYWdlID0gY29tbWVudHMucGFnZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucXVlcnkucGVyUGFnZSAhPT0gY29tbWVudHMucGVyUGFnZSkgewogICAgICAgIHRoaXMucXVlcnkucGVyUGFnZSA9IGNvbW1lbnRzLnBlclBhZ2U7CiAgICAgIH0KCiAgICAgIHJldHVybiBjb21tZW50czsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgaWYgKGUucmVzcG9uc2UgJiYgWzQwMSwgNDAzXS5pbmNsdWRlcyhlLnJlc3BvbnNlLnN0YXR1cykgJiYgIXRoaXMuaXNMb2dpbmVkKSB7CiAgICAgICAgdGhpcy5pc0xvZ2luUmVxdWlyZWQgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGVtaXQoJ2Vycm9yJywgZSk7CiAgICAgICAgdGhyb3cgZTsKICAgICAgfQogICAgfSBmaW5hbGx5IHsKICAgICAgdGhpcy5pc0xvYWRpbmdDb21tZW50cyA9IGZhbHNlOwogICAgfQogIH0KICAvKioKICAgKiBQb3N0IGEgbmV3IGNvbW1lbnQKICAgKi8KCgogIGFzeW5jIHBvc3RDb21tZW50KHsKICAgIGNvbnRlbnQKICB9KSB7CiAgICB0cnkgewogICAgICBpZiAoIXRoaXMuQVBJIHx8ICF0aGlzLmlzc3VlIHx8IHRoaXMuaXNDcmVhdGluZ0NvbW1lbnQpIHJldHVybjsKICAgICAgdGhpcy5pc0NyZWF0aW5nQ29tbWVudCA9IHRydWU7CiAgICAgIGNvbnN0IGNvbW1lbnQgPSBhd2FpdCB0aGlzLkFQSS5wb3N0Q29tbWVudCh7CiAgICAgICAgYWNjZXNzVG9rZW46IHRoaXMuYWNjZXNzVG9rZW4sCiAgICAgICAgY29udGVudCwKICAgICAgICBpc3N1ZUlkOiB0aGlzLmlzc3VlLmlkCiAgICAgIH0pOwogICAgICByZXR1cm4gY29tbWVudDsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdGhpcy4kZW1pdCgnZXJyb3InLCBlKTsKICAgICAgdGhyb3cgZTsKICAgIH0gZmluYWxseSB7CiAgICAgIHRoaXMuaXNDcmVhdGluZ0NvbW1lbnQgPSBmYWxzZTsKICAgIH0KICB9CiAgLyoqCiAgICogRWRpdCBhIGNvbW1lbnQKICAgKi8KCgogIGFzeW5jIHB1dENvbW1lbnQoewogICAgY29tbWVudElkLAogICAgY29udGVudAogIH0pIHsKICAgIHRyeSB7CiAgICAgIGlmICghdGhpcy5BUEkgfHwgIXRoaXMuaXNzdWUpIHJldHVybjsKICAgICAgY29uc3QgY29tbWVudCA9IGF3YWl0IHRoaXMuQVBJLnB1dENvbW1lbnQoewogICAgICAgIGFjY2Vzc1Rva2VuOiB0aGlzLmFjY2Vzc1Rva2VuLAogICAgICAgIGlzc3VlSWQ6IHRoaXMuaXNzdWUuaWQsCiAgICAgICAgY29tbWVudElkLAogICAgICAgIGNvbnRlbnQKICAgICAgfSk7CiAgICAgIHJldHVybiBjb21tZW50OwogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLiRlbWl0KCdlcnJvcicsIGUpOwogICAgICB0aHJvdyBlOwogICAgfQogIH0KICAvKioKICAgKiBEZWxldGUgYSBuZXcgY29tbWVudAogICAqLwoKCiAgYXN5bmMgZGVsZXRlQ29tbWVudCh7CiAgICBjb21tZW50SWQKICB9KSB7CiAgICB0cnkgewogICAgICBpZiAoIXRoaXMuQVBJIHx8ICF0aGlzLmlzc3VlKSByZXR1cm47CiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLkFQSS5kZWxldGVDb21tZW50KHsKICAgICAgICBhY2Nlc3NUb2tlbjogdGhpcy5hY2Nlc3NUb2tlbiwKICAgICAgICBpc3N1ZUlkOiB0aGlzLmlzc3VlLmlkLAogICAgICAgIGNvbW1lbnRJZAogICAgICB9KTsKICAgICAgcmV0dXJuIHN1Y2Nlc3M7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Vycm9yJywgZSk7CiAgICAgIHRocm93IGU7CiAgICB9CiAgfQogIC8qKgogICAqIEdldCByZWFjdGlvbnMgb2YgYSBjb21tZW50CiAgICovCgoKICBhc3luYyBnZXRDb21tZW50UmVhY3Rpb25zKHsKICAgIGNvbW1lbnRJZAogIH0pIHsKICAgIHRyeSB7CiAgICAgIGlmICghdGhpcy5BUEkgfHwgIXRoaXMuaXNzdWUpIHJldHVybjsKICAgICAgY29uc3QgcmVhY3Rpb25zID0gYXdhaXQgdGhpcy5BUEkuZ2V0Q29tbWVudFJlYWN0aW9ucyh7CiAgICAgICAgYWNjZXNzVG9rZW46IHRoaXMuYWNjZXNzVG9rZW4sCiAgICAgICAgaXNzdWVJZDogdGhpcy5pc3N1ZS5pZCwKICAgICAgICBjb21tZW50SWQKICAgICAgfSk7CiAgICAgIHJldHVybiByZWFjdGlvbnM7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Vycm9yJywgZSk7CiAgICAgIHRocm93IGU7CiAgICB9CiAgfQogIC8qKgogICAqIENyZWF0ZSBhIG5ldyByZWFjdGlvbiB0byBhIGNlcnRhaW4gY29tbWVudAogICAqLwoKCiAgYXN5bmMgcG9zdENvbW1lbnRSZWFjdGlvbih7CiAgICBjb21tZW50SWQsCiAgICByZWFjdGlvbgogIH0pIHsKICAgIHRyeSB7CiAgICAgIGlmICghdGhpcy5BUEkgfHwgIXRoaXMuaXNzdWUpIHJldHVybiBmYWxzZTsKICAgICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IHRoaXMuQVBJLnBvc3RDb21tZW50UmVhY3Rpb24oewogICAgICAgIGFjY2Vzc1Rva2VuOiB0aGlzLmFjY2Vzc1Rva2VuLAogICAgICAgIGlzc3VlSWQ6IHRoaXMuaXNzdWUuaWQsCiAgICAgICAgY29tbWVudElkLAogICAgICAgIHJlYWN0aW9uCiAgICAgIH0pOwogICAgICByZXR1cm4gc3VjY2VzczsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdGhpcy4kZW1pdCgnZXJyb3InLCBlKTsKICAgICAgdGhyb3cgZTsKICAgIH0KICB9CiAgLyoqCiAgICogUmVkaXJlY3QgdG8gdGhlIHBsYXRmb3JtJ3MgYXV0aG9yaXphdGlvbiBwYWdlCiAgICovCgoKICBsb2dpbigpIHsKICAgIGlmICghdGhpcy5BUEkpIHJldHVybjsKICAgIHRoaXMuQVBJLnJlZGlyZWN0QXV0aCgpOwogIH0KICAvKioKICAgKiBDbGVhbiB0aGUgYWNjZXNzIHRva2VuIHN0b3JlZCBpbiBsb2NhbCBzdG9yYWdlCiAgICovCgoKICBsb2dvdXQoKSB7CiAgICB0aGlzLnNldEFjY2Vzc1Rva2VuKG51bGwpOwogICAgdGhpcy51c2VyID0gbnVsbDsKICB9CiAgLyoqCiAgICogSGFuZGxlIGF1dGhvcml6YXRpb24gYW5kIHNldCBhY2Nlc3NfdG9rZW4KICAgKi8KCgogIGFzeW5jIGhhbmRsZUF1dGgoKSB7CiAgICBpZiAoIXRoaXMuQVBJKSByZXR1cm47IC8vIGhhbmRsZSBhdXRob3JpemUgYW5kIHRyeSB0byBnZXQgdGhlIGFjY2Vzc190b2tlbgoKICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gYXdhaXQgdGhpcy5BUEkuaGFuZGxlQXV0aCgpOwoKICAgIGlmIChhY2Nlc3NUb2tlbikgewogICAgICAvLyBuZXcgYWNjZXNzX3Rva2VuCiAgICAgIHRoaXMuc2V0QWNjZXNzVG9rZW4oYWNjZXNzVG9rZW4pOwogICAgICB0aGlzLnVzZXIgPSBhd2FpdCB0aGlzLkFQSS5nZXRVc2VyKHsKICAgICAgICBhY2Nlc3NUb2tlbgogICAgICB9KTsKICAgIH0gZWxzZSBpZiAodGhpcy5nZXRBY2Nlc3NUb2tlbigpKSB7CiAgICAgIC8vIGhhdmUgYWNjZXNzX3Rva2VuIGluIGxvY2Fsc3RvcmFnZQogICAgICB0aGlzLnVzZXIgPSBhd2FpdCB0aGlzLkFQSS5nZXRVc2VyKHsKICAgICAgICBhY2Nlc3NUb2tlbjogdGhpcy5hY2Nlc3NUb2tlbgogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIG5vIGFjY2Vzc190b2tlbgogICAgICB0aGlzLnNldEFjY2Vzc1Rva2VuKG51bGwpOwogICAgICB0aGlzLnVzZXIgPSBudWxsOwogICAgfQogIH0KICAvKioKICAgKiBHZXQgYWNjZXNzIHRva2VuIGZyb20gbG9jYWwgc3RvcmFnZQogICAqLwoKCiAgZ2V0QWNjZXNzVG9rZW4oKSB7CiAgICB0aGlzLmFjY2Vzc1Rva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuYWNjZXNzVG9rZW5LZXkpOwogICAgcmV0dXJuIHRoaXMuYWNjZXNzVG9rZW47CiAgfQogIC8qKgogICAqIFNhdmUgYWNjZXNzIHRva2VuIHRvIGxvY2FsIHN0b3JhZ2UKICAgKi8KCgogIHNldEFjY2Vzc1Rva2VuKHRva2VuKSB7CiAgICBpZiAodG9rZW4gPT09IG51bGwpIHsKICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuYWNjZXNzVG9rZW5LZXkpOwogICAgfSBlbHNlIHsKICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuYWNjZXNzVG9rZW5LZXksIHRva2VuKTsKICAgIH0KCiAgICB0aGlzLmFjY2Vzc1Rva2VuID0gdG9rZW47CiAgfQoKfTsKCl9fZGVjb3JhdGUoW1dhdGNoKCdxdWVyeS5wZXJQYWdlJyldLCBWc3N1ZVN0b3JlLnByb3RvdHlwZSwgIm9uUXVlcnlQZXJQYWdlQ2hhbmdlIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtXYXRjaCgncXVlcnkucGFnZScpLCBXYXRjaCgncXVlcnkuc29ydCcpXSwgVnNzdWVTdG9yZS5wcm90b3R5cGUsICJvblF1ZXJ5Q2hhbmdlIiwgbnVsbCk7CgpWc3N1ZVN0b3JlID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBpMThuCn0pXSwgVnNzdWVTdG9yZSk7CnZhciBWc3N1ZVN0b3JlJDEgPSBWc3N1ZVN0b3JlOwpsZXQgVnNzdWUgPSBjbGFzcyBWc3N1ZSBleHRlbmRzIFZ1ZSQxIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICAvKioKICAgICAqIFByb3ZpZGUgdGhlIFZzc3VlU3RvcmUgZm9yIHRoZSBjaGlsZCBjb21wb25lbnRzCiAgICAgKi8KCiAgICB0aGlzLnZzc3VlID0gbmV3IFZzc3VlU3RvcmUkMSgpOwogIH0KICAvKioKICAgKiBTZXQgb3B0aW9ucyBvZiBWc3N1ZSBpZiBgb3B0aW9uc2AgcHJvcCBpcyBjaGFuZ2VkCiAgICovCgoKICBvbk9wdGlvbnNDaGFuZ2Uob3B0aW9ucykgewogICAgdGhpcy52c3N1ZS5zZXRPcHRpb25zKG9wdGlvbnMpOwogIH0KICAvKioKICAgKiBtb3VudGVkIGhvb2sKICAgKi8KCgogIG1vdW50ZWQoKSB7CiAgICAvLyBzZXQgaXNzdWUgdGl0bGUgYW5kIGlzc3VlIGlkCiAgICBpZiAodGhpcy50aXRsZSAhPT0gbnVsbCkgewogICAgICB0aGlzLnZzc3VlLnRpdGxlID0gdGhpcy50aXRsZTsKICAgIH0KCiAgICBpZiAodGhpcy5pc3N1ZUlkICE9PSBudWxsKSB7CiAgICAgIHRoaXMudnNzdWUuaXNzdWVJZCA9IHRoaXMuaXNzdWVJZDsKICAgIH0gLy8gc2V0IG9wdGlvbnMKCgogICAgdGhpcy52c3N1ZS5zZXRPcHRpb25zKHRoaXMub3B0aW9ucyk7IC8vIGluaXQgdnNzdWUKCiAgICB0aGlzLnZzc3VlLmluaXQoKTsKICB9Cgp9OwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgdHlwZTogW1N0cmluZywgRnVuY3Rpb25dLAogIHJlcXVpcmVkOiBmYWxzZSwKICBkZWZhdWx0OiBudWxsCn0pXSwgVnNzdWUucHJvdG90eXBlLCAidGl0bGUiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwKICByZXF1aXJlZDogZmFsc2UsCiAgZGVmYXVsdDogbnVsbAp9KV0sIFZzc3VlLnByb3RvdHlwZSwgImlzc3VlSWQiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgdHlwZTogT2JqZWN0LAogIHJlcXVpcmVkOiBmYWxzZSwKICBkZWZhdWx0OiAoKSA9PiAoe30pCn0pXSwgVnNzdWUucHJvdG90eXBlLCAib3B0aW9ucyIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm92aWRlKCd2c3N1ZScpXSwgVnNzdWUucHJvdG90eXBlLCAidnNzdWUiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbV2F0Y2goJ29wdGlvbnMnLCB7CiAgZGVlcDogdHJ1ZQp9KV0sIFZzc3VlLnByb3RvdHlwZSwgIm9uT3B0aW9uc0NoYW5nZSIsIG51bGwpOwoKVnNzdWUgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIEljb25mb250OiBfX3Z1ZV9jb21wb25lbnRfXywKICAgIFZzc3VlQm9keTogX192dWVfY29tcG9uZW50X18kYSwKICAgIFZzc3VlSGVhZGVyOiBfX3Z1ZV9jb21wb25lbnRfXyRiCiAgfQp9KV0sIFZzc3VlKTsKdmFyIHNjcmlwdCRjID0gVnNzdWU7Ci8qIHNjcmlwdCAqLwoKY29uc3QgX192dWVfc2NyaXB0X18kYyA9IHNjcmlwdCRjOwovKiB0ZW1wbGF0ZSAqLwoKdmFyIF9fdnVlX3JlbmRlcl9fJDkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIF92bSA9IHRoaXM7CgogIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICByZXR1cm4gX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUiCiAgfSwgW19jKCdJY29uZm9udCcpLCBfdm0uX3YoIiAiKSwgX2MoJ1Zzc3VlSGVhZGVyJyksIF92bS5fdigiICIpLCBfYygnVnNzdWVCb2R5JyldLCAxKTsKfTsKCnZhciBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQ5ID0gW107Ci8qIHN0eWxlICovCgpjb25zdCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kYyA9IHVuZGVmaW5lZDsKLyogc2NvcGVkICovCgpjb25zdCBfX3Z1ZV9zY29wZV9pZF9fJGMgPSB1bmRlZmluZWQ7Ci8qIG1vZHVsZSBpZGVudGlmaWVyICovCgpjb25zdCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJGMgPSB1bmRlZmluZWQ7Ci8qIGZ1bmN0aW9uYWwgdGVtcGxhdGUgKi8KCmNvbnN0IF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyRjID0gZmFsc2U7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJGMgPSBub3JtYWxpemVDb21wb25lbnQoewogIHJlbmRlcjogX192dWVfcmVuZGVyX18kOSwKICBzdGF0aWNSZW5kZXJGbnM6IF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDkKfSwgX192dWVfaW5qZWN0X3N0eWxlc19fJGMsIF9fdnVlX3NjcmlwdF9fJGMsIF9fdnVlX3Njb3BlX2lkX18kYywgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJGMsIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kYywgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwoKY29uc3QgVnNzdWVQbHVnaW4gPSB7CiAgZ2V0IHZlcnNpb24oKSB7CiAgICByZXR1cm4gIjEuNC44IjsKICB9LAoKICBpbnN0YWxsZWQ6IGZhbHNlLAoKICBpbnN0YWxsKFZ1ZSwgb3B0aW9ucykgewogICAgaWYgKHRoaXMuaW5zdGFsbGVkKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICB0aGlzLmluc3RhbGxlZCA9IHRydWU7CiAgICBWdWUuY29tcG9uZW50KCdWc3N1ZScsIHsKICAgICAgZnVuY3Rpb25hbDogdHJ1ZSwKICAgICAgcHJvcHM6IHsKICAgICAgICB0aXRsZTogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICAgICAgfSwKICAgICAgICBpc3N1ZUlkOiB7CiAgICAgICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLAogICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICAgICAgfSwKICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgICAgICB9CiAgICAgIH0sCgogICAgICByZW5kZXIoaCwgewogICAgICAgIGRhdGEsCiAgICAgICAgcHJvcHMKICAgICAgfSkgewogICAgICAgIHJldHVybiBoKF9fdnVlX2NvbXBvbmVudF9fJGMsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGF0YSksIHsKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIHRpdGxlOiBwcm9wcy50aXRsZSwKICAgICAgICAgICAgaXNzdWVJZDogcHJvcHMuaXNzdWVJZCwKICAgICAgICAgICAgb3B0aW9uczogT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywgcHJvcHMub3B0aW9ucykKICAgICAgICAgIH0KICAgICAgICB9KSk7CiAgICAgIH0KCiAgICB9KTsKICB9LAoKICBWc3N1ZUNvbXBvbmVudDogX192dWVfY29tcG9uZW50X18kYwp9OwpleHBvcnQgZGVmYXVsdCBWc3N1ZVBsdWdpbjsKZXhwb3J0IHsgX192dWVfY29tcG9uZW50X18kYyBhcyBWc3N1ZUNvbXBvbmVudCB9Ow=="},{"version":3,"names":["Prop","Inject","Component","Vue","Vue$1","Watch","Provide","formatDateTime","getCleanURL","VueI18n","__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","script","extend","name","normalizeComponent","template","style","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","options","render","staticRenderFns","_compiled","functional","_scopeId","hook","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","renderWithStyleInjection","h","existing","beforeCreate","concat","isOldIE","navigator","test","userAgent","toLowerCase","__vue_script__","__vue_render__","_h","_vm","_c","directives","rawName","value","expression","attrs","_v","__vue_staticRenderFns__","__vue_inject_styles__","undefined","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","__vue_component__","script$1","props","group","type","Boolean","required","default","tag","String","children","mode","appear","__vue_script__$1","__vue_inject_styles__$1","__vue_scope_id__$1","__vue_module_identifier__$1","__vue_is_functional_template__$1","__vue_component__$1","script$2","title","data","assign","class","__vue_script__$2","__vue_inject_styles__$2","__vue_scope_id__$2","__vue_module_identifier__$2","__vue_is_functional_template__$2","__vue_component__$2","VssueComment","constructor","editMode","editContent","comment","contentRaw","creatingReactions","isPutingComment","isDeletingComment","currentUser","vssue","user","username","content","author","createdAt","updatedAt","showReactions","API","platform","meta","reactable","reactions","reactionKeys","editContentRows","split","editInputRows","postReaction","reaction","includes","push","success","postCommentReaction","commentId","id","$emit","Error","$t","getCommentReactions","splice","findIndex","item","enterEdit","$nextTick","$refs","input","focus","resetEdit","putComment","isPending","isUpdatingComment","comments","deleteComment","window","confirm","count","query","page","Math","ceil","perPage","getComments","prototype","components","VssueIcon","script$3","__vue_script__$3","__vue_render__$1","$createElement","_self","staticClass","homepage","avatar","_t","_s","ref","domProps","on","$event","indexOf","_k","keyCode","ctrlKey","composing","_e","_l","isAdmin","__vue_staticRenderFns__$1","__vue_inject_styles__$3","__vue_scope_id__$3","__vue_module_identifier__$3","__vue_is_functional_template__$3","__vue_component__$3","VssuePagination","disabled","pageCount","perPageOptions","sort","a","b","val","script$4","__vue_script__$4","__vue_render__$2","$$selectedVal","Array","filter","o","selected","map","_value","multiple","sortable","__vue_staticRenderFns__$2","__vue_inject_styles__$4","__vue_scope_id__$4","__vue_module_identifier__$4","__vue_is_functional_template__$4","__vue_component__$4","VssueComments","TransitionFade","script$5","__vue_script__$5","__vue_render__$3","__vue_staticRenderFns__$3","__vue_inject_styles__$5","__vue_scope_id__$5","__vue_module_identifier__$5","__vue_is_functional_template__$5","__vue_component__$5","script$6","__vue_script__$6","__vue_inject_styles__$6","__vue_scope_id__$6","__vue_module_identifier__$6","__vue_is_functional_template__$6","__vue_component__$6","VssueNewComment","isInputDisabled","loading","issue","isSubmitDisabled","isCreatingComment","contentRows","inputRows","created","$on","quotedComment","replace","replyContent","beforeDestroy","$off","submit","postComment","VssueButton","script$7","__vue_script__$7","__vue_render__$4","login","logout","__vue_staticRenderFns__$4","__vue_inject_styles__$7","__vue_scope_id__$7","__vue_module_identifier__$7","__vue_is_functional_template__$7","__vue_component__$7","VssueNotice","progress","show","percent","timer","speed","alert","message","onLoadingCommentsChange","progressStart","progressDone","e","alertShow","clearTimeout","setInterval","clearInterval","setTimeout","alertHide","script$8","__vue_script__$8","__vue_render__$5","width","transition","__vue_staticRenderFns__$5","__vue_inject_styles__$8","__vue_scope_id__$8","__vue_module_identifier__$8","__vue_is_functional_template__$8","__vue_component__$8","VssueStatus","status","isFailed","isInitializing","isIssueNotCreated","isCreatingIssue","isLogined","isLoginRequired","handleClick","postIssue","script$9","__vue_script__$9","__vue_render__$6","__vue_staticRenderFns__$6","__vue_inject_styles__$9","__vue_scope_id__$9","__vue_module_identifier__$9","__vue_is_functional_template__$9","__vue_component__$9","VssueBody","script$a","__vue_script__$a","__vue_render__$7","__vue_staticRenderFns__$7","__vue_inject_styles__$a","__vue_scope_id__$a","__vue_module_identifier__$a","__vue_is_functional_template__$a","__vue_component__$a","VssueHeader","script$b","__vue_script__$b","__vue_render__$8","link","$tc","version","__vue_staticRenderFns__$8","__vue_inject_styles__$b","__vue_scope_id__$b","__vue_module_identifier__$b","__vue_is_functional_template__$b","__vue_component__$b","messages","submitting","submitComment","cancel","edit","delete","reply","heart","like","unlike","prev","next","loginToComment","placeholder","noLoginPlaceHolder","failed","initializing","issueNotCreated","loadingComments","loginRequired","noComments","reactionGiven","deleteConfirm","deleteFailed","messages$1","messages$2","messages$3","messages$4","hasOwnProperty","use","i18n","locale","fallbackLocale","en","zh","pt","ja","he","VssueStore","prefix","document","issueId","accessToken","isLoadingComments","issueTitle","owner","admins","accessTokenKey","onQueryPerPageChange","onQueryChange","setOptions","labels","state","proxy","url","issueContent","autoCreateIssue","requiredOptions","opt","console","warn","$i18n","locales","keys","navLangs","languages","shift","init","initStore","initComments","response","error","APIConstructor","api","baseURL","repo","clientId","clientSecret","handleAuth","Promise","all","getIssue","location","href","redirectAuth","setAccessToken","getUser","getAccessToken","localStorage","getItem","token","removeItem","setItem","VssueStore$1","Vssue","onOptionsChange","mounted","Function","Number","deep","Iconfont","script$c","__vue_script__$c","__vue_render__$9","__vue_staticRenderFns__$9","__vue_inject_styles__$c","__vue_scope_id__$c","__vue_module_identifier__$c","__vue_is_functional_template__$c","__vue_component__$c","VssuePlugin","installed","install","component","VssueComponent"],"sources":["/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/vssue/dist/vssue.js"],"sourcesContent":["/*!\n * vssue - A vue-powered issue-based comment plugin\n *\n * @version v1.4.8\n * @link https://vssue.js.org\n * @license MIT\n * @copyright 2018-2021 meteorlxy\n */\n\nimport { Prop, Inject, Component, Vue as Vue$1, Watch, Provide } from 'vue-property-decorator';\nimport Vue from 'vue';\nimport { formatDateTime, getCleanURL } from '@vssue/utils';\nimport VueI18n from 'vue-i18n';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\n\nvar script = Vue.extend({\n    name: 'Iconfont',\n});\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    const options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    let hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            const originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            const existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\nconst isOldIE = typeof navigator !== 'undefined' &&\r\n    /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\n\n/* script */\nconst __vue_script__ = script;\n\n/* template */\nvar __vue_render__ = function (_h,_vm) {var _c=_vm._c;return _c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}]},[_c('symbol',{attrs:{\"id\":\"vssue-icon-bitbucket\",\"viewBox\":\"0 0 1024 1024\"}},[_c('path',{attrs:{\"d\":\"M579.5522464 489.45249493q4.8371808 38.38537173-30.81752427 61.55702827t-67.95459093 3.66689493q-23.79580907-10.37653333-32.6119616-35.34262826t-0.31207573-50.01020907 31.67573333-35.34262827q21.92335253-11.00068587 44.1587808-7.33379093t39.00952427 21.61127573 16.77409493 41.1160384zM647.19476053 476.65737173q-8.50407573-65.22392427-68.8908192-99.9424t-120.07131413-7.9579424q-38.38537173 17.08617173-61.24495253 53.9111616t-21.0651424 78.95527574q2.41859093 55.4715424 47.20152426 94.48106666t100.87862827 34.1723424q55.4715424-4.8371808 92.60860907-51.18049493t30.50544746-102.43900907zM792.93434133 146.32472427q-12.17097173-16.4620192-34.1723424-27.15062827t-35.34262826-13.41927573-43.30057174-7.64586667q-177.33729493-28.63299093-345.00022826 1.24830507-26.2144 4.29104747-40.25782827 7.33379093t-33.54819093 13.41927573-30.50544747 26.2144q18.2564576 17.08617173 46.34331413 27.6967616t44.78293334 13.41927574 53.36502826 7.02171413q138.95192427 17.71032427 273.06666667 0.62415253 38.38537173-4.8371808 54.53531413-7.33379093t44.1587808-13.1072 45.7191616-28.32091413zM827.65281813 777.10872427q-4.8371808 15.83786667-9.44030506 46.65539093t-8.50407574 51.18049493-17.39824746 42.6764192-35.34262827 34.4064q-52.4288 29.2571424-115.46819093 43.61264747t-123.1140576 13.41927573-122.8019808-11.3127616q-28.0088384-4.8371808-49.69813334-11.00068586t-46.65539093-16.4620192-44.4708576-26.52647574-31.67573333-37.4491424q-15.21371413-58.51428587-34.71847574-177.96144746l3.66689494-9.7523808 11.00068586-5.46133334q135.9091808 90.1900192 308.72137174 90.1900192t309.34552426-90.1900192q12.79512427 3.66689493 14.5895616 14.04342827t-3.0427424 27.46270507-4.8371808 22.54750506zM937.97175147 191.41973333q-15.83786667 101.8148576-67.64251414 399.22346667-3.0427424 18.2564576-16.4620192 34.1723424t-26.52647573 24.3419424-33.23611413 18.88060907q-153.61950507 76.7707424-371.8387808 53.67710506-151.12289493-16.4620192-240.14262827-84.72868586-9.12822827-7.33379093-15.52579093-16.1499424t-10.37653334-21.2992-5.46133333-20.75306667-3.66689493-24.10788587-3.3548192-21.2992q-5.46133333-30.50544747-16.1499424-91.43832426t-17.08617174-98.4600384-14.35550506-89.8779424-13.41927574-96.27550507q1.7944384-15.83786667 10.68860907-29.5692192t19.19268587-22.8595808 27.46270506-18.2564576 28.0088384-13.73135253 29.2571424-11.3127616q76.22460907-28.0088384 190.75657174-39.00952427 231.0144-22.54750507 412.01859093 30.50544747 94.48106667 28.0088384 131.072 74.35215253 9.7523808 12.17097173 10.0644576 31.0515808t-3.3548192 32.9240384z\"}})]),_vm._v(\" \"),_c('symbol',{attrs:{\"id\":\"vssue-icon-gitea\",\"viewBox\":\"0 0 1024 1024\"}},[_c('path',{attrs:{\"d\":\"M184.31868985 236.10860742C106.94832667 235.94086648 3.32655508 285.13080468 9.02973665 408.46209936c8.93218827 192.65010787 206.32096845 210.5144844 285.20099725 212.06608453 8.63864186 36.14810496 101.48307766 160.77938883 170.21479898 167.32127321h301.09442177c180.57278288-11.99345499 315.77172611-546.07960359 215.54670217-548.09249109-165.7696721 7.79993906-264.02374305 11.74184405-348.27147151 12.41280591v166.69224585l-26.25140843-11.61603761-0.16773997-154.99233728c-96.70246985-0.04193548-181.83083757-4.52899687-343.4069947-12.49667687-20.21274496-0.12580547-48.39316992-3.5644886-78.67035236-3.64835859z m10.94507577 68.14462849h9.22573371c10.98701124 98.75729283 28.85138778 156.50200291 64.99949274 244.73357185-92.25734394-10.90314029-170.75995634-37.69970509-185.18564974-137.75698809-7.46445813-51.78991757 17.69663558-105.84433456 110.96042329-107.01851827z m358.83913087 97.07988723c6.29027343 0.08386999 12.70635233 1.25805468 18.74501482 4.02577499l31.40943263 13.54505513-22.51917887 41.05451824a28.18042496 25.03528825 0 0 0-10.10637297 1.59353561 28.18042496 25.03528825 0 0 0-16.98373825 32.038459 28.18042496 25.03528825 0 0 0 4.69673781 7.29671718l-38.83195528 70.70267333a28.18042496 25.03528825 0 0 0-9.30960467 1.59353659 28.18042496 25.03528825 0 0 0-16.98373825 32.038459 28.18042496 25.03528825 0 0 0 36.06423497 15.09665623 28.18042496 25.03528825 0 0 0 16.94180276-32.08039449 28.18042496 25.03528825 0 0 0-6.62575434-9.22573468l37.82551056-68.85752581a28.18042496 25.03528825 0 0 0 12.28700044-1.25805469 28.18042496 25.03528825 0 0 0 8.93218826-4.69673783c14.59343435 6.12253248 26.54495386 11.11281671 35.14166122 15.34826717 12.91602778 6.37414341 17.48696012 10.60959485 18.87082027 15.30633169 1.38386015 4.61286685-0.12580547 13.50312062-7.42252263 29.10299872-5.45157063 11.61603859-14.46762889 28.09655497-25.11915823 47.51253164a28.18042496 25.03528825 0 0 0-10.52572486 1.59353659 28.18042496 25.03528825 0 0 0-16.98373826 32.038459 28.18042496 25.03528825 0 0 0 36.06423498 15.09665623 28.18042496 25.03528825 0 0 0 16.94180278-32.03845901 28.18042496 25.03528825 0 0 0-5.74511608-8.47090188c10.52572388-19.20630122 19.58371762-35.72875308 25.41270465-48.14155897 7.88380904-16.85793279 11.99345499-29.39654416 8.38703091-41.51580463-3.60642311-12.11926046-14.67730434-20.0030695-29.35460966-27.25785217-9.6450856-4.73867233-21.68047607-9.77089106-36.06423399-15.80955357a28.18042496 25.03528825 0 0 0-1.59353562-10.022502 28.18042496 25.03528825 0 0 0-6.08059796-8.7644483l22.14176246-40.38355541 122.61839638 52.96410227c22.14176247 9.6031511 31.2836262 33.12877372 20.54822685 52.8382968l-84.28966393 154.32137544c-10.77733482 19.66758857-37.23841869 27.80300855-59.38018118 18.24179293l-173.48574115-74.98005927c-22.14176247-9.5612156-31.32556167-33.12877372-20.54822687-52.83829679l84.28966395-154.27943995c7.38058716-13.54505513 22.22563246-21.59660511 37.951317-22.22563246h2.68384935z\"}})]),_vm._v(\" \"),_c('symbol',{attrs:{\"id\":\"vssue-icon-gitee\",\"viewBox\":\"0 0 1024 1024\"}},[_c('path',{attrs:{\"d\":\"M978.404275 409.561604H455.061338c-25.117645 0-45.499734 20.382089-45.499734 45.499734l-0.031997 113.781333c0 25.117645 20.350092 45.499734 45.499734 45.531731h318.594132c25.117645 0 45.499734 20.382089 45.499734 45.499735v22.749867a136.5312 136.5312 0 0 1-136.5312 136.5312H250.248539a45.499734 45.499734 0 0 1-45.499734-45.499734V341.343999a136.5312 136.5312 0 0 1 136.5312-136.5312L978.308284 204.780802c25.117645 0 45.499734-20.350092 45.499734-45.467738L1023.904009 45.531731h0.031997A45.499734 45.499734 0 0 0 978.468269 0h-0.031997L341.343999 0.031997C152.84967 0.031997 0.031997 152.84967 0.031997 341.343999v637.092273c0 25.117645 20.382089 45.499734 45.499734 45.499734h671.233072a307.171203 307.171203 0 0 0 307.171203-307.171203v-261.671468c0-25.117645-20.382089-45.499734-45.499734-45.499734z\"}})]),_vm._v(\" \"),_c('symbol',{attrs:{\"id\":\"vssue-icon-github\",\"viewBox\":\"0 0 1024 1024\"}},[_c('path',{attrs:{\"d\":\"M512 20.4425c-278.334 0-504 225.6345-504 504 0 222.6735 144.4275 411.6105 344.673 478.233 25.2 4.662 34.461-10.9305 34.461-24.255 0-12.0015-0.4725-51.723-0.693-93.8385-140.238 30.492-169.8165-59.472-169.8165-59.472-22.932-58.2435-55.944-73.7415-55.944-73.7415-45.738-31.2795 3.465-30.6495 3.465-30.6495 50.589 3.5595 77.238 51.9435 77.238 51.9435 44.9505 77.049 117.9045 54.7785 146.664 41.895 4.5045-32.571 17.577-54.81 32.004-67.41-111.951-12.726-229.635-55.9755-229.635-249.0705 0-55.0305 19.6875-99.981 51.9435-135.2925-5.229-12.6945-22.491-63.945 4.8825-133.371 0 0 42.336-13.545 138.6315 51.66 40.194-11.1825 83.3175-16.758 126.1575-16.9785 42.8085 0.189 85.9635 5.796 126.252 16.9785 96.201-65.205 138.4425-51.66 138.4425-51.66 27.4365 69.426 10.1745 120.6765 4.9455 133.371 32.319 35.28 51.8805 80.262 51.8805 135.2925 0 193.5675-117.9045 236.187-230.139 248.6925 18.081 15.6555 34.1775 46.305 34.1775 93.3345 0 67.4415-0.5985 121.716-0.5985 138.3165 0 13.419 9.072 29.1375 34.6185 24.192 200.151-66.717 344.3895-255.5595 344.3895-478.17 0-278.3655-225.666-504-504-504z\"}})]),_vm._v(\" \"),_c('symbol',{attrs:{\"id\":\"vssue-icon-gitlab\",\"viewBox\":\"0 0 1024 1024\"}},[_c('path',{attrs:{\"d\":\"M66.61375986 405.11600042L512.11376028 976.03999972 23.84576 621.65599958a39.312 39.312 0 0 1-14.07600042-43.30799944l56.8080007-173.26800028z m259.88400014 0h371.26800014L512.14975986 976.03999972zM215.11376 60.88400042l111.384 344.232H66.61375986l111.384-344.232a19.72800014 19.72800014 0 0 1 37.11600014 0z m742.49999972 344.232l56.8080007 173.2679993a39.23999986 39.23999986 0 0 1-14.07600042 43.30800042l-488.26800028 354.38400014 445.50000042-570.92400028z m0 0h-259.88400014l111.384-344.232a19.72800014 19.72800014 0 0 1 37.11600014 0z\"}})]),_vm._v(\" \"),_c('symbol',{attrs:{\"id\":\"vssue-icon-loading\",\"viewBox\":\"0 0 1024 1024\"}},[_c('path',{attrs:{\"d\":\"M843.307 742.24c0 3.217 2.607 5.824 5.824 5.824s5.824-2.607 5.824-5.824a5.823 5.823 0 0 0-5.824-5.824 5.823 5.823 0 0 0-5.824 5.824zM714.731 874.912c0 6.398 5.186 11.584 11.584 11.584s11.584-5.186 11.584-11.584-5.186-11.584-11.584-11.584-11.584 5.186-11.584 11.584zM541.419 943.2c0 9.614 7.794 17.408 17.408 17.408s17.408-7.794 17.408-17.408-7.794-17.408-17.408-17.408-17.408 7.794-17.408 17.408z m-186.56-9.152c0 12.795 10.373 23.168 23.168 23.168s23.168-10.373 23.168-23.168-10.373-23.168-23.168-23.168-23.168 10.373-23.168 23.168zM189.355 849.12c0 16.012 12.98 28.992 28.992 28.992s28.992-12.98 28.992-28.992-12.98-28.992-28.992-28.992-28.992 12.98-28.992 28.992zM74.731 704.736c0 19.228 15.588 34.816 34.816 34.816s34.816-15.588 34.816-34.816-15.588-34.816-34.816-34.816-34.816 15.588-34.816 34.816z m-43.008-177.28c0 22.41 18.166 40.576 40.576 40.576s40.576-18.166 40.576-40.576-18.166-40.576-40.576-40.576-40.576 18.166-40.576 40.576z m35.392-176.128c0 25.626 20.774 46.4 46.4 46.4s46.4-20.774 46.4-46.4c0-25.626-20.774-46.4-46.4-46.4-25.626 0-46.4 20.774-46.4 46.4z m106.176-142.016c0 28.843 23.381 52.224 52.224 52.224s52.224-23.381 52.224-52.224c0-28.843-23.381-52.224-52.224-52.224-28.843 0-52.224 23.381-52.224 52.224z m155.904-81.344c0 32.024 25.96 57.984 57.984 57.984s57.984-25.96 57.984-57.984-25.96-57.984-57.984-57.984-57.984 25.96-57.984 57.984z m175.104-5.056c0 35.24 28.568 63.808 63.808 63.808s63.808-28.568 63.808-63.808c0-35.24-28.568-63.808-63.808-63.808-35.24 0-63.808 28.568-63.808 63.808z m160.32 72.128c0 38.421 31.147 69.568 69.568 69.568s69.568-31.147 69.568-69.568-31.147-69.568-69.568-69.568-69.568 31.147-69.568 69.568z m113.92 135.488c0 41.638 33.754 75.392 75.392 75.392s75.392-33.754 75.392-75.392-33.754-75.392-75.392-75.392-75.392 33.754-75.392 75.392z m45.312 175.488c0 44.854 36.362 81.216 81.216 81.216s81.216-36.362 81.216-81.216c0-44.854-36.362-81.216-81.216-81.216-44.854 0-81.216 36.362-81.216 81.216z\"}})]),_vm._v(\" \"),_c('symbol',{attrs:{\"id\":\"vssue-icon-like\",\"viewBox\":\"0 0 1024 1024\"}},[_c('path',{attrs:{\"d\":\"M885.9 533.7c16.8-22.2 26.1-49.4 26.1-77.7 0-44.9-25.1-87.4-65.5-111.1a67.67 67.67 0 0 0-34.3-9.3H572.4l6-122.9c1.4-29.7-9.1-57.9-29.5-79.4-20.5-21.5-48.1-33.4-77.9-33.4-52 0-98 35-111.8 85.1l-85.9 311H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h601.3c9.2 0 18.2-1.8 26.5-5.4 47.6-20.3 78.3-66.8 78.3-118.4 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7 0-12.6-1.8-25-5.4-37 16.8-22.2 26.1-49.4 26.1-77.7-0.2-12.6-2-25.1-5.6-37.1zM184 852V568h81v284h-81z m636.4-353l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 16.5-7.2 32.2-19.6 43l-21.9 19 13.9 25.4c4.6 8.4 6.9 17.6 6.9 27.3 0 22.4-13.2 42.6-33.6 51.8H329V564.8l99.5-360.5c5.2-18.9 22.5-32.2 42.2-32.3 7.6 0 15.1 2.2 21.1 6.7 9.9 7.4 15.2 18.6 14.6 30.5l-9.6 198.4h314.4C829 418.5 840 436.9 840 456c0 16.5-7.2 32.1-19.6 43z\"}})]),_vm._v(\" \"),_c('symbol',{attrs:{\"id\":\"vssue-icon-unlike\",\"viewBox\":\"0 0 1024 1024\"}},[_c('path',{attrs:{\"d\":\"M885.9 490.3c3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-28.3-9.3-55.5-26.1-77.7 3.6-12 5.4-24.4 5.4-37 0-51.6-30.7-98.1-78.3-118.4-8.3-3.6-17.2-5.4-26.5-5.4H144c-17.7 0-32 14.3-32 32v364c0 17.7 14.3 32 32 32h129.3l85.8 310.8C372.9 889 418.9 924 470.9 924c29.7 0 57.4-11.8 77.9-33.4 20.5-21.5 31-49.7 29.5-79.4l-6-122.9h239.9c12.1 0 23.9-3.2 34.3-9.3 40.4-23.5 65.5-66.1 65.5-111 0-28.3-9.3-55.5-26.1-77.7zM184 456V172h81v284h-81z m627.2 160.4H496.8l9.6 198.4c0.6 11.9-4.7 23.1-14.6 30.5-6.1 4.5-13.6 6.8-21.1 6.7-19.6-0.1-36.9-13.4-42.2-32.3L329 459.2V172h415.4c20.4 9.2 33.6 29.4 33.6 51.8 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-13.9 25.4 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 9.7-2.3 18.9-6.9 27.3l-14 25.5 21.9 19c12.5 10.8 19.6 26.5 19.6 43 0 19.1-11 37.5-28.8 48.4z\"}})]),_vm._v(\" \"),_c('symbol',{attrs:{\"id\":\"vssue-icon-heart\",\"viewBox\":\"0 0 1024 1024\"}},[_c('path',{attrs:{\"d\":\"M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z\"}})]),_vm._v(\" \"),_c('symbol',{attrs:{\"id\":\"vssue-icon-edit\",\"viewBox\":\"0 0 1024 1024\"}},[_c('path',{attrs:{\"d\":\"M723.2 917.76H286.72c-65.28 0-118.4-51.2-118.4-113.92V261.76C168.32 198.4 221.44 147.2 286.72 147.2h375.04c17.92 0 32 14.08 32 32s-14.08 32-32 32H286.72c-30.08 0-54.4 22.4-54.4 49.92v542.08c0 27.52 24.32 49.92 54.4 49.92H723.2c30.08 0 54.4-22.4 54.4-49.92V440.32c0-17.92 14.08-32 32-32s32 14.08 32 32v363.52c0 62.72-53.12 113.92-118.4 113.92z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M499.84 602.24c-7.68 0-14.72-2.56-21.12-7.68-13.44-11.52-14.72-32-3.2-45.44L780.16 198.4c11.52-13.44 32-14.72 45.44-3.2s14.72 32 3.2 45.44L524.16 591.36c-6.4 7.04-15.36 10.88-24.32 10.88z\"}})]),_vm._v(\" \"),_c('symbol',{attrs:{\"id\":\"vssue-icon-delete\",\"viewBox\":\"0 0 1024 1024\"}},[_c('path',{attrs:{\"d\":\"M677.647059 256l0-90.352941c0-37.436235-23.461647-60.235294-61.771294-60.235294L408.094118 105.411765c-38.249412 0-61.741176 22.799059-61.741176 60.235294l0 90.352941-180.705882 0 0 60.235294 60.235294 0 0 512c0 54.272 33.972706 90.352941 90.352941 90.352941l391.529412 0c55.085176 0 90.352941-33.490824 90.352941-90.352941l0-512 60.235294 0 0-60.235294L677.647059 256zM406.588235 165.647059l210.823529 0-1.264941 90.352941L406.588235 256 406.588235 165.647059zM737.882353 858.352941l-451.764706 0 0-542.117647 451.764706 0L737.882353 858.352941zM466.823529 376.470588l-58.729412 0-1.505882 391.529412 60.235294 0L466.823529 376.470588zM617.411765 376.470588l-60.235294 0 0 391.529412 60.235294 0L617.411765 376.470588z\"}})]),_vm._v(\" \"),_c('symbol',{attrs:{\"id\":\"vssue-icon-reply\",\"viewBox\":\"0 0 1024 1024\"}},[_c('path',{attrs:{\"d\":\"M426.666667 384 426.666667 213.333333 128 512 426.666667 810.666667 426.666667 635.733333C640 635.733333 789.333333 704 896 853.333333 853.333333 640 725.333333 426.666667 426.666667 384Z\"}})]),_vm._v(\" \"),_c('symbol',{attrs:{\"id\":\"vssue-icon-error\",\"viewBox\":\"0 0 1024 1024\"}},[_c('path',{attrs:{\"d\":\"M512 720m-48 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0Z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M480 416v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8z\"}}),_vm._v(\" \"),_c('path',{attrs:{\"d\":\"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48z m-783.5-27.9L512 239.9l339.8 588.2H172.2z\"}})])])};\nvar __vue_staticRenderFns__ = [];\n\n  /* style */\n  const __vue_inject_styles__ = undefined;\n  /* scoped */\n  const __vue_scope_id__ = undefined;\n  /* module identifier */\n  const __vue_module_identifier__ = undefined;\n  /* functional template */\n  const __vue_is_functional_template__ = true;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = normalizeComponent(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nvar script$1 = Vue.extend({\n    name: 'TransitionFade',\n    functional: true,\n    props: {\n        group: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        tag: {\n            type: String,\n            required: false,\n            default: 'div',\n        },\n    },\n    render(h, { props, children }) {\n        return h(props.group ? 'TransitionGroup' : 'Transition', {\n            props: {\n                name: 'fade',\n                mode: 'out-in',\n                appear: true,\n                tag: props.tag,\n            },\n        }, children);\n    },\n});\n\n/* script */\nconst __vue_script__$1 = script$1;\n\n/* template */\n\n  /* style */\n  const __vue_inject_styles__$1 = undefined;\n  /* scoped */\n  const __vue_scope_id__$1 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$1 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$1 = undefined;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__$1 = normalizeComponent(\n    {},\n    __vue_inject_styles__$1,\n    __vue_script__$1,\n    __vue_scope_id__$1,\n    __vue_is_functional_template__$1,\n    __vue_module_identifier__$1,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nvar script$2 = Vue.extend({\n    name: 'VssueIcon',\n    functional: true,\n    props: {\n        name: {\n            type: String,\n            required: true,\n        },\n        title: {\n            type: String,\n            required: false,\n            default: null,\n        },\n    },\n    render(h, { props, data }) {\n        return h('svg', Object.assign(Object.assign({}, data), { class: ['vssue-icon', `vssue-icon-${props.name}`], attrs: {\n                'aria-hidden': 'true',\n            } }), [\n            h('title', props.title),\n            h('use', {\n                attrs: {\n                    'xlink:href': `#vssue-icon-${props.name}`,\n                },\n            }),\n        ]);\n    },\n});\n\n/* script */\nconst __vue_script__$2 = script$2;\n\n/* template */\n\n  /* style */\n  const __vue_inject_styles__$2 = undefined;\n  /* scoped */\n  const __vue_scope_id__$2 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$2 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$2 = undefined;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__$2 = normalizeComponent(\n    {},\n    __vue_inject_styles__$2,\n    __vue_script__$2,\n    __vue_scope_id__$2,\n    __vue_is_functional_template__$2,\n    __vue_module_identifier__$2,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nlet VssueComment = class VssueComment extends Vue$1 {\n    constructor() {\n        super(...arguments);\n        this.editMode = false;\n        this.editContent = this.comment.contentRaw;\n        this.creatingReactions = [];\n        this.isPutingComment = false;\n        this.isDeletingComment = false;\n    }\n    get currentUser() {\n        return this.vssue.user ? this.vssue.user.username : null;\n    }\n    get content() {\n        return this.comment.content;\n    }\n    get author() {\n        return this.comment.author;\n    }\n    get createdAt() {\n        return formatDateTime(this.comment.createdAt);\n    }\n    get updatedAt() {\n        return formatDateTime(this.comment.updatedAt);\n    }\n    get showReactions() {\n        return Boolean(this.vssue.API &&\n            this.vssue.API.platform.meta.reactable &&\n            this.comment.reactions &&\n            !this.editMode);\n    }\n    get reactionKeys() {\n        return ['heart', 'like', 'unlike'];\n    }\n    get editContentRows() {\n        return this.editContent.split('\\n').length - 1;\n    }\n    get editInputRows() {\n        return this.editContentRows < 3 ? 5 : this.editContentRows + 2;\n    }\n    async postReaction({ reaction, }) {\n        try {\n            if (this.creatingReactions.includes(reaction))\n                return;\n            this.creatingReactions.push(reaction);\n            const success = await this.vssue.postCommentReaction({\n                commentId: this.comment.id,\n                reaction,\n            });\n            if (!success) {\n                this.vssue.$emit('error', new Error(this.vssue.$t('reactionGiven', {\n                    reaction: this.vssue.$t(reaction),\n                })));\n            }\n            // always refresh reactions even already given\n            const reactions = await this.vssue.getCommentReactions({\n                commentId: this.comment.id,\n            });\n            if (reactions) {\n                this.comment.reactions = reactions;\n            }\n        }\n        finally {\n            this.creatingReactions.splice(this.creatingReactions.findIndex(item => item === reaction), 1);\n        }\n    }\n    enterEdit() {\n        this.editMode = true;\n        this.$nextTick(() => {\n            this.$refs.input.focus();\n        });\n    }\n    resetEdit() {\n        this.editMode = false;\n        this.editContent = this.comment.contentRaw;\n    }\n    async putComment() {\n        try {\n            if (this.vssue.isPending)\n                return;\n            if (this.editContent !== this.comment.contentRaw) {\n                this.isPutingComment = true;\n                this.vssue.isUpdatingComment = true;\n                const comment = await this.vssue.putComment({\n                    commentId: this.comment.id,\n                    content: this.editContent,\n                });\n                if (comment) {\n                    this.vssue.comments.data.splice(this.vssue.comments.data.findIndex(item => item.id === this.comment.id), 1, comment);\n                }\n            }\n            this.editMode = false;\n        }\n        finally {\n            this.isPutingComment = false;\n            this.vssue.isUpdatingComment = false;\n        }\n    }\n    async deleteComment() {\n        try {\n            if (this.vssue.isPending)\n                return;\n            if (!window.confirm(this.vssue.$t('deleteConfirm')))\n                return;\n            this.isDeletingComment = true;\n            this.vssue.isUpdatingComment = true;\n            const success = await this.vssue.deleteComment({\n                commentId: this.comment.id,\n            });\n            if (success) {\n                // decrease count immediately\n                this.vssue.comments.count -= 1;\n                // if there are more than one comment on this page, remove the deleted comment immediately\n                if (this.vssue.comments.data.length > 1) {\n                    this.vssue.comments.data.splice(this.vssue.comments.data.findIndex(item => item.id === this.comment.id), 1);\n                }\n                // if the page count should be decreased, change the query param to trigger comments reload\n                if (this.vssue.query.page > 1 &&\n                    this.vssue.query.page >\n                        Math.ceil(this.vssue.comments.count / this.vssue.query.perPage)) {\n                    this.vssue.query.page -= 1;\n                }\n                else {\n                    await this.vssue.getComments();\n                }\n            }\n            else {\n                this.vssue.$emit('error', new Error(this.vssue.$t('deleteFailed')));\n            }\n        }\n        finally {\n            this.isDeletingComment = false;\n            this.vssue.isUpdatingComment = false;\n        }\n    }\n};\n__decorate([\n    Prop({\n        type: Object,\n        required: true,\n    })\n], VssueComment.prototype, \"comment\", void 0);\n__decorate([\n    Inject()\n], VssueComment.prototype, \"vssue\", void 0);\nVssueComment = __decorate([\n    Component({\n        components: {\n            VssueIcon: __vue_component__$2,\n        },\n    })\n], VssueComment);\nvar script$3 = VssueComment;\n\n/* script */\nconst __vue_script__$3 = script$3;\n\n/* template */\nvar __vue_render__$1 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vssue-comment\",class:{\n    'vssue-comment-edit-mode': _vm.editMode,\n    'vssue-comment-disabled': _vm.isDeletingComment || _vm.isPutingComment,\n  }},[_c('div',{staticClass:\"vssue-comment-avatar\"},[_c('a',{attrs:{\"href\":_vm.author.homepage,\"title\":_vm.author.username,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_c('img',{attrs:{\"src\":_vm.author.avatar,\"alt\":_vm.author.username}})])]),_vm._v(\" \"),_c('div',{staticClass:\"vssue-comment-body\"},[_vm._t(\"body\",[_c('div',{staticClass:\"vssue-comment-header\"},[_c('span',{staticClass:\"vssue-comment-author\"},[_c('a',{attrs:{\"href\":_vm.author.homepage,\"title\":_vm.author.username,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.author.username)+\"\\n          \")])]),_vm._v(\" \"),_c('span',{staticClass:\"vssue-comment-created-at\"},[_vm._v(\"\\n          \"+_vm._s(_vm.createdAt)+\"\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"vssue-comment-main\"},[(_vm.editMode)?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editContent),expression:\"editContent\"}],ref:\"input\",staticClass:\"vssue-edit-comment-input\",attrs:{\"rows\":_vm.editInputRows},domProps:{\"value\":(_vm.editContent)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.ctrlKey){ return null; }return _vm.putComment()},\"input\":function($event){if($event.target.composing){ return; }_vm.editContent=$event.target.value;}}}):_c('article',{staticClass:\"markdown-body\",domProps:{\"innerHTML\":_vm._s(_vm.content)}})]),_vm._v(\" \"),_c('div',{staticClass:\"vssue-comment-footer\"},[(_vm.editMode)?_c('span',{staticClass:\"vssue-comment-hint\"},[_vm._v(\"\\n          \"+_vm._s(_vm.vssue.$t('editMode'))+\"\\n        \")]):_vm._e(),_vm._v(\" \"),(_vm.showReactions)?_c('span',{staticClass:\"vssue-comment-reactions\"},_vm._l((_vm.reactionKeys),function(reaction){return _c('span',{key:reaction,staticClass:\"vssue-comment-reaction\",attrs:{\"title\":_vm.vssue.$t(\n                _vm.creatingReactions.includes(reaction) ? 'loading' : reaction\n              )},on:{\"click\":function($event){return _vm.postReaction({ reaction: reaction })}}},[_c('VssueIcon',{attrs:{\"name\":_vm.creatingReactions.includes(reaction) ? 'loading' : reaction,\"title\":_vm.vssue.$t(\n                  _vm.creatingReactions.includes(reaction) ? 'loading' : reaction\n                )}}),_vm._v(\" \"),_c('span',{staticClass:\"vssue-comment-reaction-number\"},[_vm._v(\"\\n              \"+_vm._s(_vm.comment.reactions[reaction])+\"\\n            \")])],1)}),0):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"vssue-comment-operations\"},[(_vm.comment.author.username === _vm.currentUser && _vm.editMode)?_c('span',{staticClass:\"vssue-comment-operation\",class:{ 'vssue-comment-operation-muted': _vm.isPutingComment },attrs:{\"title\":_vm.vssue.$t(_vm.isPutingComment ? 'loading' : 'submit')},on:{\"click\":function($event){return _vm.putComment()}}},[_c('VssueIcon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isPutingComment),expression:\"isPutingComment\"}],attrs:{\"name\":\"loading\",\"title\":_vm.vssue.$t('loading')}}),_vm._v(\"\\n\\n            \"+_vm._s(_vm.vssue.$t('submit'))+\"\\n          \")],1):_vm._e(),_vm._v(\" \"),(_vm.comment.author.username === _vm.currentUser && _vm.editMode)?_c('span',{staticClass:\"vssue-comment-operation vssue-comment-operation-muted\",attrs:{\"title\":_vm.vssue.$t('cancel')},on:{\"click\":function($event){return _vm.resetEdit()}}},[_vm._v(\"\\n            \"+_vm._s(_vm.vssue.$t('cancel'))+\"\\n          \")]):_vm._e(),_vm._v(\" \"),(_vm.comment.author.username === _vm.currentUser)?_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editMode),expression:\"!editMode\"}],staticClass:\"vssue-comment-operation\",on:{\"click\":function($event){return _vm.enterEdit()}}},[_c('VssueIcon',{attrs:{\"name\":\"edit\",\"title\":_vm.vssue.$t('edit')}})],1):_vm._e(),_vm._v(\" \"),(_vm.comment.author.username === _vm.currentUser || _vm.vssue.isAdmin)?_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editMode),expression:\"!editMode\"}],staticClass:\"vssue-comment-operation\",on:{\"click\":function($event){return _vm.deleteComment()}}},[_c('VssueIcon',{attrs:{\"name\":_vm.isDeletingComment ? 'loading' : 'delete',\"title\":_vm.vssue.$t(_vm.isDeletingComment ? 'loading' : 'delete')}})],1):_vm._e(),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editMode),expression:\"!editMode\"}],staticClass:\"vssue-comment-operation\",on:{\"click\":function($event){return _vm.vssue.$emit('reply-comment', _vm.comment)}}},[_c('VssueIcon',{attrs:{\"name\":\"reply\",\"title\":_vm.vssue.$t('reply')}})],1)])])])],2)])};\nvar __vue_staticRenderFns__$1 = [];\n\n  /* style */\n  const __vue_inject_styles__$3 = undefined;\n  /* scoped */\n  const __vue_scope_id__$3 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$3 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$3 = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__$3 = normalizeComponent(\n    { render: __vue_render__$1, staticRenderFns: __vue_staticRenderFns__$1 },\n    __vue_inject_styles__$3,\n    __vue_script__$3,\n    __vue_scope_id__$3,\n    __vue_is_functional_template__$3,\n    __vue_module_identifier__$3,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nlet VssuePagination = class VssuePagination extends Vue$1 {\n    get disabled() {\n        return this.vssue.isPending;\n    }\n    get pageCount() {\n        const pageCount = Math.ceil(this.vssue.comments.count / this.vssue.comments.perPage);\n        return pageCount > 1 ? pageCount : 1;\n    }\n    get perPageOptions() {\n        const perPageOptions = [5, 10, 20, 50];\n        if (!perPageOptions.includes(this.vssue.options.perPage) &&\n            this.vssue.options.perPage < 100) {\n            perPageOptions.push(this.vssue.options.perPage);\n        }\n        return perPageOptions.sort((a, b) => a - b);\n    }\n    get page() {\n        return this.vssue.query.page > this.pageCount\n            ? this.pageCount\n            : this.vssue.query.page;\n    }\n    set page(val) {\n        if (val > 0 && val <= this.pageCount) {\n            this.vssue.query.page = val;\n        }\n    }\n    get perPage() {\n        return this.vssue.query.perPage;\n    }\n    set perPage(val) {\n        if (this.perPageOptions.includes(val)) {\n            this.vssue.query.perPage = val;\n        }\n    }\n};\n__decorate([\n    Inject()\n], VssuePagination.prototype, \"vssue\", void 0);\nVssuePagination = __decorate([\n    Component({\n        components: {\n            VssueIcon: __vue_component__$2,\n        },\n    })\n], VssuePagination);\nvar script$4 = VssuePagination;\n\n/* script */\nconst __vue_script__$4 = script$4;\n\n/* template */\nvar __vue_render__$2 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vssue-pagination\"},[_c('div',{staticClass:\"vssue-pagination-per-page\"},[_c('label',[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.perPage),expression:\"perPage\"}],staticClass:\"vssue-pagination-select\",attrs:{\"disabled\":_vm.disabled},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.perPage=$event.target.multiple ? $$selectedVal : $$selectedVal[0];}}},_vm._l((_vm.perPageOptions),function(val){return _c('option',{key:val,domProps:{\"value\":val}},[_vm._v(\"\\n          \"+_vm._s(val)+\"\\n        \")])}),0),_vm._v(\" \"),_c('span',[_vm._v(\"\\n        \"+_vm._s(_vm.vssue.$t('perPage'))+\"\\n      \")])]),_vm._v(\" \"),(_vm.vssue.API.platform.meta.sortable)?_c('span',{class:{\n        'vssue-pagination-link': true,\n        disabled: _vm.disabled,\n      },attrs:{\"title\":_vm.vssue.$t('sort')},on:{\"click\":function($event){_vm.vssue.query.sort = _vm.vssue.query.sort === 'asc' ? 'desc' : 'asc';}}},[_vm._v(\"\\n      \"+_vm._s(_vm.vssue.query.sort === 'asc' ? \"↑\" : \"↓\")+\"\\n    \")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"vssue-pagination-page\"},[_c('span',{class:{\n        'vssue-pagination-link': true,\n        disabled: _vm.page === 1 || _vm.disabled,\n      },attrs:{\"title\":_vm.vssue.$t('prev')},domProps:{\"textContent\":_vm._s(\"<\")},on:{\"click\":function($event){_vm.page -= 1;}}}),_vm._v(\" \"),_c('label',[_c('span',[_vm._v(\"\\n        \"+_vm._s(_vm.vssue.$t('page'))+\"\\n      \")]),_vm._v(\" \"),_c('select',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pageCount > 1),expression:\"pageCount > 1\"},{name:\"model\",rawName:\"v-model\",value:(_vm.page),expression:\"page\"}],staticClass:\"vssue-pagination-select\",attrs:{\"disabled\":_vm.disabled},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.page=$event.target.multiple ? $$selectedVal : $$selectedVal[0];}}},_vm._l((_vm.pageCount),function(val){return _c('option',{key:val,domProps:{\"value\":val}},[_vm._v(\"\\n          \"+_vm._s(val)+\"\\n        \")])}),0),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.pageCount < 2),expression:\"pageCount < 2\"}],domProps:{\"textContent\":_vm._s(_vm.page)}}),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s((\" / \" + _vm.pageCount + \" \"))}})]),_vm._v(\" \"),_c('span',{class:{\n        'vssue-pagination-link': true,\n        disabled: _vm.page === _vm.pageCount || _vm.disabled,\n      },attrs:{\"title\":_vm.vssue.$t('next')},domProps:{\"textContent\":_vm._s(\">\")},on:{\"click\":function($event){_vm.page += 1;}}})])])};\nvar __vue_staticRenderFns__$2 = [];\n\n  /* style */\n  const __vue_inject_styles__$4 = undefined;\n  /* scoped */\n  const __vue_scope_id__$4 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$4 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$4 = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__$4 = normalizeComponent(\n    { render: __vue_render__$2, staticRenderFns: __vue_staticRenderFns__$2 },\n    __vue_inject_styles__$4,\n    __vue_script__$4,\n    __vue_scope_id__$4,\n    __vue_is_functional_template__$4,\n    __vue_module_identifier__$4,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nlet VssueComments = class VssueComments extends Vue$1 {\n};\n__decorate([\n    Inject()\n], VssueComments.prototype, \"vssue\", void 0);\nVssueComments = __decorate([\n    Component({\n        components: {\n            TransitionFade: __vue_component__$1,\n            VssueComment: __vue_component__$3,\n            VssuePagination: __vue_component__$4,\n        },\n    })\n], VssueComments);\nvar script$5 = VssueComments;\n\n/* script */\nconst __vue_script__$5 = script$5;\n\n/* template */\nvar __vue_render__$3 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vssue-comments\"},[_c('VssuePagination'),_vm._v(\" \"),_c('TransitionFade',{attrs:{\"group\":\"\"}},_vm._l((_vm.vssue.comments.data),function(comment){return _c('VssueComment',{key:comment.id,attrs:{\"comment\":comment}})}),1),_vm._v(\" \"),_c('VssuePagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.vssue.comments.data.length > 5),expression:\"vssue.comments.data.length > 5\"}]})],1)};\nvar __vue_staticRenderFns__$3 = [];\n\n  /* style */\n  const __vue_inject_styles__$5 = undefined;\n  /* scoped */\n  const __vue_scope_id__$5 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$5 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$5 = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__$5 = normalizeComponent(\n    { render: __vue_render__$3, staticRenderFns: __vue_staticRenderFns__$3 },\n    __vue_inject_styles__$5,\n    __vue_script__$5,\n    __vue_scope_id__$5,\n    __vue_is_functional_template__$5,\n    __vue_module_identifier__$5,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nvar script$6 = Vue.extend({\n    name: 'VssueIcon',\n    functional: true,\n    props: {\n        type: {\n            type: String,\n            required: false,\n            default: 'default',\n        },\n    },\n    render(h, { props, data, children }) {\n        return h('button', Object.assign(Object.assign({}, data), { class: ['vssue-button', `vssue-button-${props.type}`] }), children);\n    },\n});\n\n/* script */\nconst __vue_script__$6 = script$6;\n\n/* template */\n\n  /* style */\n  const __vue_inject_styles__$6 = undefined;\n  /* scoped */\n  const __vue_scope_id__$6 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$6 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$6 = undefined;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__$6 = normalizeComponent(\n    {},\n    __vue_inject_styles__$6,\n    __vue_script__$6,\n    __vue_scope_id__$6,\n    __vue_is_functional_template__$6,\n    __vue_module_identifier__$6,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nlet VssueNewComment = class VssueNewComment extends Vue$1 {\n    constructor() {\n        super(...arguments);\n        this.content = '';\n    }\n    get user() {\n        return this.vssue.user;\n    }\n    get platform() {\n        return this.vssue.API && this.vssue.API.platform.name;\n    }\n    get isInputDisabled() {\n        return this.loading || this.user === null || this.vssue.issue === null;\n    }\n    get isSubmitDisabled() {\n        return (this.content === '' || this.vssue.isPending || this.vssue.issue === null);\n    }\n    get loading() {\n        return this.vssue.isCreatingComment;\n    }\n    get contentRows() {\n        return this.content.split('\\n').length - 1;\n    }\n    get inputRows() {\n        return this.contentRows < 3 ? 5 : this.contentRows + 2;\n    }\n    created() {\n        this.vssue.$on('reply-comment', comment => {\n            const quotedComment = comment.contentRaw.replace(/\\n/g, '\\n> ');\n            const replyContent = `@${comment.author.username}\\n\\n> ${quotedComment}\\n\\n`;\n            this.content = this.content.concat(replyContent);\n            this.focus();\n        });\n    }\n    beforeDestroy() {\n        this.vssue.$off('reply-comment');\n    }\n    focus() {\n        this.$refs.input.focus();\n    }\n    async submit() {\n        if (this.isSubmitDisabled)\n            return;\n        await this.vssue.postComment({ content: this.content });\n        this.content = '';\n        await this.vssue.getComments();\n    }\n};\n__decorate([\n    Inject()\n], VssueNewComment.prototype, \"vssue\", void 0);\nVssueNewComment = __decorate([\n    Component({\n        components: {\n            VssueButton: __vue_component__$6,\n            VssueIcon: __vue_component__$2,\n        },\n    })\n], VssueNewComment);\nvar script$7 = VssueNewComment;\n\n/* script */\nconst __vue_script__$7 = script$7;\n\n/* template */\nvar __vue_render__$4 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vssue-new-comment\"},[_c('div',{staticClass:\"vssue-comment-avatar\"},[(_vm.user)?_c('a',{attrs:{\"href\":_vm.user.homepage,\"title\":_vm.user.username,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_c('img',{attrs:{\"src\":_vm.user.avatar,\"alt\":_vm.user.username}})]):_c('VssueIcon',{attrs:{\"name\":_vm.platform.toLowerCase(),\"title\":_vm.vssue.$t('loginToComment', { platform: _vm.platform })},on:{\"click\":function($event){return _vm.vssue.login()}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"vssue-new-comment-body\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],ref:\"input\",staticClass:\"vssue-new-comment-input\",attrs:{\"rows\":_vm.inputRows,\"disabled\":_vm.isInputDisabled,\"placeholder\":_vm.vssue.$t(_vm.user ? 'placeholder' : 'noLoginPlaceHolder'),\"spellcheck\":false,\"aria-label\":\"leave a comment\"},domProps:{\"value\":(_vm.content)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }if(!$event.ctrlKey){ return null; }return _vm.submit()},\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value;}}})]),_vm._v(\" \"),_c('div',{staticClass:\"vssue-new-comment-footer\"},[(_vm.user)?_c('span',{staticClass:\"vssue-current-user\"},[_c('span',[_vm._v(_vm._s(_vm.vssue.$t('currentUser'))+\" - \"+_vm._s(_vm.user.username)+\" - \")]),_vm._v(\" \"),_c('a',{staticClass:\"vssue-logout\",on:{\"click\":function($event){return _vm.vssue.logout()}}},[_vm._v(\"\\n        \"+_vm._s(_vm.vssue.$t('logout'))+\"\\n      \")])]):_c('span',{staticClass:\"vssue-current-user\"},[_vm._v(\"\\n      \"+_vm._s(_vm.vssue.$t('loginToComment', { platform: _vm.platform }))+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"vssue-new-comment-operations\"},[(_vm.user)?_c('VssueButton',{staticClass:\"vssue-button-submit-comment\",attrs:{\"type\":\"primary\",\"disabled\":_vm.isSubmitDisabled},on:{\"click\":function($event){return _vm.submit()}}},[_c('VssueIcon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"name\":\"loading\"}}),_vm._v(\"\\n\\n        \"+_vm._s(_vm.vssue.$t(_vm.loading ? 'submitting' : 'submitComment'))+\"\\n      \")],1):_c('VssueButton',{staticClass:\"vssue-button-login\",attrs:{\"type\":\"primary\",\"title\":_vm.vssue.$t('loginToComment', { platform: _vm.platform })},on:{\"click\":function($event){return _vm.vssue.login()}}},[_vm._v(\"\\n        \"+_vm._s(_vm.vssue.$t('login', { platform: _vm.platform }))+\"\\n      \")])],1)])])};\nvar __vue_staticRenderFns__$4 = [];\n\n  /* style */\n  const __vue_inject_styles__$7 = undefined;\n  /* scoped */\n  const __vue_scope_id__$7 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$7 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$7 = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__$7 = normalizeComponent(\n    { render: __vue_render__$4, staticRenderFns: __vue_staticRenderFns__$4 },\n    __vue_inject_styles__$7,\n    __vue_script__$7,\n    __vue_scope_id__$7,\n    __vue_is_functional_template__$7,\n    __vue_module_identifier__$7,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nlet VssueNotice = class VssueNotice extends Vue$1 {\n    constructor() {\n        super(...arguments);\n        // progress data\n        this.progress = {\n            show: false,\n            percent: 0,\n            timer: null,\n            speed: 200,\n        };\n        // alert data\n        this.alert = {\n            show: false,\n            message: null,\n            timer: null,\n        };\n    }\n    /**\n     * Show progress when loading comments\n     */\n    onLoadingCommentsChange(val) {\n        if (this.vssue.comments) {\n            if (val) {\n                this.progressStart();\n            }\n            else {\n                this.progressDone();\n            }\n        }\n    }\n    created() {\n        this.vssue.$on('error', e => this.alertShow(e.message));\n    }\n    beforeDestroy() {\n        this.vssue.$off('error');\n        if (this.progress.timer !== null)\n            window.clearTimeout(this.progress.timer);\n        if (this.alert.timer !== null)\n            window.clearTimeout(this.alert.timer);\n    }\n    /**\n     * Progress start\n     */\n    progressStart() {\n        this.progress.show = true;\n        this.progress.percent = 0;\n        this.progress.timer = window.setInterval(() => {\n            this.progress.percent += 5;\n            if (this.progress.percent > 94) {\n                if (this.progress.timer !== null)\n                    window.clearInterval(this.progress.timer);\n            }\n        }, this.progress.speed);\n    }\n    /**\n     * Progress stop\n     */\n    progressDone() {\n        this.progress.percent = 100;\n        if (this.progress.timer !== null)\n            window.clearTimeout(this.progress.timer);\n        this.progress.timer = null;\n        window.setTimeout(() => {\n            this.progress.show = false;\n        }, this.progress.speed);\n    }\n    /**\n     * Show alert message\n     */\n    alertShow(content) {\n        this.alert.show = true;\n        this.alert.message = content;\n        if (this.alert.timer !== null)\n            window.clearTimeout(this.alert.timer);\n        this.alert.timer = window.setTimeout(() => {\n            this.alertHide();\n        }, 3000);\n    }\n    /**\n     * Hide alert message\n     */\n    alertHide() {\n        this.alert.show = false;\n        if (this.alert.timer !== null)\n            window.clearTimeout(this.alert.timer);\n        this.alert.timer = null;\n    }\n};\n__decorate([\n    Inject()\n], VssueNotice.prototype, \"vssue\", void 0);\n__decorate([\n    Watch('vssue.isLoadingComments')\n], VssueNotice.prototype, \"onLoadingCommentsChange\", null);\nVssueNotice = __decorate([\n    Component({\n        components: {\n            TransitionFade: __vue_component__$1,\n        },\n    })\n], VssueNotice);\nvar script$8 = VssueNotice;\n\n/* script */\nconst __vue_script__$8 = script$8;\n\n/* template */\nvar __vue_render__$5 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vssue-notice\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.progress.show),expression:\"progress.show\"}],staticClass:\"vssue-progress\",style:({\n      width: ((_vm.progress.percent) + \"%\"),\n      transition: (\"all \" + (_vm.progress.speed) + \"ms linear\"),\n    })}),_vm._v(\" \"),_c('TransitionFade',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.alert.show),expression:\"alert.show\"}],staticClass:\"vssue-alert\",domProps:{\"textContent\":_vm._s(_vm.alert.message)},on:{\"click\":function($event){return _vm.alertHide()}}})])],1)};\nvar __vue_staticRenderFns__$5 = [];\n\n  /* style */\n  const __vue_inject_styles__$8 = undefined;\n  /* scoped */\n  const __vue_scope_id__$8 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$8 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$8 = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__$8 = normalizeComponent(\n    { render: __vue_render__$5, staticRenderFns: __vue_staticRenderFns__$5 },\n    __vue_inject_styles__$8,\n    __vue_script__$8,\n    __vue_scope_id__$8,\n    __vue_is_functional_template__$8,\n    __vue_module_identifier__$8,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nlet VssueStatus = class VssueStatus extends Vue$1 {\n    get status() {\n        if (this.vssue.isFailed) {\n            return 'failed';\n        }\n        else if (this.vssue.isInitializing) {\n            return 'initializing';\n        }\n        else if (this.vssue.isIssueNotCreated && !this.vssue.isCreatingIssue) {\n            if (this.vssue.isAdmin || !this.vssue.isLogined) {\n                return 'issueNotCreated';\n            }\n            else {\n                return 'failed';\n            }\n        }\n        else if (this.vssue.isLoginRequired) {\n            return 'loginRequired';\n        }\n        else if (!this.vssue.comments || this.vssue.isCreatingIssue) {\n            return 'loadingComments';\n        }\n        else if (this.vssue.comments.data.length === 0) {\n            return 'noComments';\n        }\n        else {\n            return null;\n        }\n    }\n    handleClick() {\n        if (this.status === 'issueNotCreated') {\n            this.vssue.postIssue();\n        }\n        else if (this.status === 'loginRequired') {\n            this.vssue.login();\n        }\n    }\n};\n__decorate([\n    Inject()\n], VssueStatus.prototype, \"vssue\", void 0);\nVssueStatus = __decorate([\n    Component({\n        components: {\n            TransitionFade: __vue_component__$1,\n            VssueIcon: __vue_component__$2,\n        },\n    })\n], VssueStatus);\nvar script$9 = VssueStatus;\n\n/* script */\nconst __vue_script__$9 = script$9;\n\n/* template */\nvar __vue_render__$6 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TransitionFade',[(_vm.status)?_c('div',{key:_vm.status,staticClass:\"vssue-status\"},[(['failed', 'loadingComments', 'initializing'].includes(_vm.status))?_c('VssueIcon',{attrs:{\"name\":_vm.status === 'failed' ? 'error' : 'loading'}}):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"vssue-status-info\"},[_c(['issueNotCreated', 'loginRequired'].includes(_vm.status) ? 'a' : 'span',{tag:\"Component\",on:{\"click\":_vm.handleClick}},[_vm._v(\"\\n        \"+_vm._s(_vm.vssue.$t(_vm.status))+\"\\n      \")])],1)],1):_vm._e()])};\nvar __vue_staticRenderFns__$6 = [];\n\n  /* style */\n  const __vue_inject_styles__$9 = undefined;\n  /* scoped */\n  const __vue_scope_id__$9 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$9 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$9 = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__$9 = normalizeComponent(\n    { render: __vue_render__$6, staticRenderFns: __vue_staticRenderFns__$6 },\n    __vue_inject_styles__$9,\n    __vue_script__$9,\n    __vue_scope_id__$9,\n    __vue_is_functional_template__$9,\n    __vue_module_identifier__$9,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nlet VssueBody = class VssueBody extends Vue$1 {\n};\n__decorate([\n    Inject()\n], VssueBody.prototype, \"vssue\", void 0);\nVssueBody = __decorate([\n    Component({\n        components: {\n            TransitionFade: __vue_component__$1,\n            VssueIcon: __vue_component__$2,\n            VssueComments: __vue_component__$5,\n            VssueNewComment: __vue_component__$7,\n            VssueNotice: __vue_component__$8,\n            VssueStatus: __vue_component__$9,\n        },\n    })\n], VssueBody);\nvar script$a = VssueBody;\n\n/* script */\nconst __vue_script__$a = script$a;\n\n/* template */\nvar __vue_render__$7 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TransitionFade',[(!_vm.vssue.isInitializing)?_c('div',{staticClass:\"vssue-body\"},[(_vm.vssue.API)?_c('VssueNewComment'):_vm._e(),_vm._v(\" \"),_c('VssueNotice'),_vm._v(\" \"),_c('TransitionFade',[(_vm.vssue.comments && _vm.vssue.comments.data.length > 0)?_c('VssueComments'):_c('VssueStatus')],1)],1):_c('VssueStatus')],1)};\nvar __vue_staticRenderFns__$7 = [];\n\n  /* style */\n  const __vue_inject_styles__$a = undefined;\n  /* scoped */\n  const __vue_scope_id__$a = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$a = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$a = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__$a = normalizeComponent(\n    { render: __vue_render__$7, staticRenderFns: __vue_staticRenderFns__$7 },\n    __vue_inject_styles__$a,\n    __vue_script__$a,\n    __vue_scope_id__$a,\n    __vue_is_functional_template__$a,\n    __vue_module_identifier__$a,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nlet VssueHeader = class VssueHeader extends Vue$1 {\n};\n__decorate([\n    Inject()\n], VssueHeader.prototype, \"vssue\", void 0);\nVssueHeader = __decorate([\n    Component\n], VssueHeader);\nvar script$b = VssueHeader;\n\n/* script */\nconst __vue_script__$b = script$b;\n\n/* template */\nvar __vue_render__$8 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vssue-header\"},[_c('a',{staticClass:\"vssue-header-comments-count\",attrs:{\"href\":_vm.vssue.issue ? _vm.vssue.issue.link : null,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_c('span',[_vm._v(\"\\n      \"+_vm._s(_vm.vssue.comments\n          ? _vm.vssue.$tc('comments', _vm.vssue.comments.count, {\n              count: _vm.vssue.comments.count,\n            })\n          : _vm.vssue.$tc('comments', 0))+\"\\n    \")])]),_vm._v(\" \"),_c('span',{staticClass:\"vssue-header-powered-by\"},[_c('span',[_vm._v(\"Powered by\")]),_vm._v(\" \"),(_vm.vssue.API)?_c('span',[_c('a',{attrs:{\"href\":_vm.vssue.API.platform.link,\"title\":((_vm.vssue.API.platform.name) + \" API \" + (_vm.vssue.API.platform.version)),\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.vssue.API.platform.name)+\"\\n      \")]),_vm._v(\" \"),_c('span',[_vm._v(\"&\")])]):_vm._e(),_vm._v(\" \"),_c('a',{attrs:{\"href\":\"https://github.com/meteorlxy/vssue\",\"title\":(\"Vssue v\" + (_vm.vssue.version)),\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"\\n      Vssue\\n    \")])])])};\nvar __vue_staticRenderFns__$8 = [];\n\n  /* style */\n  const __vue_inject_styles__$b = undefined;\n  /* scoped */\n  const __vue_scope_id__$b = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$b = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$b = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__$b = normalizeComponent(\n    { render: __vue_render__$8, staticRenderFns: __vue_staticRenderFns__$8 },\n    __vue_inject_styles__$b,\n    __vue_script__$b,\n    __vue_scope_id__$b,\n    __vue_is_functional_template__$b,\n    __vue_module_identifier__$b,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nconst messages = {\n    // auth\n    login: 'Login with {platform}',\n    logout: 'Logout',\n    currentUser: 'Current User',\n    // comment input\n    loading: 'Loading',\n    submit: 'Submit',\n    submitting: 'Submitting',\n    submitComment: 'Submit Comment',\n    cancel: 'Cancel',\n    edit: 'Edit',\n    editMode: 'Edit Mode',\n    delete: 'Delete',\n    reply: 'Reply',\n    // reactions\n    heart: 'Heart',\n    like: 'Like',\n    unlike: 'Unlike',\n    // pagination\n    perPage: 'Comments per page',\n    sort: 'Click to change the sort direction',\n    page: 'Page',\n    prev: 'Previous Page',\n    next: 'Next Page',\n    // hint\n    comments: 'Comments | {count} Comment | {count} Comments',\n    loginToComment: 'Login with {platform} account to leave a comment',\n    placeholder: 'Leave a comment. Styling with Markdown is supported. Ctrl + Enter to submit.',\n    noLoginPlaceHolder: 'Login to leave a comment. Styling with Markdown is supported. ',\n    // status\n    failed: 'Failed to load comments',\n    initializing: 'Initializing...',\n    issueNotCreated: 'Click to create issue',\n    loadingComments: 'Loading comments...',\n    loginRequired: 'Login to view comments',\n    noComments: 'No comments yet. Leave the first comment !',\n    // alerts\n    reactionGiven: `Already given '{reaction}' reaction`,\n    deleteConfirm: 'Confirm to delete this comment ?',\n    deleteFailed: 'Failed to delete comment',\n};\n\nconst messages$1 = {\n    // auth\n    login: '使用 {platform} 登录',\n    logout: '退出登录',\n    currentUser: '当前用户',\n    // comment input\n    loading: '加载中',\n    submit: '提交',\n    submitting: '发表中',\n    submitComment: '发表评论',\n    cancel: '取消',\n    edit: '编辑',\n    editMode: '编辑模式',\n    delete: '删除',\n    reply: '回复',\n    // reactions\n    heart: '喜欢',\n    like: '赞',\n    unlike: '踩',\n    // pagination\n    perPage: '每页评论数',\n    sort: '点击改变排序方式',\n    page: '页数',\n    prev: '上一页',\n    next: '下一页',\n    // hint\n    comments: '评论 | {count} 条评论 | {count} 条评论',\n    loginToComment: '使用 {platform} 帐号登录后发表评论',\n    placeholder: '留下你的评论丨支持 Markdown 语法丨Ctrl + Enter 发表评论',\n    noLoginPlaceHolder: '登录后才能发表评论丨支持 Markdown 语法',\n    // status\n    failed: '评论加载失败',\n    initializing: '正在初始化...',\n    issueNotCreated: '点击创建 Issue',\n    loadingComments: '正在加载评论...',\n    loginRequired: '登录后查看评论',\n    noComments: '还没有评论，来发表第一条评论吧！',\n    // alerts\n    reactionGiven: `已经添加过 '{reaction}' 了`,\n    deleteConfirm: '确认要删除该评论吗？',\n    deleteFailed: '评论删除失败',\n};\n\nconst messages$2 = {\n    // auth\n    login: 'Entrar com {platform}',\n    logout: 'Sair',\n    currentUser: 'Usuário Atual',\n    // comment input\n    loading: 'Carregando',\n    submit: 'Enviar',\n    submitting: 'Enviando',\n    submitComment: 'Enviar Comentário',\n    cancel: 'Cancelar',\n    edit: 'Editar',\n    editMode: 'Modo de Edição',\n    delete: 'Apagar',\n    reply: 'Responder',\n    // reactions\n    heart: 'Heart',\n    like: 'Like',\n    unlike: 'Unlike',\n    // pagination\n    perPage: 'Comentários por página',\n    sort: 'Clique para alterar a ordenação',\n    page: 'Página',\n    prev: 'Página Anterior',\n    next: 'Próxima Página',\n    // hint\n    comments: 'Comentários | {count} Comentário | {count} Comentários',\n    loginToComment: 'Entre com uma conta {platform} para deixar um comentário',\n    placeholder: 'Deixe um comentário. Estilos com Markdown suportados. Ctrl + Enter para enviar.',\n    noLoginPlaceHolder: 'Entre para deixar um comentário. Estilos com Markdown suportados. ',\n    // status\n    failed: 'Falha ao carregar comentários',\n    initializing: 'Inicializando...',\n    issueNotCreated: 'Click to create issue',\n    loadingComments: 'Carregando comentários...',\n    loginRequired: 'Entrar para visualizar comentários',\n    noComments: 'Nenhum comentário. Deixe o primeiro comentário!',\n    // alerts\n    reactionGiven: `Já reagiu com '{reaction}'`,\n    deleteConfirm: 'Apagar este comentário?',\n    deleteFailed: 'Falha ao apagar comentário',\n};\n\nconst messages$3 = {\n    // auth\n    login: '{platform} でログイン',\n    logout: 'ログアウト',\n    currentUser: '現在のユーザー',\n    // comment input\n    loading: '読み込み中',\n    submit: '送信',\n    submitting: '送信中',\n    submitComment: 'コメントを送信',\n    cancel: 'キャンセル',\n    edit: '編集',\n    editMode: '編集モード',\n    delete: '削除',\n    reply: '返信',\n    // reactions\n    heart: 'ハート',\n    like: '高評価',\n    unlike: '低評価',\n    // pagination\n    perPage: 'コメント/ページ',\n    sort: '並び順を変更するにはクリックしてください',\n    page: 'ページ',\n    prev: '前のページ',\n    next: '次のページ',\n    // hint\n    comments: 'コメント | {count} コメント | {count} コメント',\n    loginToComment: 'コメントを残すには {platform} アカウントでログインしてください。',\n    placeholder: 'コメントを残してください。Markdown 記法をサポートしています。 Ctrl + Enter で送信できます。',\n    noLoginPlaceHolder: 'コメントを残すにはログインしてください。マークダウン記法をサポートしています。',\n    // status\n    failed: 'コメントの読み込みに失敗しました',\n    initializing: '初期化中...',\n    issueNotCreated: 'Click to create issue',\n    loadingComments: 'コメントの読み込み中...',\n    loginRequired: 'コメントを見るにはログインしてください',\n    noComments: 'まだコメントがありません。最初のコメントを残しましょう！',\n    // alerts\n    reactionGiven: `既に '{reaction}' のリアクションをしています`,\n    deleteConfirm: '本当にコメントを削除してもいいですか？',\n    deleteFailed: 'コメントの削除に失敗しました',\n};\n\nconst messages$4 = {\n    // auth\n    login: 'התחברו עם {platform}',\n    logout: 'התנתקו',\n    currentUser: 'משתמש/ת נוכחי/ת',\n    // comment input\n    loading: 'טוען',\n    submit: 'שליחה',\n    submitting: 'שולח',\n    submitComment: 'שליחת תגובה',\n    cancel: 'ביטל',\n    edit: 'עריכה',\n    editMode: 'מצב עריכה',\n    delete: 'מחיקה',\n    reply: 'תשובה',\n    // reactions\n    heart: 'לב',\n    like: 'לייק',\n    unlike: 'אנלייק',\n    // pagination\n    perPage: 'תגובות לדף',\n    sort: 'לחצו כדי לשנות את כיוון המיון',\n    page: 'דף',\n    prev: 'הדף הקודם',\n    next: 'הדף הבא',\n    // hint\n    comments: 'תגובות | {count} תגובה | {count} תגובות',\n    loginToComment: 'התחברו עם חשבון {platform} כדי להשאיר תגובה',\n    placeholder: 'השאירו תגובה. יש תמיכה בעיצוב בעזרת Markdown. Ctrl + Enter כדי לשלוח.',\n    noLoginPlaceHolder: 'התחברו כדי להשאיר תגובה. יש תמיכה בעיצוב בעזרת Markdown. ',\n    // status\n    failed: 'כשלון בטעינת התגובות',\n    initializing: 'מאתחל...',\n    issueNotCreated: 'לחצו ליצירת issue',\n    loadingComments: 'טוען תגובות...',\n    loginRequired: 'התחברו כדי לצפות בתגובות',\n    noComments: 'עדיין אין תגובות. השאירו תגובה ראשונה !',\n    // alerts\n    reactionGiven: `כבר ניתן חיווי '{reaction}'`,\n    deleteConfirm: 'בטוחים במחיקת התגובה ?',\n    deleteFailed: 'כשלון במחיקת התגובה',\n};\n\nif (!Object.prototype.hasOwnProperty.call(Vue, '$i18n')) {\n    Vue.use(VueI18n);\n}\nconst i18n = new VueI18n({\n    locale: 'en',\n    fallbackLocale: 'en',\n    messages: {\n        en: messages,\n        'en-US': messages,\n        zh: messages$1,\n        'zh-CN': messages$1,\n        pt: messages$2,\n        'pt-BR': messages$2,\n        ja: messages$3,\n        'ja-JP': messages$3,\n        he: messages$4,\n        'he-IL': messages$4,\n    },\n});\n\nlet VssueStore = class VssueStore extends Vue$1 {\n    constructor() {\n        super(...arguments);\n        this.title = options => `${options.prefix}${document.title}`;\n        this.issueId = null;\n        this.options = null;\n        this.API = null;\n        this.accessToken = null;\n        this.user = null;\n        this.issue = null;\n        this.comments = null;\n        this.query = {\n            page: 1,\n            perPage: 10,\n            sort: 'desc',\n        };\n        this.isInitializing = true;\n        this.isIssueNotCreated = false;\n        this.isLoginRequired = false;\n        this.isFailed = false;\n        this.isCreatingIssue = false;\n        this.isLoadingComments = false;\n        this.isCreatingComment = false;\n        this.isUpdatingComment = false;\n    }\n    get version() {\n        return \"1.4.8\";\n    }\n    get issueTitle() {\n        if (this.options === null) {\n            return '';\n        }\n        return typeof this.title === 'function'\n            ? this.title(this.options)\n            : `${this.options.prefix}${this.title}`;\n    }\n    get isPending() {\n        return (this.isLoadingComments || this.isCreatingComment || this.isUpdatingComment);\n    }\n    get isLogined() {\n        return this.accessToken !== null && this.user !== null;\n    }\n    get isAdmin() {\n        return (this.options !== null &&\n            this.accessToken !== null &&\n            this.user !== null &&\n            (this.user.username === this.options.owner ||\n                this.options.admins.includes(this.user.username)));\n    }\n    /**\n     * the key of access token for local storage\n     */\n    get accessTokenKey() {\n        return this.API\n            ? `Vssue.${this.API.platform.name.toLowerCase()}.access_token`\n            : '';\n    }\n    onQueryPerPageChange() {\n        this.query.page = 1;\n        this.getComments();\n    }\n    onQueryChange() {\n        this.getComments();\n    }\n    /**\n     * Set options of Vssue\n     */\n    setOptions(options) {\n        this.options = Object.assign({\n            labels: ['Vssue'],\n            state: 'Vssue',\n            prefix: '[Vssue]',\n            admins: [],\n            perPage: 10,\n            proxy: (url) => `https://cors-anywhere.azm.workers.dev/${url}`,\n            issueContent: ({ url }) => url,\n            autoCreateIssue: false,\n        }, options);\n        // check options\n        const requiredOptions = ['api', 'owner', 'repo', 'clientId'];\n        for (const opt of requiredOptions) {\n            if (!this.options[opt]) {\n                console.warn(`[Vssue] the option '${opt}' is required`);\n            }\n        }\n        // set locale\n        if (this.options.locale) {\n            this.$i18n.locale = this.options.locale;\n        }\n        else {\n            const locales = Object.keys(this.$i18n.messages);\n            const navLangs = window.navigator.languages;\n            this.$i18n.locale =\n                navLangs.filter(item => locales.includes(item)).shift() || 'en';\n        }\n    }\n    /**\n     * Initialization\n     */\n    async init() {\n        try {\n            // init VssueStore\n            await this.initStore();\n            // init comments\n            await this.initComments();\n        }\n        catch (e) {\n            if (e.response && [401, 403].includes(e.response.status)) {\n                // in some cases, require login to load comments\n                this.isLoginRequired = true;\n            }\n            else {\n                this.isFailed = true;\n            }\n            console.error(e);\n        }\n    }\n    /**\n     * Init VssueStore\n     */\n    async initStore() {\n        try {\n            if (!this.options)\n                throw new Error('Options are required to initialize Vssue');\n            // reset data\n            this.API = null;\n            this.accessToken = null;\n            this.user = null;\n            this.issue = null;\n            this.comments = null;\n            this.query = {\n                page: 1,\n                perPage: this.options.perPage,\n                sort: 'desc',\n            };\n            // reset status\n            this.isInitializing = true;\n            this.isIssueNotCreated = false;\n            this.isLoginRequired = false;\n            this.isFailed = false;\n            this.isCreatingIssue = false;\n            this.isLoadingComments = false;\n            this.isCreatingComment = false;\n            this.isUpdatingComment = false;\n            // get the VssueAPI instance according to the options.api\n            const APIConstructor = this.options.api;\n            this.API = new APIConstructor({\n                baseURL: this.options.baseURL,\n                labels: this.options.labels,\n                state: this.options.state,\n                owner: this.options.owner,\n                repo: this.options.repo,\n                clientId: this.options.clientId,\n                clientSecret: this.options.clientSecret,\n                proxy: this.options.proxy,\n            });\n            // handle authorization\n            await this.handleAuth();\n        }\n        finally {\n            this.isInitializing = false;\n        }\n    }\n    /**\n     * Init comments\n     */\n    async initComments() {\n        if (!this.API || !this.options)\n            return;\n        if (this.issueId) {\n            // if issueId is set, get the issue and comments in the mean time\n            // notice that vssue will not try to create the issue is not found\n            const [issue, comments] = await Promise.all([\n                this.API.getIssue({\n                    accessToken: this.accessToken,\n                    issueId: this.issueId,\n                }),\n                this.API.getComments({\n                    accessToken: this.accessToken,\n                    issueId: this.issueId,\n                    query: this.query,\n                }),\n            ]);\n            this.issue = issue;\n            this.comments = comments;\n        }\n        else {\n            // get issue according to title\n            this.issue = await this.API.getIssue({\n                accessToken: this.accessToken,\n                issueTitle: this.issueTitle,\n            });\n            if (this.issue === null) {\n                // if the issue of this page does not exist\n                this.isIssueNotCreated = true;\n                // try to create issue when `autoCreateIssue = true`\n                if (this.options.autoCreateIssue) {\n                    await this.postIssue();\n                }\n            }\n            else {\n                // try to load comments\n                await this.getComments();\n            }\n        }\n    }\n    /**\n     * Post a new issue\n     */\n    async postIssue() {\n        if (!this.API || !this.options || this.issue || this.issueId)\n            return;\n        // login to create issue\n        if (!this.isLogined) {\n            this.login();\n        }\n        // only owner/admins can create issue\n        if (!this.isAdmin)\n            return;\n        try {\n            this.isCreatingIssue = true;\n            const issue = await this.API.postIssue({\n                title: this.issueTitle,\n                content: await this.options.issueContent({\n                    options: this.options,\n                    url: getCleanURL(window.location.href),\n                }),\n                accessToken: this.accessToken,\n            });\n            this.issue = issue;\n            this.isIssueNotCreated = false;\n            await this.getComments();\n        }\n        catch (e) {\n            this.isFailed = true;\n        }\n        finally {\n            this.isCreatingIssue = false;\n        }\n    }\n    /**\n     * Get comments of this vssue according to the issue id\n     */\n    async getComments() {\n        try {\n            if (!this.API || !this.issue || this.isLoadingComments)\n                return;\n            this.isLoadingComments = true;\n            const comments = await this.API.getComments({\n                accessToken: this.accessToken,\n                issueId: this.issue.id,\n                query: this.query,\n            });\n            this.comments = comments;\n            if (this.query.page !== comments.page) {\n                this.query.page = comments.page;\n            }\n            if (this.query.perPage !== comments.perPage) {\n                this.query.perPage = comments.perPage;\n            }\n            return comments;\n        }\n        catch (e) {\n            if (e.response &&\n                [401, 403].includes(e.response.status) &&\n                !this.isLogined) {\n                this.isLoginRequired = true;\n            }\n            else {\n                this.$emit('error', e);\n                throw e;\n            }\n        }\n        finally {\n            this.isLoadingComments = false;\n        }\n    }\n    /**\n     * Post a new comment\n     */\n    async postComment({ content, }) {\n        try {\n            if (!this.API || !this.issue || this.isCreatingComment)\n                return;\n            this.isCreatingComment = true;\n            const comment = await this.API.postComment({\n                accessToken: this.accessToken,\n                content,\n                issueId: this.issue.id,\n            });\n            return comment;\n        }\n        catch (e) {\n            this.$emit('error', e);\n            throw e;\n        }\n        finally {\n            this.isCreatingComment = false;\n        }\n    }\n    /**\n     * Edit a comment\n     */\n    async putComment({ commentId, content, }) {\n        try {\n            if (!this.API || !this.issue)\n                return;\n            const comment = await this.API.putComment({\n                accessToken: this.accessToken,\n                issueId: this.issue.id,\n                commentId,\n                content,\n            });\n            return comment;\n        }\n        catch (e) {\n            this.$emit('error', e);\n            throw e;\n        }\n    }\n    /**\n     * Delete a new comment\n     */\n    async deleteComment({ commentId, }) {\n        try {\n            if (!this.API || !this.issue)\n                return;\n            const success = await this.API.deleteComment({\n                accessToken: this.accessToken,\n                issueId: this.issue.id,\n                commentId,\n            });\n            return success;\n        }\n        catch (e) {\n            this.$emit('error', e);\n            throw e;\n        }\n    }\n    /**\n     * Get reactions of a comment\n     */\n    async getCommentReactions({ commentId, }) {\n        try {\n            if (!this.API || !this.issue)\n                return;\n            const reactions = await this.API.getCommentReactions({\n                accessToken: this.accessToken,\n                issueId: this.issue.id,\n                commentId,\n            });\n            return reactions;\n        }\n        catch (e) {\n            this.$emit('error', e);\n            throw e;\n        }\n    }\n    /**\n     * Create a new reaction to a certain comment\n     */\n    async postCommentReaction({ commentId, reaction, }) {\n        try {\n            if (!this.API || !this.issue)\n                return false;\n            const success = await this.API.postCommentReaction({\n                accessToken: this.accessToken,\n                issueId: this.issue.id,\n                commentId,\n                reaction,\n            });\n            return success;\n        }\n        catch (e) {\n            this.$emit('error', e);\n            throw e;\n        }\n    }\n    /**\n     * Redirect to the platform's authorization page\n     */\n    login() {\n        if (!this.API)\n            return;\n        this.API.redirectAuth();\n    }\n    /**\n     * Clean the access token stored in local storage\n     */\n    logout() {\n        this.setAccessToken(null);\n        this.user = null;\n    }\n    /**\n     * Handle authorization and set access_token\n     */\n    async handleAuth() {\n        if (!this.API)\n            return;\n        // handle authorize and try to get the access_token\n        const accessToken = await this.API.handleAuth();\n        if (accessToken) {\n            // new access_token\n            this.setAccessToken(accessToken);\n            this.user = await this.API.getUser({ accessToken });\n        }\n        else if (this.getAccessToken()) {\n            // have access_token in localstorage\n            this.user = await this.API.getUser({ accessToken: this.accessToken });\n        }\n        else {\n            // no access_token\n            this.setAccessToken(null);\n            this.user = null;\n        }\n    }\n    /**\n     * Get access token from local storage\n     */\n    getAccessToken() {\n        this.accessToken = window.localStorage.getItem(this.accessTokenKey);\n        return this.accessToken;\n    }\n    /**\n     * Save access token to local storage\n     */\n    setAccessToken(token) {\n        if (token === null) {\n            window.localStorage.removeItem(this.accessTokenKey);\n        }\n        else {\n            window.localStorage.setItem(this.accessTokenKey, token);\n        }\n        this.accessToken = token;\n    }\n};\n__decorate([\n    Watch('query.perPage')\n], VssueStore.prototype, \"onQueryPerPageChange\", null);\n__decorate([\n    Watch('query.page'),\n    Watch('query.sort')\n], VssueStore.prototype, \"onQueryChange\", null);\nVssueStore = __decorate([\n    Component({ i18n })\n], VssueStore);\nvar VssueStore$1 = VssueStore;\n\nlet Vssue = class Vssue extends Vue$1 {\n    constructor() {\n        super(...arguments);\n        /**\n         * Provide the VssueStore for the child components\n         */\n        this.vssue = new VssueStore$1();\n    }\n    /**\n     * Set options of Vssue if `options` prop is changed\n     */\n    onOptionsChange(options) {\n        this.vssue.setOptions(options);\n    }\n    /**\n     * mounted hook\n     */\n    mounted() {\n        // set issue title and issue id\n        if (this.title !== null) {\n            this.vssue.title = this.title;\n        }\n        if (this.issueId !== null) {\n            this.vssue.issueId = this.issueId;\n        }\n        // set options\n        this.vssue.setOptions(this.options);\n        // init vssue\n        this.vssue.init();\n    }\n};\n__decorate([\n    Prop({\n        type: [String, Function],\n        required: false,\n        default: null,\n    })\n], Vssue.prototype, \"title\", void 0);\n__decorate([\n    Prop({\n        type: [String, Number],\n        required: false,\n        default: null,\n    })\n], Vssue.prototype, \"issueId\", void 0);\n__decorate([\n    Prop({\n        type: Object,\n        required: false,\n        default: () => ({}),\n    })\n], Vssue.prototype, \"options\", void 0);\n__decorate([\n    Provide('vssue')\n], Vssue.prototype, \"vssue\", void 0);\n__decorate([\n    Watch('options', { deep: true })\n], Vssue.prototype, \"onOptionsChange\", null);\nVssue = __decorate([\n    Component({\n        components: {\n            Iconfont: __vue_component__,\n            VssueBody: __vue_component__$a,\n            VssueHeader: __vue_component__$b,\n        },\n    })\n], Vssue);\nvar script$c = Vssue;\n\n/* script */\nconst __vue_script__$c = script$c;\n\n/* template */\nvar __vue_render__$9 = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vssue\"},[_c('Iconfont'),_vm._v(\" \"),_c('VssueHeader'),_vm._v(\" \"),_c('VssueBody')],1)};\nvar __vue_staticRenderFns__$9 = [];\n\n  /* style */\n  const __vue_inject_styles__$c = undefined;\n  /* scoped */\n  const __vue_scope_id__$c = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$c = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$c = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__$c = normalizeComponent(\n    { render: __vue_render__$9, staticRenderFns: __vue_staticRenderFns__$9 },\n    __vue_inject_styles__$c,\n    __vue_script__$c,\n    __vue_scope_id__$c,\n    __vue_is_functional_template__$c,\n    __vue_module_identifier__$c,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\nconst VssuePlugin = {\n    get version() {\n        return \"1.4.8\";\n    },\n    installed: false,\n    install(Vue, options) {\n        if (this.installed) {\n            return false;\n        }\n        this.installed = true;\n        Vue.component('Vssue', {\n            functional: true,\n            props: {\n                title: {\n                    type: String,\n                    required: false,\n                    default: undefined,\n                },\n                issueId: {\n                    type: [Number, String],\n                    required: false,\n                    default: undefined,\n                },\n                options: {\n                    type: Object,\n                    required: false,\n                    default: undefined,\n                },\n            },\n            render(h, { data, props }) {\n                return h(__vue_component__$c, Object.assign(Object.assign({}, data), { props: {\n                        title: props.title,\n                        issueId: props.issueId,\n                        options: Object.assign({}, options, props.options),\n                    } }));\n            },\n        });\n    },\n    VssueComponent: __vue_component__$c,\n};\n\nexport default VssuePlugin;\nexport { __vue_component__$c as VssueComponent };\n"],"mappings":"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"}]}