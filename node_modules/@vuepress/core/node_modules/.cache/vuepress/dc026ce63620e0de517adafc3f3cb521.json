{"remainingRequest":"/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/vssue/dist/vssue.js","dependencies":[{"path":"/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/vssue/dist/vssue.js","mtime":1661659638736},{"path":"/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/cache-loader/dist/cjs.js","mtime":1661658709451},{"path":"/Users/mengyu/vuepress-starter/vuepress-starter/node_modules/babel-loader/lib/index.js","mtime":1661658709446}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC50by1zdHJpbmctdGFnLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwoKLyohCiAqIHZzc3VlIC0gQSB2dWUtcG93ZXJlZCBpc3N1ZS1iYXNlZCBjb21tZW50IHBsdWdpbgogKgogKiBAdmVyc2lvbiB2MS40LjgKICogQGxpbmsgaHR0cHM6Ly92c3N1ZS5qcy5vcmcKICogQGxpY2Vuc2UgTUlUCiAqIEBjb3B5cmlnaHQgMjAxOC0yMDIxIG1ldGVvcmx4eQogKi8KaW1wb3J0IHsgUHJvcCwgSW5qZWN0LCBDb21wb25lbnQsIFZ1ZSBhcyBWdWUkMSwgV2F0Y2gsIFByb3ZpZGUgfSBmcm9tICd2dWUtcHJvcGVydHktZGVjb3JhdG9yJzsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgeyBmb3JtYXREYXRlVGltZSwgZ2V0Q2xlYW5VUkwgfSBmcm9tICdAdnNzdWUvdXRpbHMnOwppbXBvcnQgVnVlSTE4biBmcm9tICd2dWUtaTE4bic7Ci8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKg0KQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuDQpMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsgeW91IG1heSBub3QgdXNlDQp0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZQ0KTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjANCg0KVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWQ0KS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRA0KV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSwNCk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuDQoNClNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucw0KYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLg0KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KCmZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHsKICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsCiAgICAgIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLAogICAgICBkOwogIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gIm9iamVjdCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09ICJmdW5jdGlvbiIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByOwogIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7Cn0KCnZhciBzY3JpcHQgPSBWdWUuZXh0ZW5kKHsKICBuYW1lOiAnSWNvbmZvbnQnCn0pOwoKZnVuY3Rpb24gbm9ybWFsaXplQ29tcG9uZW50KHRlbXBsYXRlLCBzdHlsZSwgc2NyaXB0LCBzY29wZUlkLCBpc0Z1bmN0aW9uYWxUZW1wbGF0ZSwgbW9kdWxlSWRlbnRpZmllcgovKiBzZXJ2ZXIgb25seSAqLwosIHNoYWRvd01vZGUsIGNyZWF0ZUluamVjdG9yLCBjcmVhdGVJbmplY3RvclNTUiwgY3JlYXRlSW5qZWN0b3JTaGFkb3cpIHsKICBpZiAodHlwZW9mIHNoYWRvd01vZGUgIT09ICdib29sZWFuJykgewogICAgY3JlYXRlSW5qZWN0b3JTU1IgPSBjcmVhdGVJbmplY3RvcjsKICAgIGNyZWF0ZUluamVjdG9yID0gc2hhZG93TW9kZTsKICAgIHNoYWRvd01vZGUgPSBmYWxzZTsKICB9IC8vIFZ1ZS5leHRlbmQgY29uc3RydWN0b3IgZXhwb3J0IGludGVyb3AuCgoKICBjb25zdCBvcHRpb25zID0gdHlwZW9mIHNjcmlwdCA9PT0gJ2Z1bmN0aW9uJyA/IHNjcmlwdC5vcHRpb25zIDogc2NyaXB0OyAvLyByZW5kZXIgZnVuY3Rpb25zCgogIGlmICh0ZW1wbGF0ZSAmJiB0ZW1wbGF0ZS5yZW5kZXIpIHsKICAgIG9wdGlvbnMucmVuZGVyID0gdGVtcGxhdGUucmVuZGVyOwogICAgb3B0aW9ucy5zdGF0aWNSZW5kZXJGbnMgPSB0ZW1wbGF0ZS5zdGF0aWNSZW5kZXJGbnM7CiAgICBvcHRpb25zLl9jb21waWxlZCA9IHRydWU7IC8vIGZ1bmN0aW9uYWwgdGVtcGxhdGUKCiAgICBpZiAoaXNGdW5jdGlvbmFsVGVtcGxhdGUpIHsKICAgICAgb3B0aW9ucy5mdW5jdGlvbmFsID0gdHJ1ZTsKICAgIH0KICB9IC8vIHNjb3BlZElkCgoKICBpZiAoc2NvcGVJZCkgewogICAgb3B0aW9ucy5fc2NvcGVJZCA9IHNjb3BlSWQ7CiAgfQoKICBsZXQgaG9vazsKCiAgaWYgKG1vZHVsZUlkZW50aWZpZXIpIHsKICAgIC8vIHNlcnZlciBidWlsZAogICAgaG9vayA9IGZ1bmN0aW9uIChjb250ZXh0KSB7CiAgICAgIC8vIDIuMyBpbmplY3Rpb24KICAgICAgY29udGV4dCA9IGNvbnRleHQgfHwgLy8gY2FjaGVkIGNhbGwKICAgICAgdGhpcy4kdm5vZGUgJiYgdGhpcy4kdm5vZGUuc3NyQ29udGV4dCB8fCAvLyBzdGF0ZWZ1bAogICAgICB0aGlzLnBhcmVudCAmJiB0aGlzLnBhcmVudC4kdm5vZGUgJiYgdGhpcy5wYXJlbnQuJHZub2RlLnNzckNvbnRleHQ7IC8vIGZ1bmN0aW9uYWwKICAgICAgLy8gMi4yIHdpdGggcnVuSW5OZXdDb250ZXh0OiB0cnVlCgogICAgICBpZiAoIWNvbnRleHQgJiYgdHlwZW9mIF9fVlVFX1NTUl9DT05URVhUX18gIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgY29udGV4dCA9IF9fVlVFX1NTUl9DT05URVhUX187CiAgICAgIH0gLy8gaW5qZWN0IGNvbXBvbmVudCBzdHlsZXMKCgogICAgICBpZiAoc3R5bGUpIHsKICAgICAgICBzdHlsZS5jYWxsKHRoaXMsIGNyZWF0ZUluamVjdG9yU1NSKGNvbnRleHQpKTsKICAgICAgfSAvLyByZWdpc3RlciBjb21wb25lbnQgbW9kdWxlIGlkZW50aWZpZXIgZm9yIGFzeW5jIGNodW5rIGluZmVyZW5jZQoKCiAgICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuX3JlZ2lzdGVyZWRDb21wb25lbnRzKSB7CiAgICAgICAgY29udGV4dC5fcmVnaXN0ZXJlZENvbXBvbmVudHMuYWRkKG1vZHVsZUlkZW50aWZpZXIpOwogICAgICB9CiAgICB9OyAvLyB1c2VkIGJ5IHNzciBpbiBjYXNlIGNvbXBvbmVudCBpcyBjYWNoZWQgYW5kIGJlZm9yZUNyZWF0ZQogICAgLy8gbmV2ZXIgZ2V0cyBjYWxsZWQKCgogICAgb3B0aW9ucy5fc3NyUmVnaXN0ZXIgPSBob29rOwogIH0gZWxzZSBpZiAoc3R5bGUpIHsKICAgIGhvb2sgPSBzaGFkb3dNb2RlID8gZnVuY3Rpb24gKGNvbnRleHQpIHsKICAgICAgc3R5bGUuY2FsbCh0aGlzLCBjcmVhdGVJbmplY3RvclNoYWRvdyhjb250ZXh0LCB0aGlzLiRyb290LiRvcHRpb25zLnNoYWRvd1Jvb3QpKTsKICAgIH0gOiBmdW5jdGlvbiAoY29udGV4dCkgewogICAgICBzdHlsZS5jYWxsKHRoaXMsIGNyZWF0ZUluamVjdG9yKGNvbnRleHQpKTsKICAgIH07CiAgfQoKICBpZiAoaG9vaykgewogICAgaWYgKG9wdGlvbnMuZnVuY3Rpb25hbCkgewogICAgICAvLyByZWdpc3RlciBmb3IgZnVuY3Rpb25hbCBjb21wb25lbnQgaW4gdnVlIGZpbGUKICAgICAgY29uc3Qgb3JpZ2luYWxSZW5kZXIgPSBvcHRpb25zLnJlbmRlcjsKCiAgICAgIG9wdGlvbnMucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyV2l0aFN0eWxlSW5qZWN0aW9uKGgsIGNvbnRleHQpIHsKICAgICAgICBob29rLmNhbGwoY29udGV4dCk7CiAgICAgICAgcmV0dXJuIG9yaWdpbmFsUmVuZGVyKGgsIGNvbnRleHQpOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgLy8gaW5qZWN0IGNvbXBvbmVudCByZWdpc3RyYXRpb24gYXMgYmVmb3JlQ3JlYXRlIGhvb2sKICAgICAgY29uc3QgZXhpc3RpbmcgPSBvcHRpb25zLmJlZm9yZUNyZWF0ZTsKICAgICAgb3B0aW9ucy5iZWZvcmVDcmVhdGUgPSBleGlzdGluZyA/IFtdLmNvbmNhdChleGlzdGluZywgaG9vaykgOiBbaG9va107CiAgICB9CiAgfQoKICByZXR1cm4gc2NyaXB0Owp9Cgpjb25zdCBpc09sZElFID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL21zaWUgWzYtOV1cXGIvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTsKLyogc2NyaXB0ICovCgpjb25zdCBfX3Z1ZV9zY3JpcHRfXyA9IHNjcmlwdDsKLyogdGVtcGxhdGUgKi8KCnZhciBfX3Z1ZV9yZW5kZXJfXyA9IGZ1bmN0aW9uIChfaCwgX3ZtKSB7CiAgdmFyIF9jID0gX3ZtLl9jOwogIHJldHVybiBfYygnc3ZnJywgewogICAgZGlyZWN0aXZlczogW3sKICAgICAgbmFtZTogInNob3ciLAogICAgICByYXdOYW1lOiAidi1zaG93IiwKICAgICAgdmFsdWU6IGZhbHNlLAogICAgICBleHByZXNzaW9uOiAiZmFsc2UiCiAgICB9XQogIH0sIFtfYygnc3ltYm9sJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogInZzc3VlLWljb24tYml0YnVja2V0IiwKICAgICAgInZpZXdCb3giOiAiMCAwIDEwMjQgMTAyNCIKICAgIH0KICB9LCBbX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNNTc5LjU1MjI0NjQgNDg5LjQ1MjQ5NDkzcTQuODM3MTgwOCAzOC4zODUzNzE3My0zMC44MTc1MjQyNyA2MS41NTcwMjgyN3QtNjcuOTU0NTkwOTMgMy42NjY4OTQ5M3EtMjMuNzk1ODA5MDctMTAuMzc2NTMzMzMtMzIuNjExOTYxNi0zNS4zNDI2MjgyNnQtMC4zMTIwNzU3My01MC4wMTAyMDkwNyAzMS42NzU3MzMzMy0zNS4zNDI2MjgyN3EyMS45MjMzNTI1My0xMS4wMDA2ODU4NyA0NC4xNTg3ODA4LTcuMzMzNzkwOTN0MzkuMDA5NTI0MjcgMjEuNjExMjc1NzMgMTYuNzc0MDk0OTMgNDEuMTE2MDM4NHpNNjQ3LjE5NDc2MDUzIDQ3Ni42NTczNzE3M3EtOC41MDQwNzU3My02NS4yMjM5MjQyNy02OC44OTA4MTkyLTk5Ljk0MjR0LTEyMC4wNzEzMTQxMy03Ljk1Nzk0MjRxLTM4LjM4NTM3MTczIDE3LjA4NjE3MTczLTYxLjI0NDk1MjUzIDUzLjkxMTE2MTZ0LTIxLjA2NTE0MjQgNzguOTU1Mjc1NzRxMi40MTg1OTA5MyA1NS40NzE1NDI0IDQ3LjIwMTUyNDI2IDk0LjQ4MTA2NjY2dDEwMC44Nzg2MjgyNyAzNC4xNzIzNDI0cTU1LjQ3MTU0MjQtNC44MzcxODA4IDkyLjYwODYwOTA3LTUxLjE4MDQ5NDkzdDMwLjUwNTQ0NzQ2LTEwMi40MzkwMDkwN3pNNzkyLjkzNDM0MTMzIDE0Ni4zMjQ3MjQyN3EtMTIuMTcwOTcxNzMtMTYuNDYyMDE5Mi0zNC4xNzIzNDI0LTI3LjE1MDYyODI3dC0zNS4zNDI2MjgyNi0xMy40MTkyNzU3My00My4zMDA1NzE3NC03LjY0NTg2NjY3cS0xNzcuMzM3Mjk0OTMtMjguNjMyOTkwOTMtMzQ1LjAwMDIyODI2IDEuMjQ4MzA1MDctMjYuMjE0NCA0LjI5MTA0NzQ3LTQwLjI1NzgyODI3IDcuMzMzNzkwOTN0LTMzLjU0ODE5MDkzIDEzLjQxOTI3NTczLTMwLjUwNTQ0NzQ3IDI2LjIxNDRxMTguMjU2NDU3NiAxNy4wODYxNzE3MyA0Ni4zNDMzMTQxMyAyNy42OTY3NjE2dDQ0Ljc4MjkzMzM0IDEzLjQxOTI3NTc0IDUzLjM2NTAyODI2IDcuMDIxNzE0MTNxMTM4Ljk1MTkyNDI3IDE3LjcxMDMyNDI3IDI3My4wNjY2NjY2NyAwLjYyNDE1MjUzIDM4LjM4NTM3MTczLTQuODM3MTgwOCA1NC41MzUzMTQxMy03LjMzMzc5MDkzdDQ0LjE1ODc4MDgtMTMuMTA3MiA0NS43MTkxNjE2LTI4LjMyMDkxNDEzek04MjcuNjUyODE4MTMgNzc3LjEwODcyNDI3cS00LjgzNzE4MDggMTUuODM3ODY2NjctOS40NDAzMDUwNiA0Ni42NTUzOTA5M3QtOC41MDQwNzU3NCA1MS4xODA0OTQ5My0xNy4zOTgyNDc0NiA0Mi42NzY0MTkyLTM1LjM0MjYyODI3IDM0LjQwNjRxLTUyLjQyODggMjkuMjU3MTQyNC0xMTUuNDY4MTkwOTMgNDMuNjEyNjQ3NDd0LTEyMy4xMTQwNTc2IDEzLjQxOTI3NTczLTEyMi44MDE5ODA4LTExLjMxMjc2MTZxLTI4LjAwODgzODQtNC44MzcxODA4LTQ5LjY5ODEzMzM0LTExLjAwMDY4NTg2dC00Ni42NTUzOTA5My0xNi40NjIwMTkyLTQ0LjQ3MDg1NzYtMjYuNTI2NDc1NzQtMzEuNjc1NzMzMzMtMzcuNDQ5MTQyNHEtMTUuMjEzNzE0MTMtNTguNTE0Mjg1ODctMzQuNzE4NDc1NzQtMTc3Ljk2MTQ0NzQ2bDMuNjY2ODk0OTQtOS43NTIzODA4IDExLjAwMDY4NTg2LTUuNDYxMzMzMzRxMTM1LjkwOTE4MDggOTAuMTkwMDE5MiAzMDguNzIxMzcxNzQgOTAuMTkwMDE5MnQzMDkuMzQ1NTI0MjYtOTAuMTkwMDE5MnExMi43OTUxMjQyNyAzLjY2Njg5NDkzIDE0LjU4OTU2MTYgMTQuMDQzNDI4Mjd0LTMuMDQyNzQyNCAyNy40NjI3MDUwNy00LjgzNzE4MDggMjIuNTQ3NTA1MDZ6TTkzNy45NzE3NTE0NyAxOTEuNDE5NzMzMzNxLTE1LjgzNzg2NjY3IDEwMS44MTQ4NTc2LTY3LjY0MjUxNDE0IDM5OS4yMjM0NjY2Ny0zLjA0Mjc0MjQgMTguMjU2NDU3Ni0xNi40NjIwMTkyIDM0LjE3MjM0MjR0LTI2LjUyNjQ3NTczIDI0LjM0MTk0MjQtMzMuMjM2MTE0MTMgMTguODgwNjA5MDdxLTE1My42MTk1MDUwNyA3Ni43NzA3NDI0LTM3MS44Mzg3ODA4IDUzLjY3NzEwNTA2LTE1MS4xMjI4OTQ5My0xNi40NjIwMTkyLTI0MC4xNDI2MjgyNy04NC43Mjg2ODU4Ni05LjEyODIyODI3LTcuMzMzNzkwOTMtMTUuNTI1NzkwOTMtMTYuMTQ5OTQyNHQtMTAuMzc2NTMzMzQtMjEuMjk5Mi01LjQ2MTMzMzMzLTIwLjc1MzA2NjY3LTMuNjY2ODk0OTMtMjQuMTA3ODg1ODctMy4zNTQ4MTkyLTIxLjI5OTJxLTUuNDYxMzMzMzMtMzAuNTA1NDQ3NDctMTYuMTQ5OTQyNC05MS40MzgzMjQyNnQtMTcuMDg2MTcxNzQtOTguNDYwMDM4NC0xNC4zNTU1MDUwNi04OS44Nzc5NDI0LTEzLjQxOTI3NTc0LTk2LjI3NTUwNTA3cTEuNzk0NDM4NC0xNS44Mzc4NjY2NyAxMC42ODg2MDkwNy0yOS41NjkyMTkydDE5LjE5MjY4NTg3LTIyLjg1OTU4MDggMjcuNDYyNzA1MDYtMTguMjU2NDU3NiAyOC4wMDg4Mzg0LTEzLjczMTM1MjUzIDI5LjI1NzE0MjQtMTEuMzEyNzYxNnE3Ni4yMjQ2MDkwNy0yOC4wMDg4Mzg0IDE5MC43NTY1NzE3NC0zOS4wMDk1MjQyNyAyMzEuMDE0NC0yMi41NDc1MDUwNyA0MTIuMDE4NTkwOTMgMzAuNTA1NDQ3NDcgOTQuNDgxMDY2NjcgMjguMDA4ODM4NCAxMzEuMDcyIDc0LjM1MjE1MjUzIDkuNzUyMzgwOCAxMi4xNzA5NzE3MyAxMC4wNjQ0NTc2IDMxLjA1MTU4MDh0LTMuMzU0ODE5MiAzMi45MjQwMzg0eiIKICAgIH0KICB9KV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3N5bWJvbCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICJ2c3N1ZS1pY29uLWdpdGVhIiwKICAgICAgInZpZXdCb3giOiAiMCAwIDEwMjQgMTAyNCIKICAgIH0KICB9LCBbX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNMTg0LjMxODY4OTg1IDIzNi4xMDg2MDc0MkMxMDYuOTQ4MzI2NjcgMjM1Ljk0MDg2NjQ4IDMuMzI2NTU1MDggMjg1LjEzMDgwNDY4IDkuMDI5NzM2NjUgNDA4LjQ2MjA5OTM2YzguOTMyMTg4MjcgMTkyLjY1MDEwNzg3IDIwNi4zMjA5Njg0NSAyMTAuNTE0NDg0NCAyODUuMjAwOTk3MjUgMjEyLjA2NjA4NDUzIDguNjM4NjQxODYgMzYuMTQ4MTA0OTYgMTAxLjQ4MzA3NzY2IDE2MC43NzkzODg4MyAxNzAuMjE0Nzk4OTggMTY3LjMyMTI3MzIxaDMwMS4wOTQ0MjE3N2MxODAuNTcyNzgyODgtMTEuOTkzNDU0OTkgMzE1Ljc3MTcyNjExLTU0Ni4wNzk2MDM1OSAyMTUuNTQ2NzAyMTctNTQ4LjA5MjQ5MTA5LTE2NS43Njk2NzIxIDcuNzk5OTM5MDYtMjY0LjAyMzc0MzA1IDExLjc0MTg0NDA1LTM0OC4yNzE0NzE1MSAxMi40MTI4MDU5MXYxNjYuNjkyMjQ1ODVsLTI2LjI1MTQwODQzLTExLjYxNjAzNzYxLTAuMTY3NzM5OTctMTU0Ljk5MjMzNzI4Yy05Ni43MDI0Njk4NS0wLjA0MTkzNTQ4LTE4MS44MzA4Mzc1Ny00LjUyODk5Njg3LTM0My40MDY5OTQ3LTEyLjQ5NjY3Njg3LTIwLjIxMjc0NDk2LTAuMTI1ODA1NDctNDguMzkzMTY5OTItMy41NjQ0ODg2LTc4LjY3MDM1MjM2LTMuNjQ4MzU4NTl6IG0xMC45NDUwNzU3NyA2OC4xNDQ2Mjg0OWg5LjIyNTczMzcxYzEwLjk4NzAxMTI0IDk4Ljc1NzI5MjgzIDI4Ljg1MTM4Nzc4IDE1Ni41MDIwMDI5MSA2NC45OTk0OTI3NCAyNDQuNzMzNTcxODUtOTIuMjU3MzQzOTQtMTAuOTAzMTQwMjktMTcwLjc1OTk1NjM0LTM3LjY5OTcwNTA5LTE4NS4xODU2NDk3NC0xMzcuNzU2OTg4MDktNy40NjQ0NTgxMy01MS43ODk5MTc1NyAxNy42OTY2MzU1OC0xMDUuODQ0MzM0NTYgMTEwLjk2MDQyMzI5LTEwNy4wMTg1MTgyN3ogbTM1OC44MzkxMzA4NyA5Ny4wNzk4ODcyM2M2LjI5MDI3MzQzIDAuMDgzODY5OTkgMTIuNzA2MzUyMzMgMS4yNTgwNTQ2OCAxOC43NDUwMTQ4MiA0LjAyNTc3NDk5bDMxLjQwOTQzMjYzIDEzLjU0NTA1NTEzLTIyLjUxOTE3ODg3IDQxLjA1NDUxODI0YTI4LjE4MDQyNDk2IDI1LjAzNTI4ODI1IDAgMCAwLTEwLjEwNjM3Mjk3IDEuNTkzNTM1NjEgMjguMTgwNDI0OTYgMjUuMDM1Mjg4MjUgMCAwIDAtMTYuOTgzNzM4MjUgMzIuMDM4NDU5IDI4LjE4MDQyNDk2IDI1LjAzNTI4ODI1IDAgMCAwIDQuNjk2NzM3ODEgNy4yOTY3MTcxOGwtMzguODMxOTU1MjggNzAuNzAyNjczMzNhMjguMTgwNDI0OTYgMjUuMDM1Mjg4MjUgMCAwIDAtOS4zMDk2MDQ2NyAxLjU5MzUzNjU5IDI4LjE4MDQyNDk2IDI1LjAzNTI4ODI1IDAgMCAwLTE2Ljk4MzczODI1IDMyLjAzODQ1OSAyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMCAzNi4wNjQyMzQ5NyAxNS4wOTY2NTYyMyAyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMCAxNi45NDE4MDI3Ni0zMi4wODAzOTQ0OSAyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMC02LjYyNTc1NDM0LTkuMjI1NzM0NjhsMzcuODI1NTEwNTYtNjguODU3NTI1ODFhMjguMTgwNDI0OTYgMjUuMDM1Mjg4MjUgMCAwIDAgMTIuMjg3MDAwNDQtMS4yNTgwNTQ2OSAyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMCA4LjkzMjE4ODI2LTQuNjk2NzM3ODNjMTQuNTkzNDM0MzUgNi4xMjI1MzI0OCAyNi41NDQ5NTM4NiAxMS4xMTI4MTY3MSAzNS4xNDE2NjEyMiAxNS4zNDgyNjcxNyAxMi45MTYwMjc3OCA2LjM3NDE0MzQxIDE3LjQ4Njk2MDEyIDEwLjYwOTU5NDg1IDE4Ljg3MDgyMDI3IDE1LjMwNjMzMTY5IDEuMzgzODYwMTUgNC42MTI4NjY4NS0wLjEyNTgwNTQ3IDEzLjUwMzEyMDYyLTcuNDIyNTIyNjMgMjkuMTAyOTk4NzItNS40NTE1NzA2MyAxMS42MTYwMzg1OS0xNC40Njc2Mjg4OSAyOC4wOTY1NTQ5Ny0yNS4xMTkxNTgyMyA0Ny41MTI1MzE2NGEyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMC0xMC41MjU3MjQ4NiAxLjU5MzUzNjU5IDI4LjE4MDQyNDk2IDI1LjAzNTI4ODI1IDAgMCAwLTE2Ljk4MzczODI2IDMyLjAzODQ1OSAyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMCAzNi4wNjQyMzQ5OCAxNS4wOTY2NTYyMyAyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMCAxNi45NDE4MDI3OC0zMi4wMzg0NTkwMSAyOC4xODA0MjQ5NiAyNS4wMzUyODgyNSAwIDAgMC01Ljc0NTExNjA4LTguNDcwOTAxODhjMTAuNTI1NzIzODgtMTkuMjA2MzAxMjIgMTkuNTgzNzE3NjItMzUuNzI4NzUzMDggMjUuNDEyNzA0NjUtNDguMTQxNTU4OTcgNy44ODM4MDkwNC0xNi44NTc5MzI3OSAxMS45OTM0NTQ5OS0yOS4zOTY1NDQxNiA4LjM4NzAzMDkxLTQxLjUxNTgwNDYzLTMuNjA2NDIzMTEtMTIuMTE5MjYwNDYtMTQuNjc3MzA0MzQtMjAuMDAzMDY5NS0yOS4zNTQ2MDk2Ni0yNy4yNTc4NTIxNy05LjY0NTA4NTYtNC43Mzg2NzIzMy0yMS42ODA0NzYwNy05Ljc3MDg5MTA2LTM2LjA2NDIzMzk5LTE1LjgwOTU1MzU3YTI4LjE4MDQyNDk2IDI1LjAzNTI4ODI1IDAgMCAwLTEuNTkzNTM1NjItMTAuMDIyNTAyIDI4LjE4MDQyNDk2IDI1LjAzNTI4ODI1IDAgMCAwLTYuMDgwNTk3OTYtOC43NjQ0NDgzbDIyLjE0MTc2MjQ2LTQwLjM4MzU1NTQxIDEyMi42MTgzOTYzOCA1Mi45NjQxMDIyN2MyMi4xNDE3NjI0NyA5LjYwMzE1MTEgMzEuMjgzNjI2MiAzMy4xMjg3NzM3MiAyMC41NDgyMjY4NSA1Mi44MzgyOTY4bC04NC4yODk2NjM5MyAxNTQuMzIxMzc1NDRjLTEwLjc3NzMzNDgyIDE5LjY2NzU4ODU3LTM3LjIzODQxODY5IDI3LjgwMzAwODU1LTU5LjM4MDE4MTE4IDE4LjI0MTc5MjkzbC0xNzMuNDg1NzQxMTUtNzQuOTgwMDU5MjdjLTIyLjE0MTc2MjQ3LTkuNTYxMjE1Ni0zMS4zMjU1NjE2Ny0zMy4xMjg3NzM3Mi0yMC41NDgyMjY4Ny01Mi44MzgyOTY3OWw4NC4yODk2NjM5NS0xNTQuMjc5NDM5OTVjNy4zODA1ODcxNi0xMy41NDUwNTUxMyAyMi4yMjU2MzI0Ni0yMS41OTY2MDUxMSAzNy45NTEzMTctMjIuMjI1NjMyNDZoMi42ODM4NDkzNXoiCiAgICB9CiAgfSldKSwgX3ZtLl92KCIgIiksIF9jKCdzeW1ib2wnLCB7CiAgICBhdHRyczogewogICAgICAiaWQiOiAidnNzdWUtaWNvbi1naXRlZSIsCiAgICAgICJ2aWV3Qm94IjogIjAgMCAxMDI0IDEwMjQiCiAgICB9CiAgfSwgW19jKCdwYXRoJywgewogICAgYXR0cnM6IHsKICAgICAgImQiOiAiTTk3OC40MDQyNzUgNDA5LjU2MTYwNEg0NTUuMDYxMzM4Yy0yNS4xMTc2NDUgMC00NS40OTk3MzQgMjAuMzgyMDg5LTQ1LjQ5OTczNCA0NS40OTk3MzRsLTAuMDMxOTk3IDExMy43ODEzMzNjMCAyNS4xMTc2NDUgMjAuMzUwMDkyIDQ1LjQ5OTczNCA0NS40OTk3MzQgNDUuNTMxNzMxaDMxOC41OTQxMzJjMjUuMTE3NjQ1IDAgNDUuNDk5NzM0IDIwLjM4MjA4OSA0NS40OTk3MzQgNDUuNDk5NzM1djIyLjc0OTg2N2ExMzYuNTMxMiAxMzYuNTMxMiAwIDAgMS0xMzYuNTMxMiAxMzYuNTMxMkgyNTAuMjQ4NTM5YTQ1LjQ5OTczNCA0NS40OTk3MzQgMCAwIDEtNDUuNDk5NzM0LTQ1LjQ5OTczNFYzNDEuMzQzOTk5YTEzNi41MzEyIDEzNi41MzEyIDAgMCAxIDEzNi41MzEyLTEzNi41MzEyTDk3OC4zMDgyODQgMjA0Ljc4MDgwMmMyNS4xMTc2NDUgMCA0NS40OTk3MzQtMjAuMzUwMDkyIDQ1LjQ5OTczNC00NS40Njc3MzhMMTAyMy45MDQwMDkgNDUuNTMxNzMxaDAuMDMxOTk3QTQ1LjQ5OTczNCA0NS40OTk3MzQgMCAwIDAgOTc4LjQ2ODI2OSAwaC0wLjAzMTk5N0wzNDEuMzQzOTk5IDAuMDMxOTk3QzE1Mi44NDk2NyAwLjAzMTk5NyAwLjAzMTk5NyAxNTIuODQ5NjcgMC4wMzE5OTcgMzQxLjM0Mzk5OXY2MzcuMDkyMjczYzAgMjUuMTE3NjQ1IDIwLjM4MjA4OSA0NS40OTk3MzQgNDUuNDk5NzM0IDQ1LjQ5OTczNGg2NzEuMjMzMDcyYTMwNy4xNzEyMDMgMzA3LjE3MTIwMyAwIDAgMCAzMDcuMTcxMjAzLTMwNy4xNzEyMDN2LTI2MS42NzE0NjhjMC0yNS4xMTc2NDUtMjAuMzgyMDg5LTQ1LjQ5OTczNC00NS40OTk3MzQtNDUuNDk5NzM0eiIKICAgIH0KICB9KV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3N5bWJvbCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICJ2c3N1ZS1pY29uLWdpdGh1YiIsCiAgICAgICJ2aWV3Qm94IjogIjAgMCAxMDI0IDEwMjQiCiAgICB9CiAgfSwgW19jKCdwYXRoJywgewogICAgYXR0cnM6IHsKICAgICAgImQiOiAiTTUxMiAyMC40NDI1Yy0yNzguMzM0IDAtNTA0IDIyNS42MzQ1LTUwNCA1MDQgMCAyMjIuNjczNSAxNDQuNDI3NSA0MTEuNjEwNSAzNDQuNjczIDQ3OC4yMzMgMjUuMiA0LjY2MiAzNC40NjEtMTAuOTMwNSAzNC40NjEtMjQuMjU1IDAtMTIuMDAxNS0wLjQ3MjUtNTEuNzIzLTAuNjkzLTkzLjgzODUtMTQwLjIzOCAzMC40OTItMTY5LjgxNjUtNTkuNDcyLTE2OS44MTY1LTU5LjQ3Mi0yMi45MzItNTguMjQzNS01NS45NDQtNzMuNzQxNS01NS45NDQtNzMuNzQxNS00NS43MzgtMzEuMjc5NSAzLjQ2NS0zMC42NDk1IDMuNDY1LTMwLjY0OTUgNTAuNTg5IDMuNTU5NSA3Ny4yMzggNTEuOTQzNSA3Ny4yMzggNTEuOTQzNSA0NC45NTA1IDc3LjA0OSAxMTcuOTA0NSA1NC43Nzg1IDE0Ni42NjQgNDEuODk1IDQuNTA0NS0zMi41NzEgMTcuNTc3LTU0LjgxIDMyLjAwNC02Ny40MS0xMTEuOTUxLTEyLjcyNi0yMjkuNjM1LTU1Ljk3NTUtMjI5LjYzNS0yNDkuMDcwNSAwLTU1LjAzMDUgMTkuNjg3NS05OS45ODEgNTEuOTQzNS0xMzUuMjkyNS01LjIyOS0xMi42OTQ1LTIyLjQ5MS02My45NDUgNC44ODI1LTEzMy4zNzEgMCAwIDQyLjMzNi0xMy41NDUgMTM4LjYzMTUgNTEuNjYgNDAuMTk0LTExLjE4MjUgODMuMzE3NS0xNi43NTggMTI2LjE1NzUtMTYuOTc4NSA0Mi44MDg1IDAuMTg5IDg1Ljk2MzUgNS43OTYgMTI2LjI1MiAxNi45Nzg1IDk2LjIwMS02NS4yMDUgMTM4LjQ0MjUtNTEuNjYgMTM4LjQ0MjUtNTEuNjYgMjcuNDM2NSA2OS40MjYgMTAuMTc0NSAxMjAuNjc2NSA0Ljk0NTUgMTMzLjM3MSAzMi4zMTkgMzUuMjggNTEuODgwNSA4MC4yNjIgNTEuODgwNSAxMzUuMjkyNSAwIDE5My41Njc1LTExNy45MDQ1IDIzNi4xODctMjMwLjEzOSAyNDguNjkyNSAxOC4wODEgMTUuNjU1NSAzNC4xNzc1IDQ2LjMwNSAzNC4xNzc1IDkzLjMzNDUgMCA2Ny40NDE1LTAuNTk4NSAxMjEuNzE2LTAuNTk4NSAxMzguMzE2NSAwIDEzLjQxOSA5LjA3MiAyOS4xMzc1IDM0LjYxODUgMjQuMTkyIDIwMC4xNTEtNjYuNzE3IDM0NC4zODk1LTI1NS41NTk1IDM0NC4zODk1LTQ3OC4xNyAwLTI3OC4zNjU1LTIyNS42NjYtNTA0LTUwNC01MDR6IgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygnc3ltYm9sJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogInZzc3VlLWljb24tZ2l0bGFiIiwKICAgICAgInZpZXdCb3giOiAiMCAwIDEwMjQgMTAyNCIKICAgIH0KICB9LCBbX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNNjYuNjEzNzU5ODYgNDA1LjExNjAwMDQyTDUxMi4xMTM3NjAyOCA5NzYuMDM5OTk5NzIgMjMuODQ1NzYgNjIxLjY1NTk5OTU4YTM5LjMxMiAzOS4zMTIgMCAwIDEtMTQuMDc2MDAwNDItNDMuMzA3OTk5NDRsNTYuODA4MDAwNy0xNzMuMjY4MDAwMjh6IG0yNTkuODg0MDAwMTQgMGgzNzEuMjY4MDAwMTRMNTEyLjE0OTc1OTg2IDk3Ni4wMzk5OTk3MnpNMjE1LjExMzc2IDYwLjg4NDAwMDQybDExMS4zODQgMzQ0LjIzMkg2Ni42MTM3NTk4NmwxMTEuMzg0LTM0NC4yMzJhMTkuNzI4MDAwMTQgMTkuNzI4MDAwMTQgMCAwIDEgMzcuMTE2MDAwMTQgMHogbTc0Mi40OTk5OTk3MiAzNDQuMjMybDU2LjgwODAwMDcgMTczLjI2Nzk5OTNhMzkuMjM5OTk5ODYgMzkuMjM5OTk5ODYgMCAwIDEtMTQuMDc2MDAwNDIgNDMuMzA4MDAwNDJsLTQ4OC4yNjgwMDAyOCAzNTQuMzg0MDAwMTQgNDQ1LjUwMDAwMDQyLTU3MC45MjQwMDAyOHogbTAgMGgtMjU5Ljg4NDAwMDE0bDExMS4zODQtMzQ0LjIzMmExOS43MjgwMDAxNCAxOS43MjgwMDAxNCAwIDAgMSAzNy4xMTYwMDAxNCAweiIKICAgIH0KICB9KV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3N5bWJvbCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICJ2c3N1ZS1pY29uLWxvYWRpbmciLAogICAgICAidmlld0JveCI6ICIwIDAgMTAyNCAxMDI0IgogICAgfQogIH0sIFtfYygncGF0aCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJkIjogIk04NDMuMzA3IDc0Mi4yNGMwIDMuMjE3IDIuNjA3IDUuODI0IDUuODI0IDUuODI0czUuODI0LTIuNjA3IDUuODI0LTUuODI0YTUuODIzIDUuODIzIDAgMCAwLTUuODI0LTUuODI0IDUuODIzIDUuODIzIDAgMCAwLTUuODI0IDUuODI0ek03MTQuNzMxIDg3NC45MTJjMCA2LjM5OCA1LjE4NiAxMS41ODQgMTEuNTg0IDExLjU4NHMxMS41ODQtNS4xODYgMTEuNTg0LTExLjU4NC01LjE4Ni0xMS41ODQtMTEuNTg0LTExLjU4NC0xMS41ODQgNS4xODYtMTEuNTg0IDExLjU4NHpNNTQxLjQxOSA5NDMuMmMwIDkuNjE0IDcuNzk0IDE3LjQwOCAxNy40MDggMTcuNDA4czE3LjQwOC03Ljc5NCAxNy40MDgtMTcuNDA4LTcuNzk0LTE3LjQwOC0xNy40MDgtMTcuNDA4LTE3LjQwOCA3Ljc5NC0xNy40MDggMTcuNDA4eiBtLTE4Ni41Ni05LjE1MmMwIDEyLjc5NSAxMC4zNzMgMjMuMTY4IDIzLjE2OCAyMy4xNjhzMjMuMTY4LTEwLjM3MyAyMy4xNjgtMjMuMTY4LTEwLjM3My0yMy4xNjgtMjMuMTY4LTIzLjE2OC0yMy4xNjggMTAuMzczLTIzLjE2OCAyMy4xNjh6TTE4OS4zNTUgODQ5LjEyYzAgMTYuMDEyIDEyLjk4IDI4Ljk5MiAyOC45OTIgMjguOTkyczI4Ljk5Mi0xMi45OCAyOC45OTItMjguOTkyLTEyLjk4LTI4Ljk5Mi0yOC45OTItMjguOTkyLTI4Ljk5MiAxMi45OC0yOC45OTIgMjguOTkyek03NC43MzEgNzA0LjczNmMwIDE5LjIyOCAxNS41ODggMzQuODE2IDM0LjgxNiAzNC44MTZzMzQuODE2LTE1LjU4OCAzNC44MTYtMzQuODE2LTE1LjU4OC0zNC44MTYtMzQuODE2LTM0LjgxNi0zNC44MTYgMTUuNTg4LTM0LjgxNiAzNC44MTZ6IG0tNDMuMDA4LTE3Ny4yOGMwIDIyLjQxIDE4LjE2NiA0MC41NzYgNDAuNTc2IDQwLjU3NnM0MC41NzYtMTguMTY2IDQwLjU3Ni00MC41NzYtMTguMTY2LTQwLjU3Ni00MC41NzYtNDAuNTc2LTQwLjU3NiAxOC4xNjYtNDAuNTc2IDQwLjU3NnogbTM1LjM5Mi0xNzYuMTI4YzAgMjUuNjI2IDIwLjc3NCA0Ni40IDQ2LjQgNDYuNHM0Ni40LTIwLjc3NCA0Ni40LTQ2LjRjMC0yNS42MjYtMjAuNzc0LTQ2LjQtNDYuNC00Ni40LTI1LjYyNiAwLTQ2LjQgMjAuNzc0LTQ2LjQgNDYuNHogbTEwNi4xNzYtMTQyLjAxNmMwIDI4Ljg0MyAyMy4zODEgNTIuMjI0IDUyLjIyNCA1Mi4yMjRzNTIuMjI0LTIzLjM4MSA1Mi4yMjQtNTIuMjI0YzAtMjguODQzLTIzLjM4MS01Mi4yMjQtNTIuMjI0LTUyLjIyNC0yOC44NDMgMC01Mi4yMjQgMjMuMzgxLTUyLjIyNCA1Mi4yMjR6IG0xNTUuOTA0LTgxLjM0NGMwIDMyLjAyNCAyNS45NiA1Ny45ODQgNTcuOTg0IDU3Ljk4NHM1Ny45ODQtMjUuOTYgNTcuOTg0LTU3Ljk4NC0yNS45Ni01Ny45ODQtNTcuOTg0LTU3Ljk4NC01Ny45ODQgMjUuOTYtNTcuOTg0IDU3Ljk4NHogbTE3NS4xMDQtNS4wNTZjMCAzNS4yNCAyOC41NjggNjMuODA4IDYzLjgwOCA2My44MDhzNjMuODA4LTI4LjU2OCA2My44MDgtNjMuODA4YzAtMzUuMjQtMjguNTY4LTYzLjgwOC02My44MDgtNjMuODA4LTM1LjI0IDAtNjMuODA4IDI4LjU2OC02My44MDggNjMuODA4eiBtMTYwLjMyIDcyLjEyOGMwIDM4LjQyMSAzMS4xNDcgNjkuNTY4IDY5LjU2OCA2OS41NjhzNjkuNTY4LTMxLjE0NyA2OS41NjgtNjkuNTY4LTMxLjE0Ny02OS41NjgtNjkuNTY4LTY5LjU2OC02OS41NjggMzEuMTQ3LTY5LjU2OCA2OS41Njh6IG0xMTMuOTIgMTM1LjQ4OGMwIDQxLjYzOCAzMy43NTQgNzUuMzkyIDc1LjM5MiA3NS4zOTJzNzUuMzkyLTMzLjc1NCA3NS4zOTItNzUuMzkyLTMzLjc1NC03NS4zOTItNzUuMzkyLTc1LjM5Mi03NS4zOTIgMzMuNzU0LTc1LjM5MiA3NS4zOTJ6IG00NS4zMTIgMTc1LjQ4OGMwIDQ0Ljg1NCAzNi4zNjIgODEuMjE2IDgxLjIxNiA4MS4yMTZzODEuMjE2LTM2LjM2MiA4MS4yMTYtODEuMjE2YzAtNDQuODU0LTM2LjM2Mi04MS4yMTYtODEuMjE2LTgxLjIxNi00NC44NTQgMC04MS4yMTYgMzYuMzYyLTgxLjIxNiA4MS4yMTZ6IgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygnc3ltYm9sJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogInZzc3VlLWljb24tbGlrZSIsCiAgICAgICJ2aWV3Qm94IjogIjAgMCAxMDI0IDEwMjQiCiAgICB9CiAgfSwgW19jKCdwYXRoJywgewogICAgYXR0cnM6IHsKICAgICAgImQiOiAiTTg4NS45IDUzMy43YzE2LjgtMjIuMiAyNi4xLTQ5LjQgMjYuMS03Ny43IDAtNDQuOS0yNS4xLTg3LjQtNjUuNS0xMTEuMWE2Ny42NyA2Ny42NyAwIDAgMC0zNC4zLTkuM0g1NzIuNGw2LTEyMi45YzEuNC0yOS43LTkuMS01Ny45LTI5LjUtNzkuNC0yMC41LTIxLjUtNDguMS0zMy40LTc3LjktMzMuNC01MiAwLTk4IDM1LTExMS44IDg1LjFsLTg1LjkgMzExSDE0NGMtMTcuNyAwLTMyIDE0LjMtMzIgMzJ2MzY0YzAgMTcuNyAxNC4zIDMyIDMyIDMyaDYwMS4zYzkuMiAwIDE4LjItMS44IDI2LjUtNS40IDQ3LjYtMjAuMyA3OC4zLTY2LjggNzguMy0xMTguNCAwLTEyLjYtMS44LTI1LTUuNC0zNyAxNi44LTIyLjIgMjYuMS00OS40IDI2LjEtNzcuNyAwLTEyLjYtMS44LTI1LTUuNC0zNyAxNi44LTIyLjIgMjYuMS00OS40IDI2LjEtNzcuNy0wLjItMTIuNi0yLTI1LjEtNS42LTM3LjF6TTE4NCA4NTJWNTY4aDgxdjI4NGgtODF6IG02MzYuNC0zNTNsLTIxLjkgMTkgMTMuOSAyNS40YzQuNiA4LjQgNi45IDE3LjYgNi45IDI3LjMgMCAxNi41LTcuMiAzMi4yLTE5LjYgNDNsLTIxLjkgMTkgMTMuOSAyNS40YzQuNiA4LjQgNi45IDE3LjYgNi45IDI3LjMgMCAxNi41LTcuMiAzMi4yLTE5LjYgNDNsLTIxLjkgMTkgMTMuOSAyNS40YzQuNiA4LjQgNi45IDE3LjYgNi45IDI3LjMgMCAyMi40LTEzLjIgNDIuNi0zMy42IDUxLjhIMzI5VjU2NC44bDk5LjUtMzYwLjVjNS4yLTE4LjkgMjIuNS0zMi4yIDQyLjItMzIuMyA3LjYgMCAxNS4xIDIuMiAyMS4xIDYuNyA5LjkgNy40IDE1LjIgMTguNiAxNC42IDMwLjVsLTkuNiAxOTguNGgzMTQuNEM4MjkgNDE4LjUgODQwIDQzNi45IDg0MCA0NTZjMCAxNi41LTcuMiAzMi4xLTE5LjYgNDN6IgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygnc3ltYm9sJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogInZzc3VlLWljb24tdW5saWtlIiwKICAgICAgInZpZXdCb3giOiAiMCAwIDEwMjQgMTAyNCIKICAgIH0KICB9LCBbX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNODg1LjkgNDkwLjNjMy42LTEyIDUuNC0yNC40IDUuNC0zNyAwLTI4LjMtOS4zLTU1LjUtMjYuMS03Ny43IDMuNi0xMiA1LjQtMjQuNCA1LjQtMzcgMC0yOC4zLTkuMy01NS41LTI2LjEtNzcuNyAzLjYtMTIgNS40LTI0LjQgNS40LTM3IDAtNTEuNi0zMC43LTk4LjEtNzguMy0xMTguNC04LjMtMy42LTE3LjItNS40LTI2LjUtNS40SDE0NGMtMTcuNyAwLTMyIDE0LjMtMzIgMzJ2MzY0YzAgMTcuNyAxNC4zIDMyIDMyIDMyaDEyOS4zbDg1LjggMzEwLjhDMzcyLjkgODg5IDQxOC45IDkyNCA0NzAuOSA5MjRjMjkuNyAwIDU3LjQtMTEuOCA3Ny45LTMzLjQgMjAuNS0yMS41IDMxLTQ5LjcgMjkuNS03OS40bC02LTEyMi45aDIzOS45YzEyLjEgMCAyMy45LTMuMiAzNC4zLTkuMyA0MC40LTIzLjUgNjUuNS02Ni4xIDY1LjUtMTExIDAtMjguMy05LjMtNTUuNS0yNi4xLTc3Ljd6TTE4NCA0NTZWMTcyaDgxdjI4NGgtODF6IG02MjcuMiAxNjAuNEg0OTYuOGw5LjYgMTk4LjRjMC42IDExLjktNC43IDIzLjEtMTQuNiAzMC41LTYuMSA0LjUtMTMuNiA2LjgtMjEuMSA2LjctMTkuNi0wLjEtMzYuOS0xMy40LTQyLjItMzIuM0wzMjkgNDU5LjJWMTcyaDQxNS40YzIwLjQgOS4yIDMzLjYgMjkuNCAzMy42IDUxLjggMCA5LjctMi4zIDE4LjktNi45IDI3LjNsLTEzLjkgMjUuNCAyMS45IDE5YzEyLjUgMTAuOCAxOS42IDI2LjUgMTkuNiA0MyAwIDkuNy0yLjMgMTguOS02LjkgMjcuM2wtMTMuOSAyNS40IDIxLjkgMTljMTIuNSAxMC44IDE5LjYgMjYuNSAxOS42IDQzIDAgOS43LTIuMyAxOC45LTYuOSAyNy4zbC0xNCAyNS41IDIxLjkgMTljMTIuNSAxMC44IDE5LjYgMjYuNSAxOS42IDQzIDAgMTkuMS0xMSAzNy41LTI4LjggNDguNHoiCiAgICB9CiAgfSldKSwgX3ZtLl92KCIgIiksIF9jKCdzeW1ib2wnLCB7CiAgICBhdHRyczogewogICAgICAiaWQiOiAidnNzdWUtaWNvbi1oZWFydCIsCiAgICAgICJ2aWV3Qm94IjogIjAgMCAxMDI0IDEwMjQiCiAgICB9CiAgfSwgW19jKCdwYXRoJywgewogICAgYXR0cnM6IHsKICAgICAgImQiOiAiTTkyMyAyODMuNmMtMTMuNC0zMS4xLTMyLjYtNTguOS01Ni45LTgyLjgtMjQuMy0yMy44LTUyLjUtNDIuNC04NC01NS41LTMyLjUtMTMuNS02Ni45LTIwLjMtMTAyLjQtMjAuMy00OS4zIDAtOTcuNCAxMy41LTEzOS4yIDM5LTEwIDYuMS0xOS41IDEyLjgtMjguNSAyMC4xLTktNy4zLTE4LjUtMTQtMjguNS0yMC4xLTQxLjgtMjUuNS04OS45LTM5LTEzOS4yLTM5LTM1LjUgMC02OS45IDYuOC0xMDIuNCAyMC4zLTMxLjQgMTMtNTkuNyAzMS43LTg0IDU1LjUtMjQuNCAyMy45LTQzLjUgNTEuNy01Ni45IDgyLjgtMTMuOSAzMi4zLTIxIDY2LjYtMjEgMTAxLjkgMCAzMy4zIDYuOCA2OCAyMC4zIDEwMy4zIDExLjMgMjkuNSAyNy41IDYwLjEgNDguMiA5MSAzMi44IDQ4LjkgNzcuOSA5OS45IDEzMy45IDE1MS42IDkyLjggODUuNyAxODQuNyAxNDQuOSAxODguNiAxNDcuM2wyMy43IDE1LjJjMTAuNSA2LjcgMjQgNi43IDM0LjUgMGwyMy43LTE1LjJjMy45LTIuNSA5NS43LTYxLjYgMTg4LjYtMTQ3LjMgNTYtNTEuNyAxMDEuMS0xMDIuNyAxMzMuOS0xNTEuNiAyMC43LTMwLjkgMzctNjEuNSA0OC4yLTkxIDEzLjUtMzUuMyAyMC4zLTcwIDIwLjMtMTAzLjMgMC4xLTM1LjMtNy02OS42LTIwLjktMTAxLjl6TTUxMiA4MTQuOFMxNTYgNTg2LjcgMTU2IDM4NS41QzE1NiAyODMuNiAyNDAuMyAyMDEgMzQ0LjMgMjAxYzczLjEgMCAxMzYuNSA0MC44IDE2Ny43IDEwMC40QzU0My4yIDI0MS44IDYwNi42IDIwMSA2NzkuNyAyMDFjMTA0IDAgMTg4LjMgODIuNiAxODguMyAxODQuNSAwIDIwMS4yLTM1NiA0MjkuMy0zNTYgNDI5LjN6IgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygnc3ltYm9sJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogInZzc3VlLWljb24tZWRpdCIsCiAgICAgICJ2aWV3Qm94IjogIjAgMCAxMDI0IDEwMjQiCiAgICB9CiAgfSwgW19jKCdwYXRoJywgewogICAgYXR0cnM6IHsKICAgICAgImQiOiAiTTcyMy4yIDkxNy43NkgyODYuNzJjLTY1LjI4IDAtMTE4LjQtNTEuMi0xMTguNC0xMTMuOTJWMjYxLjc2QzE2OC4zMiAxOTguNCAyMjEuNDQgMTQ3LjIgMjg2LjcyIDE0Ny4yaDM3NS4wNGMxNy45MiAwIDMyIDE0LjA4IDMyIDMycy0xNC4wOCAzMi0zMiAzMkgyODYuNzJjLTMwLjA4IDAtNTQuNCAyMi40LTU0LjQgNDkuOTJ2NTQyLjA4YzAgMjcuNTIgMjQuMzIgNDkuOTIgNTQuNCA0OS45Mkg3MjMuMmMzMC4wOCAwIDU0LjQtMjIuNCA1NC40LTQ5LjkyVjQ0MC4zMmMwLTE3LjkyIDE0LjA4LTMyIDMyLTMyczMyIDE0LjA4IDMyIDMydjM2My41MmMwIDYyLjcyLTUzLjEyIDExMy45Mi0xMTguNCAxMTMuOTJ6IgogICAgfQogIH0pLCBfdm0uX3YoIiAiKSwgX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNNDk5Ljg0IDYwMi4yNGMtNy42OCAwLTE0LjcyLTIuNTYtMjEuMTItNy42OC0xMy40NC0xMS41Mi0xNC43Mi0zMi0zLjItNDUuNDRMNzgwLjE2IDE5OC40YzExLjUyLTEzLjQ0IDMyLTE0LjcyIDQ1LjQ0LTMuMnMxNC43MiAzMiAzLjIgNDUuNDRMNTI0LjE2IDU5MS4zNmMtNi40IDcuMDQtMTUuMzYgMTAuODgtMjQuMzIgMTAuODh6IgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygnc3ltYm9sJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogInZzc3VlLWljb24tZGVsZXRlIiwKICAgICAgInZpZXdCb3giOiAiMCAwIDEwMjQgMTAyNCIKICAgIH0KICB9LCBbX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNNjc3LjY0NzA1OSAyNTZsMC05MC4zNTI5NDFjMC0zNy40MzYyMzUtMjMuNDYxNjQ3LTYwLjIzNTI5NC02MS43NzEyOTQtNjAuMjM1Mjk0TDQwOC4wOTQxMTggMTA1LjQxMTc2NWMtMzguMjQ5NDEyIDAtNjEuNzQxMTc2IDIyLjc5OTA1OS02MS43NDExNzYgNjAuMjM1Mjk0bDAgOTAuMzUyOTQxLTE4MC43MDU4ODIgMCAwIDYwLjIzNTI5NCA2MC4yMzUyOTQgMCAwIDUxMmMwIDU0LjI3MiAzMy45NzI3MDYgOTAuMzUyOTQxIDkwLjM1Mjk0MSA5MC4zNTI5NDFsMzkxLjUyOTQxMiAwYzU1LjA4NTE3NiAwIDkwLjM1Mjk0MS0zMy40OTA4MjQgOTAuMzUyOTQxLTkwLjM1Mjk0MWwwLTUxMiA2MC4yMzUyOTQgMCAwLTYwLjIzNTI5NEw2NzcuNjQ3MDU5IDI1NnpNNDA2LjU4ODIzNSAxNjUuNjQ3MDU5bDIxMC44MjM1MjkgMC0xLjI2NDk0MSA5MC4zNTI5NDFMNDA2LjU4ODIzNSAyNTYgNDA2LjU4ODIzNSAxNjUuNjQ3MDU5ek03MzcuODgyMzUzIDg1OC4zNTI5NDFsLTQ1MS43NjQ3MDYgMCAwLTU0Mi4xMTc2NDcgNDUxLjc2NDcwNiAwTDczNy44ODIzNTMgODU4LjM1Mjk0MXpNNDY2LjgyMzUyOSAzNzYuNDcwNTg4bC01OC43Mjk0MTIgMC0xLjUwNTg4MiAzOTEuNTI5NDEyIDYwLjIzNTI5NCAwTDQ2Ni44MjM1MjkgMzc2LjQ3MDU4OHpNNjE3LjQxMTc2NSAzNzYuNDcwNTg4bC02MC4yMzUyOTQgMCAwIDM5MS41Mjk0MTIgNjAuMjM1Mjk0IDBMNjE3LjQxMTc2NSAzNzYuNDcwNTg4eiIKICAgIH0KICB9KV0pLCBfdm0uX3YoIiAiKSwgX2MoJ3N5bWJvbCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJpZCI6ICJ2c3N1ZS1pY29uLXJlcGx5IiwKICAgICAgInZpZXdCb3giOiAiMCAwIDEwMjQgMTAyNCIKICAgIH0KICB9LCBbX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNNDI2LjY2NjY2NyAzODQgNDI2LjY2NjY2NyAyMTMuMzMzMzMzIDEyOCA1MTIgNDI2LjY2NjY2NyA4MTAuNjY2NjY3IDQyNi42NjY2NjcgNjM1LjczMzMzM0M2NDAgNjM1LjczMzMzMyA3ODkuMzMzMzMzIDcwNCA4OTYgODUzLjMzMzMzMyA4NTMuMzMzMzMzIDY0MCA3MjUuMzMzMzMzIDQyNi42NjY2NjcgNDI2LjY2NjY2NyAzODRaIgogICAgfQogIH0pXSksIF92bS5fdigiICIpLCBfYygnc3ltYm9sJywgewogICAgYXR0cnM6IHsKICAgICAgImlkIjogInZzc3VlLWljb24tZXJyb3IiLAogICAgICAidmlld0JveCI6ICIwIDAgMTAyNCAxMDI0IgogICAgfQogIH0sIFtfYygncGF0aCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJkIjogIk01MTIgNzIwbS00OCAwYTQ4IDQ4IDAgMSAwIDk2IDAgNDggNDggMCAxIDAtOTYgMFoiCiAgICB9CiAgfSksIF92bS5fdigiICIpLCBfYygncGF0aCcsIHsKICAgIGF0dHJzOiB7CiAgICAgICJkIjogIk00ODAgNDE2djE4NGMwIDQuNCAzLjYgOCA4IDhoNDhjNC40IDAgOC0zLjYgOC04VjQxNmMwLTQuNC0zLjYtOC04LThoLTQ4Yy00LjQgMC04IDMuNi04IDh6IgogICAgfQogIH0pLCBfdm0uX3YoIiAiKSwgX2MoJ3BhdGgnLCB7CiAgICBhdHRyczogewogICAgICAiZCI6ICJNOTU1LjcgODU2bC00MTYtNzIwYy02LjItMTAuNy0xNi45LTE2LTI3LjctMTZzLTIxLjYgNS4zLTI3LjcgMTZsLTQxNiA3MjBDNTYgODc3LjQgNzEuNCA5MDQgOTYgOTA0aDgzMmMyNC42IDAgNDAtMjYuNiAyNy43LTQ4eiBtLTc4My41LTI3LjlMNTEyIDIzOS45bDMzOS44IDU4OC4ySDE3Mi4yeiIKICAgIH0KICB9KV0pXSk7Cn07Cgp2YXIgX192dWVfc3RhdGljUmVuZGVyRm5zX18gPSBbXTsKLyogc3R5bGUgKi8KCmNvbnN0IF9fdnVlX2luamVjdF9zdHlsZXNfXyA9IHVuZGVmaW5lZDsKLyogc2NvcGVkICovCgpjb25zdCBfX3Z1ZV9zY29wZV9pZF9fID0gdW5kZWZpbmVkOwovKiBtb2R1bGUgaWRlbnRpZmllciAqLwoKY29uc3QgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyA9IHVuZGVmaW5lZDsKLyogZnVuY3Rpb25hbCB0ZW1wbGF0ZSAqLwoKY29uc3QgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fID0gdHJ1ZTsKLyogc3R5bGUgaW5qZWN0ICovCgovKiBzdHlsZSBpbmplY3QgU1NSICovCgovKiBzdHlsZSBpbmplY3Qgc2hhZG93IGRvbSAqLwoKY29uc3QgX192dWVfY29tcG9uZW50X18gPSBub3JtYWxpemVDb21wb25lbnQoewogIHJlbmRlcjogX192dWVfcmVuZGVyX18sCiAgc3RhdGljUmVuZGVyRm5zOiBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXwp9LCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18sIF9fdnVlX3NjcmlwdF9fLCBfX3Z1ZV9zY29wZV9pZF9fLCBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18sIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18sIGZhbHNlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsKCnZhciBzY3JpcHQkMSA9IFZ1ZS5leHRlbmQoewogIG5hbWU6ICdUcmFuc2l0aW9uRmFkZScsCiAgZnVuY3Rpb25hbDogdHJ1ZSwKICBwcm9wczogewogICAgZ3JvdXA6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHRhZzogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ2RpdicKICAgIH0KICB9LAoKICByZW5kZXIoaCwgewogICAgcHJvcHMsCiAgICBjaGlsZHJlbgogIH0pIHsKICAgIHJldHVybiBoKHByb3BzLmdyb3VwID8gJ1RyYW5zaXRpb25Hcm91cCcgOiAnVHJhbnNpdGlvbicsIHsKICAgICAgcHJvcHM6IHsKICAgICAgICBuYW1lOiAnZmFkZScsCiAgICAgICAgbW9kZTogJ291dC1pbicsCiAgICAgICAgYXBwZWFyOiB0cnVlLAogICAgICAgIHRhZzogcHJvcHMudGFnCiAgICAgIH0KICAgIH0sIGNoaWxkcmVuKTsKICB9Cgp9KTsKLyogc2NyaXB0ICovCgpjb25zdCBfX3Z1ZV9zY3JpcHRfXyQxID0gc2NyaXB0JDE7Ci8qIHRlbXBsYXRlICovCgovKiBzdHlsZSAqLwoKY29uc3QgX192dWVfaW5qZWN0X3N0eWxlc19fJDEgPSB1bmRlZmluZWQ7Ci8qIHNjb3BlZCAqLwoKY29uc3QgX192dWVfc2NvcGVfaWRfXyQxID0gdW5kZWZpbmVkOwovKiBtb2R1bGUgaWRlbnRpZmllciAqLwoKY29uc3QgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyQxID0gdW5kZWZpbmVkOwovKiBmdW5jdGlvbmFsIHRlbXBsYXRlICovCgpjb25zdCBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18kMSA9IHVuZGVmaW5lZDsKLyogc3R5bGUgaW5qZWN0ICovCgovKiBzdHlsZSBpbmplY3QgU1NSICovCgovKiBzdHlsZSBpbmplY3Qgc2hhZG93IGRvbSAqLwoKY29uc3QgX192dWVfY29tcG9uZW50X18kMSA9IG5vcm1hbGl6ZUNvbXBvbmVudCh7fSwgX192dWVfaW5qZWN0X3N0eWxlc19fJDEsIF9fdnVlX3NjcmlwdF9fJDEsIF9fdnVlX3Njb3BlX2lkX18kMSwgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDEsIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kMSwgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwoKdmFyIHNjcmlwdCQyID0gVnVlLmV4dGVuZCh7CiAgbmFtZTogJ1Zzc3VlSWNvbicsCiAgZnVuY3Rpb25hbDogdHJ1ZSwKICBwcm9wczogewogICAgbmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgdGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAoKICByZW5kZXIoaCwgewogICAgcHJvcHMsCiAgICBkYXRhCiAgfSkgewogICAgcmV0dXJuIGgoJ3N2ZycsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGF0YSksIHsKICAgICAgY2xhc3M6IFsndnNzdWUtaWNvbicsIGB2c3N1ZS1pY29uLSR7cHJvcHMubmFtZX1gXSwKICAgICAgYXR0cnM6IHsKICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScKICAgICAgfQogICAgfSksIFtoKCd0aXRsZScsIHByb3BzLnRpdGxlKSwgaCgndXNlJywgewogICAgICBhdHRyczogewogICAgICAgICd4bGluazpocmVmJzogYCN2c3N1ZS1pY29uLSR7cHJvcHMubmFtZX1gCiAgICAgIH0KICAgIH0pXSk7CiAgfQoKfSk7Ci8qIHNjcmlwdCAqLwoKY29uc3QgX192dWVfc2NyaXB0X18kMiA9IHNjcmlwdCQyOwovKiB0ZW1wbGF0ZSAqLwoKLyogc3R5bGUgKi8KCmNvbnN0IF9fdnVlX2luamVjdF9zdHlsZXNfXyQyID0gdW5kZWZpbmVkOwovKiBzY29wZWQgKi8KCmNvbnN0IF9fdnVlX3Njb3BlX2lkX18kMiA9IHVuZGVmaW5lZDsKLyogbW9kdWxlIGlkZW50aWZpZXIgKi8KCmNvbnN0IF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kMiA9IHVuZGVmaW5lZDsKLyogZnVuY3Rpb25hbCB0ZW1wbGF0ZSAqLwoKY29uc3QgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDIgPSB1bmRlZmluZWQ7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJDIgPSBub3JtYWxpemVDb21wb25lbnQoe30sIF9fdnVlX2luamVjdF9zdHlsZXNfXyQyLCBfX3Z1ZV9zY3JpcHRfXyQyLCBfX3Z1ZV9zY29wZV9pZF9fJDIsIF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyQyLCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDIsIGZhbHNlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsKCmxldCBWc3N1ZUNvbW1lbnQgPSBjbGFzcyBWc3N1ZUNvbW1lbnQgZXh0ZW5kcyBWdWUkMSB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlciguLi5hcmd1bWVudHMpOwogICAgdGhpcy5lZGl0TW9kZSA9IGZhbHNlOwogICAgdGhpcy5lZGl0Q29udGVudCA9IHRoaXMuY29tbWVudC5jb250ZW50UmF3OwogICAgdGhpcy5jcmVhdGluZ1JlYWN0aW9ucyA9IFtdOwogICAgdGhpcy5pc1B1dGluZ0NvbW1lbnQgPSBmYWxzZTsKICAgIHRoaXMuaXNEZWxldGluZ0NvbW1lbnQgPSBmYWxzZTsKICB9CgogIGdldCBjdXJyZW50VXNlcigpIHsKICAgIHJldHVybiB0aGlzLnZzc3VlLnVzZXIgPyB0aGlzLnZzc3VlLnVzZXIudXNlcm5hbWUgOiBudWxsOwogIH0KCiAgZ2V0IGNvbnRlbnQoKSB7CiAgICByZXR1cm4gdGhpcy5jb21tZW50LmNvbnRlbnQ7CiAgfQoKICBnZXQgYXV0aG9yKCkgewogICAgcmV0dXJuIHRoaXMuY29tbWVudC5hdXRob3I7CiAgfQoKICBnZXQgY3JlYXRlZEF0KCkgewogICAgcmV0dXJuIGZvcm1hdERhdGVUaW1lKHRoaXMuY29tbWVudC5jcmVhdGVkQXQpOwogIH0KCiAgZ2V0IHVwZGF0ZWRBdCgpIHsKICAgIHJldHVybiBmb3JtYXREYXRlVGltZSh0aGlzLmNvbW1lbnQudXBkYXRlZEF0KTsKICB9CgogIGdldCBzaG93UmVhY3Rpb25zKCkgewogICAgcmV0dXJuIEJvb2xlYW4odGhpcy52c3N1ZS5BUEkgJiYgdGhpcy52c3N1ZS5BUEkucGxhdGZvcm0ubWV0YS5yZWFjdGFibGUgJiYgdGhpcy5jb21tZW50LnJlYWN0aW9ucyAmJiAhdGhpcy5lZGl0TW9kZSk7CiAgfQoKICBnZXQgcmVhY3Rpb25LZXlzKCkgewogICAgcmV0dXJuIFsnaGVhcnQnLCAnbGlrZScsICd1bmxpa2UnXTsKICB9CgogIGdldCBlZGl0Q29udGVudFJvd3MoKSB7CiAgICByZXR1cm4gdGhpcy5lZGl0Q29udGVudC5zcGxpdCgnXG4nKS5sZW5ndGggLSAxOwogIH0KCiAgZ2V0IGVkaXRJbnB1dFJvd3MoKSB7CiAgICByZXR1cm4gdGhpcy5lZGl0Q29udGVudFJvd3MgPCAzID8gNSA6IHRoaXMuZWRpdENvbnRlbnRSb3dzICsgMjsKICB9CgogIGFzeW5jIHBvc3RSZWFjdGlvbih7CiAgICByZWFjdGlvbgogIH0pIHsKICAgIHRyeSB7CiAgICAgIGlmICh0aGlzLmNyZWF0aW5nUmVhY3Rpb25zLmluY2x1ZGVzKHJlYWN0aW9uKSkgcmV0dXJuOwogICAgICB0aGlzLmNyZWF0aW5nUmVhY3Rpb25zLnB1c2gocmVhY3Rpb24pOwogICAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgdGhpcy52c3N1ZS5wb3N0Q29tbWVudFJlYWN0aW9uKHsKICAgICAgICBjb21tZW50SWQ6IHRoaXMuY29tbWVudC5pZCwKICAgICAgICByZWFjdGlvbgogICAgICB9KTsKCiAgICAgIGlmICghc3VjY2VzcykgewogICAgICAgIHRoaXMudnNzdWUuJGVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKHRoaXMudnNzdWUuJHQoJ3JlYWN0aW9uR2l2ZW4nLCB7CiAgICAgICAgICByZWFjdGlvbjogdGhpcy52c3N1ZS4kdChyZWFjdGlvbikKICAgICAgICB9KSkpOwogICAgICB9IC8vIGFsd2F5cyByZWZyZXNoIHJlYWN0aW9ucyBldmVuIGFscmVhZHkgZ2l2ZW4KCgogICAgICBjb25zdCByZWFjdGlvbnMgPSBhd2FpdCB0aGlzLnZzc3VlLmdldENvbW1lbnRSZWFjdGlvbnMoewogICAgICAgIGNvbW1lbnRJZDogdGhpcy5jb21tZW50LmlkCiAgICAgIH0pOwoKICAgICAgaWYgKHJlYWN0aW9ucykgewogICAgICAgIHRoaXMuY29tbWVudC5yZWFjdGlvbnMgPSByZWFjdGlvbnM7CiAgICAgIH0KICAgIH0gZmluYWxseSB7CiAgICAgIHRoaXMuY3JlYXRpbmdSZWFjdGlvbnMuc3BsaWNlKHRoaXMuY3JlYXRpbmdSZWFjdGlvbnMuZmluZEluZGV4KGl0ZW0gPT4gaXRlbSA9PT0gcmVhY3Rpb24pLCAxKTsKICAgIH0KICB9CgogIGVudGVyRWRpdCgpIHsKICAgIHRoaXMuZWRpdE1vZGUgPSB0cnVlOwogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB0aGlzLiRyZWZzLmlucHV0LmZvY3VzKCk7CiAgICB9KTsKICB9CgogIHJlc2V0RWRpdCgpIHsKICAgIHRoaXMuZWRpdE1vZGUgPSBmYWxzZTsKICAgIHRoaXMuZWRpdENvbnRlbnQgPSB0aGlzLmNvbW1lbnQuY29udGVudFJhdzsKICB9CgogIGFzeW5jIHB1dENvbW1lbnQoKSB7CiAgICB0cnkgewogICAgICBpZiAodGhpcy52c3N1ZS5pc1BlbmRpbmcpIHJldHVybjsKCiAgICAgIGlmICh0aGlzLmVkaXRDb250ZW50ICE9PSB0aGlzLmNvbW1lbnQuY29udGVudFJhdykgewogICAgICAgIHRoaXMuaXNQdXRpbmdDb21tZW50ID0gdHJ1ZTsKICAgICAgICB0aGlzLnZzc3VlLmlzVXBkYXRpbmdDb21tZW50ID0gdHJ1ZTsKICAgICAgICBjb25zdCBjb21tZW50ID0gYXdhaXQgdGhpcy52c3N1ZS5wdXRDb21tZW50KHsKICAgICAgICAgIGNvbW1lbnRJZDogdGhpcy5jb21tZW50LmlkLAogICAgICAgICAgY29udGVudDogdGhpcy5lZGl0Q29udGVudAogICAgICAgIH0pOwoKICAgICAgICBpZiAoY29tbWVudCkgewogICAgICAgICAgdGhpcy52c3N1ZS5jb21tZW50cy5kYXRhLnNwbGljZSh0aGlzLnZzc3VlLmNvbW1lbnRzLmRhdGEuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5pZCA9PT0gdGhpcy5jb21tZW50LmlkKSwgMSwgY29tbWVudCk7CiAgICAgICAgfQogICAgICB9CgogICAgICB0aGlzLmVkaXRNb2RlID0gZmFsc2U7CiAgICB9IGZpbmFsbHkgewogICAgICB0aGlzLmlzUHV0aW5nQ29tbWVudCA9IGZhbHNlOwogICAgICB0aGlzLnZzc3VlLmlzVXBkYXRpbmdDb21tZW50ID0gZmFsc2U7CiAgICB9CiAgfQoKICBhc3luYyBkZWxldGVDb21tZW50KCkgewogICAgdHJ5IHsKICAgICAgaWYgKHRoaXMudnNzdWUuaXNQZW5kaW5nKSByZXR1cm47CiAgICAgIGlmICghd2luZG93LmNvbmZpcm0odGhpcy52c3N1ZS4kdCgnZGVsZXRlQ29uZmlybScpKSkgcmV0dXJuOwogICAgICB0aGlzLmlzRGVsZXRpbmdDb21tZW50ID0gdHJ1ZTsKICAgICAgdGhpcy52c3N1ZS5pc1VwZGF0aW5nQ29tbWVudCA9IHRydWU7CiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLnZzc3VlLmRlbGV0ZUNvbW1lbnQoewogICAgICAgIGNvbW1lbnRJZDogdGhpcy5jb21tZW50LmlkCiAgICAgIH0pOwoKICAgICAgaWYgKHN1Y2Nlc3MpIHsKICAgICAgICAvLyBkZWNyZWFzZSBjb3VudCBpbW1lZGlhdGVseQogICAgICAgIHRoaXMudnNzdWUuY29tbWVudHMuY291bnQgLT0gMTsgLy8gaWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgY29tbWVudCBvbiB0aGlzIHBhZ2UsIHJlbW92ZSB0aGUgZGVsZXRlZCBjb21tZW50IGltbWVkaWF0ZWx5CgogICAgICAgIGlmICh0aGlzLnZzc3VlLmNvbW1lbnRzLmRhdGEubGVuZ3RoID4gMSkgewogICAgICAgICAgdGhpcy52c3N1ZS5jb21tZW50cy5kYXRhLnNwbGljZSh0aGlzLnZzc3VlLmNvbW1lbnRzLmRhdGEuZmluZEluZGV4KGl0ZW0gPT4gaXRlbS5pZCA9PT0gdGhpcy5jb21tZW50LmlkKSwgMSk7CiAgICAgICAgfSAvLyBpZiB0aGUgcGFnZSBjb3VudCBzaG91bGQgYmUgZGVjcmVhc2VkLCBjaGFuZ2UgdGhlIHF1ZXJ5IHBhcmFtIHRvIHRyaWdnZXIgY29tbWVudHMgcmVsb2FkCgoKICAgICAgICBpZiAodGhpcy52c3N1ZS5xdWVyeS5wYWdlID4gMSAmJiB0aGlzLnZzc3VlLnF1ZXJ5LnBhZ2UgPiBNYXRoLmNlaWwodGhpcy52c3N1ZS5jb21tZW50cy5jb3VudCAvIHRoaXMudnNzdWUucXVlcnkucGVyUGFnZSkpIHsKICAgICAgICAgIHRoaXMudnNzdWUucXVlcnkucGFnZSAtPSAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhd2FpdCB0aGlzLnZzc3VlLmdldENvbW1lbnRzKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudnNzdWUuJGVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKHRoaXMudnNzdWUuJHQoJ2RlbGV0ZUZhaWxlZCcpKSk7CiAgICAgIH0KICAgIH0gZmluYWxseSB7CiAgICAgIHRoaXMuaXNEZWxldGluZ0NvbW1lbnQgPSBmYWxzZTsKICAgICAgdGhpcy52c3N1ZS5pc1VwZGF0aW5nQ29tbWVudCA9IGZhbHNlOwogICAgfQogIH0KCn07CgpfX2RlY29yYXRlKFtQcm9wKHsKICB0eXBlOiBPYmplY3QsCiAgcmVxdWlyZWQ6IHRydWUKfSldLCBWc3N1ZUNvbW1lbnQucHJvdG90eXBlLCAiY29tbWVudCIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtJbmplY3QoKV0sIFZzc3VlQ29tbWVudC5wcm90b3R5cGUsICJ2c3N1ZSIsIHZvaWQgMCk7CgpWc3N1ZUNvbW1lbnQgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFZzc3VlSWNvbjogX192dWVfY29tcG9uZW50X18kMgogIH0KfSldLCBWc3N1ZUNvbW1lbnQpOwp2YXIgc2NyaXB0JDMgPSBWc3N1ZUNvbW1lbnQ7Ci8qIHNjcmlwdCAqLwoKY29uc3QgX192dWVfc2NyaXB0X18kMyA9IHNjcmlwdCQzOwovKiB0ZW1wbGF0ZSAqLwoKdmFyIF9fdnVlX3JlbmRlcl9fJDEgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIF92bSA9IHRoaXM7CgogIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICByZXR1cm4gX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtY29tbWVudCIsCiAgICBjbGFzczogewogICAgICAndnNzdWUtY29tbWVudC1lZGl0LW1vZGUnOiBfdm0uZWRpdE1vZGUsCiAgICAgICd2c3N1ZS1jb21tZW50LWRpc2FibGVkJzogX3ZtLmlzRGVsZXRpbmdDb21tZW50IHx8IF92bS5pc1B1dGluZ0NvbW1lbnQKICAgIH0KICB9LCBbX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtY29tbWVudC1hdmF0YXIiCiAgfSwgW19jKCdhJywgewogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiBfdm0uYXV0aG9yLmhvbWVwYWdlLAogICAgICAidGl0bGUiOiBfdm0uYXV0aG9yLnVzZXJuYW1lLAogICAgICAidGFyZ2V0IjogIl9ibGFuayIsCiAgICAgICJyZWwiOiAibm9vcGVuZXIgbm9yZWZlcnJlciIKICAgIH0KICB9LCBbX2MoJ2ltZycsIHsKICAgIGF0dHJzOiB7CiAgICAgICJzcmMiOiBfdm0uYXV0aG9yLmF2YXRhciwKICAgICAgImFsdCI6IF92bS5hdXRob3IudXNlcm5hbWUKICAgIH0KICB9KV0pXSksIF92bS5fdigiICIpLCBfYygnZGl2JywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1jb21tZW50LWJvZHkiCiAgfSwgW192bS5fdCgiYm9keSIsIFtfYygnZGl2JywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1jb21tZW50LWhlYWRlciIKICB9LCBbX2MoJ3NwYW4nLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWNvbW1lbnQtYXV0aG9yIgogIH0sIFtfYygnYScsIHsKICAgIGF0dHJzOiB7CiAgICAgICJocmVmIjogX3ZtLmF1dGhvci5ob21lcGFnZSwKICAgICAgInRpdGxlIjogX3ZtLmF1dGhvci51c2VybmFtZSwKICAgICAgInRhcmdldCI6ICJfYmxhbmsiLAogICAgICAicmVsIjogIm5vb3BlbmVyIG5vcmVmZXJyZXIiCiAgICB9CiAgfSwgW192bS5fdigiXG4gICAgICAgICAgICAiICsgX3ZtLl9zKF92bS5hdXRob3IudXNlcm5hbWUpICsgIlxuICAgICAgICAgICIpXSldKSwgX3ZtLl92KCIgIiksIF9jKCdzcGFuJywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1jb21tZW50LWNyZWF0ZWQtYXQiCiAgfSwgW192bS5fdigiXG4gICAgICAgICAgIiArIF92bS5fcyhfdm0uY3JlYXRlZEF0KSArICJcbiAgICAgICAgIildKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtY29tbWVudC1tYWluIgogIH0sIFtfdm0uZWRpdE1vZGUgPyBfYygndGV4dGFyZWEnLCB7CiAgICBkaXJlY3RpdmVzOiBbewogICAgICBuYW1lOiAibW9kZWwiLAogICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgIHZhbHVlOiBfdm0uZWRpdENvbnRlbnQsCiAgICAgIGV4cHJlc3Npb246ICJlZGl0Q29udGVudCIKICAgIH1dLAogICAgcmVmOiAiaW5wdXQiLAogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1lZGl0LWNvbW1lbnQtaW5wdXQiLAogICAgYXR0cnM6IHsKICAgICAgInJvd3MiOiBfdm0uZWRpdElucHV0Um93cwogICAgfSwKICAgIGRvbVByb3BzOiB7CiAgICAgICJ2YWx1ZSI6IF92bS5lZGl0Q29udGVudAogICAgfSwKICAgIG9uOiB7CiAgICAgICJrZXl1cCI6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICBpZiAoISRldmVudC50eXBlLmluZGV4T2YoJ2tleScpICYmIF92bS5faygkZXZlbnQua2V5Q29kZSwgImVudGVyIiwgMTMsICRldmVudC5rZXksICJFbnRlciIpKSB7CiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICB9CgogICAgICAgIGlmICghJGV2ZW50LmN0cmxLZXkpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIF92bS5wdXRDb21tZW50KCk7CiAgICAgIH0sCiAgICAgICJpbnB1dCI6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICBpZiAoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIF92bS5lZGl0Q29udGVudCA9ICRldmVudC50YXJnZXQudmFsdWU7CiAgICAgIH0KICAgIH0KICB9KSA6IF9jKCdhcnRpY2xlJywgewogICAgc3RhdGljQ2xhc3M6ICJtYXJrZG93bi1ib2R5IiwKICAgIGRvbVByb3BzOiB7CiAgICAgICJpbm5lckhUTUwiOiBfdm0uX3MoX3ZtLmNvbnRlbnQpCiAgICB9CiAgfSldKSwgX3ZtLl92KCIgIiksIF9jKCdkaXYnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWNvbW1lbnQtZm9vdGVyIgogIH0sIFtfdm0uZWRpdE1vZGUgPyBfYygnc3BhbicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtY29tbWVudC1oaW50IgogIH0sIFtfdm0uX3YoIlxuICAgICAgICAgICIgKyBfdm0uX3MoX3ZtLnZzc3VlLiR0KCdlZGl0TW9kZScpKSArICJcbiAgICAgICAgIildKSA6IF92bS5fZSgpLCBfdm0uX3YoIiAiKSwgX3ZtLnNob3dSZWFjdGlvbnMgPyBfYygnc3BhbicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtY29tbWVudC1yZWFjdGlvbnMiCiAgfSwgX3ZtLl9sKF92bS5yZWFjdGlvbktleXMsIGZ1bmN0aW9uIChyZWFjdGlvbikgewogICAgcmV0dXJuIF9jKCdzcGFuJywgewogICAgICBrZXk6IHJlYWN0aW9uLAogICAgICBzdGF0aWNDbGFzczogInZzc3VlLWNvbW1lbnQtcmVhY3Rpb24iLAogICAgICBhdHRyczogewogICAgICAgICJ0aXRsZSI6IF92bS52c3N1ZS4kdChfdm0uY3JlYXRpbmdSZWFjdGlvbnMuaW5jbHVkZXMocmVhY3Rpb24pID8gJ2xvYWRpbmcnIDogcmVhY3Rpb24pCiAgICAgIH0sCiAgICAgIG9uOiB7CiAgICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgcmV0dXJuIF92bS5wb3N0UmVhY3Rpb24oewogICAgICAgICAgICByZWFjdGlvbjogcmVhY3Rpb24KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwgW19jKCdWc3N1ZUljb24nLCB7CiAgICAgIGF0dHJzOiB7CiAgICAgICAgIm5hbWUiOiBfdm0uY3JlYXRpbmdSZWFjdGlvbnMuaW5jbHVkZXMocmVhY3Rpb24pID8gJ2xvYWRpbmcnIDogcmVhY3Rpb24sCiAgICAgICAgInRpdGxlIjogX3ZtLnZzc3VlLiR0KF92bS5jcmVhdGluZ1JlYWN0aW9ucy5pbmNsdWRlcyhyZWFjdGlvbikgPyAnbG9hZGluZycgOiByZWFjdGlvbikKICAgICAgfQogICAgfSksIF92bS5fdigiICIpLCBfYygnc3BhbicsIHsKICAgICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1jb21tZW50LXJlYWN0aW9uLW51bWJlciIKICAgIH0sIFtfdm0uX3YoIlxuICAgICAgICAgICAgICAiICsgX3ZtLl9zKF92bS5jb21tZW50LnJlYWN0aW9uc1tyZWFjdGlvbl0pICsgIlxuICAgICAgICAgICAgIildKV0sIDEpOwogIH0pLCAwKSA6IF92bS5fZSgpLCBfdm0uX3YoIiAiKSwgX2MoJ3NwYW4nLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWNvbW1lbnQtb3BlcmF0aW9ucyIKICB9LCBbX3ZtLmNvbW1lbnQuYXV0aG9yLnVzZXJuYW1lID09PSBfdm0uY3VycmVudFVzZXIgJiYgX3ZtLmVkaXRNb2RlID8gX2MoJ3NwYW4nLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWNvbW1lbnQtb3BlcmF0aW9uIiwKICAgIGNsYXNzOiB7CiAgICAgICd2c3N1ZS1jb21tZW50LW9wZXJhdGlvbi1tdXRlZCc6IF92bS5pc1B1dGluZ0NvbW1lbnQKICAgIH0sCiAgICBhdHRyczogewogICAgICAidGl0bGUiOiBfdm0udnNzdWUuJHQoX3ZtLmlzUHV0aW5nQ29tbWVudCA/ICdsb2FkaW5nJyA6ICdzdWJtaXQnKQogICAgfSwKICAgIG9uOiB7CiAgICAgICJjbGljayI6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICByZXR1cm4gX3ZtLnB1dENvbW1lbnQoKTsKICAgICAgfQogICAgfQogIH0sIFtfYygnVnNzdWVJY29uJywgewogICAgZGlyZWN0aXZlczogW3sKICAgICAgbmFtZTogInNob3ciLAogICAgICByYXdOYW1lOiAidi1zaG93IiwKICAgICAgdmFsdWU6IF92bS5pc1B1dGluZ0NvbW1lbnQsCiAgICAgIGV4cHJlc3Npb246ICJpc1B1dGluZ0NvbW1lbnQiCiAgICB9XSwKICAgIGF0dHJzOiB7CiAgICAgICJuYW1lIjogImxvYWRpbmciLAogICAgICAidGl0bGUiOiBfdm0udnNzdWUuJHQoJ2xvYWRpbmcnKQogICAgfQogIH0pLCBfdm0uX3YoIlxuXG4gICAgICAgICAgICAiICsgX3ZtLl9zKF92bS52c3N1ZS4kdCgnc3VibWl0JykpICsgIlxuICAgICAgICAgICIpXSwgMSkgOiBfdm0uX2UoKSwgX3ZtLl92KCIgIiksIF92bS5jb21tZW50LmF1dGhvci51c2VybmFtZSA9PT0gX3ZtLmN1cnJlbnRVc2VyICYmIF92bS5lZGl0TW9kZSA/IF9jKCdzcGFuJywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1jb21tZW50LW9wZXJhdGlvbiB2c3N1ZS1jb21tZW50LW9wZXJhdGlvbi1tdXRlZCIsCiAgICBhdHRyczogewogICAgICAidGl0bGUiOiBfdm0udnNzdWUuJHQoJ2NhbmNlbCcpCiAgICB9LAogICAgb246IHsKICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIHJldHVybiBfdm0ucmVzZXRFZGl0KCk7CiAgICAgIH0KICAgIH0KICB9LCBbX3ZtLl92KCJcbiAgICAgICAgICAgICIgKyBfdm0uX3MoX3ZtLnZzc3VlLiR0KCdjYW5jZWwnKSkgKyAiXG4gICAgICAgICAgIildKSA6IF92bS5fZSgpLCBfdm0uX3YoIiAiKSwgX3ZtLmNvbW1lbnQuYXV0aG9yLnVzZXJuYW1lID09PSBfdm0uY3VycmVudFVzZXIgPyBfYygnc3BhbicsIHsKICAgIGRpcmVjdGl2ZXM6IFt7CiAgICAgIG5hbWU6ICJzaG93IiwKICAgICAgcmF3TmFtZTogInYtc2hvdyIsCiAgICAgIHZhbHVlOiAhX3ZtLmVkaXRNb2RlLAogICAgICBleHByZXNzaW9uOiAiIWVkaXRNb2RlIgogICAgfV0sCiAgICBzdGF0aWNDbGFzczogInZzc3VlLWNvbW1lbnQtb3BlcmF0aW9uIiwKICAgIG9uOiB7CiAgICAgICJjbGljayI6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICByZXR1cm4gX3ZtLmVudGVyRWRpdCgpOwogICAgICB9CiAgICB9CiAgfSwgW19jKCdWc3N1ZUljb24nLCB7CiAgICBhdHRyczogewogICAgICAibmFtZSI6ICJlZGl0IiwKICAgICAgInRpdGxlIjogX3ZtLnZzc3VlLiR0KCdlZGl0JykKICAgIH0KICB9KV0sIDEpIDogX3ZtLl9lKCksIF92bS5fdigiICIpLCBfdm0uY29tbWVudC5hdXRob3IudXNlcm5hbWUgPT09IF92bS5jdXJyZW50VXNlciB8fCBfdm0udnNzdWUuaXNBZG1pbiA/IF9jKCdzcGFuJywgewogICAgZGlyZWN0aXZlczogW3sKICAgICAgbmFtZTogInNob3ciLAogICAgICByYXdOYW1lOiAidi1zaG93IiwKICAgICAgdmFsdWU6ICFfdm0uZWRpdE1vZGUsCiAgICAgIGV4cHJlc3Npb246ICIhZWRpdE1vZGUiCiAgICB9XSwKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtY29tbWVudC1vcGVyYXRpb24iLAogICAgb246IHsKICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIHJldHVybiBfdm0uZGVsZXRlQ29tbWVudCgpOwogICAgICB9CiAgICB9CiAgfSwgW19jKCdWc3N1ZUljb24nLCB7CiAgICBhdHRyczogewogICAgICAibmFtZSI6IF92bS5pc0RlbGV0aW5nQ29tbWVudCA/ICdsb2FkaW5nJyA6ICdkZWxldGUnLAogICAgICAidGl0bGUiOiBfdm0udnNzdWUuJHQoX3ZtLmlzRGVsZXRpbmdDb21tZW50ID8gJ2xvYWRpbmcnIDogJ2RlbGV0ZScpCiAgICB9CiAgfSldLCAxKSA6IF92bS5fZSgpLCBfdm0uX3YoIiAiKSwgX2MoJ3NwYW4nLCB7CiAgICBkaXJlY3RpdmVzOiBbewogICAgICBuYW1lOiAic2hvdyIsCiAgICAgIHJhd05hbWU6ICJ2LXNob3ciLAogICAgICB2YWx1ZTogIV92bS5lZGl0TW9kZSwKICAgICAgZXhwcmVzc2lvbjogIiFlZGl0TW9kZSIKICAgIH1dLAogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1jb21tZW50LW9wZXJhdGlvbiIsCiAgICBvbjogewogICAgICAiY2xpY2siOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuIF92bS52c3N1ZS4kZW1pdCgncmVwbHktY29tbWVudCcsIF92bS5jb21tZW50KTsKICAgICAgfQogICAgfQogIH0sIFtfYygnVnNzdWVJY29uJywgewogICAgYXR0cnM6IHsKICAgICAgIm5hbWUiOiAicmVwbHkiLAogICAgICAidGl0bGUiOiBfdm0udnNzdWUuJHQoJ3JlcGx5JykKICAgIH0KICB9KV0sIDEpXSldKV0pXSwgMildKTsKfTsKCnZhciBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQxID0gW107Ci8qIHN0eWxlICovCgpjb25zdCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kMyA9IHVuZGVmaW5lZDsKLyogc2NvcGVkICovCgpjb25zdCBfX3Z1ZV9zY29wZV9pZF9fJDMgPSB1bmRlZmluZWQ7Ci8qIG1vZHVsZSBpZGVudGlmaWVyICovCgpjb25zdCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDMgPSB1bmRlZmluZWQ7Ci8qIGZ1bmN0aW9uYWwgdGVtcGxhdGUgKi8KCmNvbnN0IF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyQzID0gZmFsc2U7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJDMgPSBub3JtYWxpemVDb21wb25lbnQoewogIHJlbmRlcjogX192dWVfcmVuZGVyX18kMSwKICBzdGF0aWNSZW5kZXJGbnM6IF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDEKfSwgX192dWVfaW5qZWN0X3N0eWxlc19fJDMsIF9fdnVlX3NjcmlwdF9fJDMsIF9fdnVlX3Njb3BlX2lkX18kMywgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDMsIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kMywgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwoKbGV0IFZzc3VlUGFnaW5hdGlvbiA9IGNsYXNzIFZzc3VlUGFnaW5hdGlvbiBleHRlbmRzIFZ1ZSQxIHsKICBnZXQgZGlzYWJsZWQoKSB7CiAgICByZXR1cm4gdGhpcy52c3N1ZS5pc1BlbmRpbmc7CiAgfQoKICBnZXQgcGFnZUNvdW50KCkgewogICAgY29uc3QgcGFnZUNvdW50ID0gTWF0aC5jZWlsKHRoaXMudnNzdWUuY29tbWVudHMuY291bnQgLyB0aGlzLnZzc3VlLmNvbW1lbnRzLnBlclBhZ2UpOwogICAgcmV0dXJuIHBhZ2VDb3VudCA+IDEgPyBwYWdlQ291bnQgOiAxOwogIH0KCiAgZ2V0IHBlclBhZ2VPcHRpb25zKCkgewogICAgY29uc3QgcGVyUGFnZU9wdGlvbnMgPSBbNSwgMTAsIDIwLCA1MF07CgogICAgaWYgKCFwZXJQYWdlT3B0aW9ucy5pbmNsdWRlcyh0aGlzLnZzc3VlLm9wdGlvbnMucGVyUGFnZSkgJiYgdGhpcy52c3N1ZS5vcHRpb25zLnBlclBhZ2UgPCAxMDApIHsKICAgICAgcGVyUGFnZU9wdGlvbnMucHVzaCh0aGlzLnZzc3VlLm9wdGlvbnMucGVyUGFnZSk7CiAgICB9CgogICAgcmV0dXJuIHBlclBhZ2VPcHRpb25zLnNvcnQoKGEsIGIpID0+IGEgLSBiKTsKICB9CgogIGdldCBwYWdlKCkgewogICAgcmV0dXJuIHRoaXMudnNzdWUucXVlcnkucGFnZSA+IHRoaXMucGFnZUNvdW50ID8gdGhpcy5wYWdlQ291bnQgOiB0aGlzLnZzc3VlLnF1ZXJ5LnBhZ2U7CiAgfQoKICBzZXQgcGFnZSh2YWwpIHsKICAgIGlmICh2YWwgPiAwICYmIHZhbCA8PSB0aGlzLnBhZ2VDb3VudCkgewogICAgICB0aGlzLnZzc3VlLnF1ZXJ5LnBhZ2UgPSB2YWw7CiAgICB9CiAgfQoKICBnZXQgcGVyUGFnZSgpIHsKICAgIHJldHVybiB0aGlzLnZzc3VlLnF1ZXJ5LnBlclBhZ2U7CiAgfQoKICBzZXQgcGVyUGFnZSh2YWwpIHsKICAgIGlmICh0aGlzLnBlclBhZ2VPcHRpb25zLmluY2x1ZGVzKHZhbCkpIHsKICAgICAgdGhpcy52c3N1ZS5xdWVyeS5wZXJQYWdlID0gdmFsOwogICAgfQogIH0KCn07CgpfX2RlY29yYXRlKFtJbmplY3QoKV0sIFZzc3VlUGFnaW5hdGlvbi5wcm90b3R5cGUsICJ2c3N1ZSIsIHZvaWQgMCk7CgpWc3N1ZVBhZ2luYXRpb24gPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFZzc3VlSWNvbjogX192dWVfY29tcG9uZW50X18kMgogIH0KfSldLCBWc3N1ZVBhZ2luYXRpb24pOwp2YXIgc2NyaXB0JDQgPSBWc3N1ZVBhZ2luYXRpb247Ci8qIHNjcmlwdCAqLwoKY29uc3QgX192dWVfc2NyaXB0X18kNCA9IHNjcmlwdCQ0OwovKiB0ZW1wbGF0ZSAqLwoKdmFyIF9fdnVlX3JlbmRlcl9fJDIgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIF92bSA9IHRoaXM7CgogIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICByZXR1cm4gX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtcGFnaW5hdGlvbiIKICB9LCBbX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtcGFnaW5hdGlvbi1wZXItcGFnZSIKICB9LCBbX2MoJ2xhYmVsJywgW19jKCdzZWxlY3QnLCB7CiAgICBkaXJlY3RpdmVzOiBbewogICAgICBuYW1lOiAibW9kZWwiLAogICAgICByYXdOYW1lOiAidi1tb2RlbCIsCiAgICAgIHZhbHVlOiBfdm0ucGVyUGFnZSwKICAgICAgZXhwcmVzc2lvbjogInBlclBhZ2UiCiAgICB9XSwKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtcGFnaW5hdGlvbi1zZWxlY3QiLAogICAgYXR0cnM6IHsKICAgICAgImRpc2FibGVkIjogX3ZtLmRpc2FibGVkCiAgICB9LAogICAgb246IHsKICAgICAgImNoYW5nZSI6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICB2YXIgJCRzZWxlY3RlZFZhbCA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbCgkZXZlbnQudGFyZ2V0Lm9wdGlvbnMsIGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICByZXR1cm4gby5zZWxlY3RlZDsKICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgIHZhciB2YWwgPSAiX3ZhbHVlIiBpbiBvID8gby5fdmFsdWUgOiBvLnZhbHVlOwogICAgICAgICAgcmV0dXJuIHZhbDsKICAgICAgICB9KTsKICAgICAgICBfdm0ucGVyUGFnZSA9ICRldmVudC50YXJnZXQubXVsdGlwbGUgPyAkJHNlbGVjdGVkVmFsIDogJCRzZWxlY3RlZFZhbFswXTsKICAgICAgfQogICAgfQogIH0sIF92bS5fbChfdm0ucGVyUGFnZU9wdGlvbnMsIGZ1bmN0aW9uICh2YWwpIHsKICAgIHJldHVybiBfYygnb3B0aW9uJywgewogICAgICBrZXk6IHZhbCwKICAgICAgZG9tUHJvcHM6IHsKICAgICAgICAidmFsdWUiOiB2YWwKICAgICAgfQogICAgfSwgW192bS5fdigiXG4gICAgICAgICAgIiArIF92bS5fcyh2YWwpICsgIlxuICAgICAgICAiKV0pOwogIH0pLCAwKSwgX3ZtLl92KCIgIiksIF9jKCdzcGFuJywgW192bS5fdigiXG4gICAgICAgICIgKyBfdm0uX3MoX3ZtLnZzc3VlLiR0KCdwZXJQYWdlJykpICsgIlxuICAgICAgIildKV0pLCBfdm0uX3YoIiAiKSwgX3ZtLnZzc3VlLkFQSS5wbGF0Zm9ybS5tZXRhLnNvcnRhYmxlID8gX2MoJ3NwYW4nLCB7CiAgICBjbGFzczogewogICAgICAndnNzdWUtcGFnaW5hdGlvbi1saW5rJzogdHJ1ZSwKICAgICAgZGlzYWJsZWQ6IF92bS5kaXNhYmxlZAogICAgfSwKICAgIGF0dHJzOiB7CiAgICAgICJ0aXRsZSI6IF92bS52c3N1ZS4kdCgnc29ydCcpCiAgICB9LAogICAgb246IHsKICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIF92bS52c3N1ZS5xdWVyeS5zb3J0ID0gX3ZtLnZzc3VlLnF1ZXJ5LnNvcnQgPT09ICdhc2MnID8gJ2Rlc2MnIDogJ2FzYyc7CiAgICAgIH0KICAgIH0KICB9LCBbX3ZtLl92KCJcbiAgICAgICIgKyBfdm0uX3MoX3ZtLnZzc3VlLnF1ZXJ5LnNvcnQgPT09ICdhc2MnID8gIuKGkSIgOiAi4oaTIikgKyAiXG4gICAgIildKSA6IF92bS5fZSgpXSksIF92bS5fdigiICIpLCBfYygnZGl2JywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1wYWdpbmF0aW9uLXBhZ2UiCiAgfSwgW19jKCdzcGFuJywgewogICAgY2xhc3M6IHsKICAgICAgJ3Zzc3VlLXBhZ2luYXRpb24tbGluayc6IHRydWUsCiAgICAgIGRpc2FibGVkOiBfdm0ucGFnZSA9PT0gMSB8fCBfdm0uZGlzYWJsZWQKICAgIH0sCiAgICBhdHRyczogewogICAgICAidGl0bGUiOiBfdm0udnNzdWUuJHQoJ3ByZXYnKQogICAgfSwKICAgIGRvbVByb3BzOiB7CiAgICAgICJ0ZXh0Q29udGVudCI6IF92bS5fcygiPCIpCiAgICB9LAogICAgb246IHsKICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIF92bS5wYWdlIC09IDE7CiAgICAgIH0KICAgIH0KICB9KSwgX3ZtLl92KCIgIiksIF9jKCdsYWJlbCcsIFtfYygnc3BhbicsIFtfdm0uX3YoIlxuICAgICAgICAiICsgX3ZtLl9zKF92bS52c3N1ZS4kdCgncGFnZScpKSArICJcbiAgICAgICIpXSksIF92bS5fdigiICIpLCBfYygnc2VsZWN0JywgewogICAgZGlyZWN0aXZlczogW3sKICAgICAgbmFtZTogInNob3ciLAogICAgICByYXdOYW1lOiAidi1zaG93IiwKICAgICAgdmFsdWU6IF92bS5wYWdlQ291bnQgPiAxLAogICAgICBleHByZXNzaW9uOiAicGFnZUNvdW50ID4gMSIKICAgIH0sIHsKICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICB2YWx1ZTogX3ZtLnBhZ2UsCiAgICAgIGV4cHJlc3Npb246ICJwYWdlIgogICAgfV0sCiAgICBzdGF0aWNDbGFzczogInZzc3VlLXBhZ2luYXRpb24tc2VsZWN0IiwKICAgIGF0dHJzOiB7CiAgICAgICJkaXNhYmxlZCI6IF92bS5kaXNhYmxlZAogICAgfSwKICAgIG9uOiB7CiAgICAgICJjaGFuZ2UiOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgdmFyICQkc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoJGV2ZW50LnRhcmdldC5vcHRpb25zLCBmdW5jdGlvbiAobykgewogICAgICAgICAgcmV0dXJuIG8uc2VsZWN0ZWQ7CiAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChvKSB7CiAgICAgICAgICB2YXIgdmFsID0gIl92YWx1ZSIgaW4gbyA/IG8uX3ZhbHVlIDogby52YWx1ZTsKICAgICAgICAgIHJldHVybiB2YWw7CiAgICAgICAgfSk7CiAgICAgICAgX3ZtLnBhZ2UgPSAkZXZlbnQudGFyZ2V0Lm11bHRpcGxlID8gJCRzZWxlY3RlZFZhbCA6ICQkc2VsZWN0ZWRWYWxbMF07CiAgICAgIH0KICAgIH0KICB9LCBfdm0uX2woX3ZtLnBhZ2VDb3VudCwgZnVuY3Rpb24gKHZhbCkgewogICAgcmV0dXJuIF9jKCdvcHRpb24nLCB7CiAgICAgIGtleTogdmFsLAogICAgICBkb21Qcm9wczogewogICAgICAgICJ2YWx1ZSI6IHZhbAogICAgICB9CiAgICB9LCBbX3ZtLl92KCJcbiAgICAgICAgICAiICsgX3ZtLl9zKHZhbCkgKyAiXG4gICAgICAgICIpXSk7CiAgfSksIDApLCBfdm0uX3YoIiAiKSwgX2MoJ3NwYW4nLCB7CiAgICBkaXJlY3RpdmVzOiBbewogICAgICBuYW1lOiAic2hvdyIsCiAgICAgIHJhd05hbWU6ICJ2LXNob3ciLAogICAgICB2YWx1ZTogX3ZtLnBhZ2VDb3VudCA8IDIsCiAgICAgIGV4cHJlc3Npb246ICJwYWdlQ291bnQgPCAyIgogICAgfV0sCiAgICBkb21Qcm9wczogewogICAgICAidGV4dENvbnRlbnQiOiBfdm0uX3MoX3ZtLnBhZ2UpCiAgICB9CiAgfSksIF92bS5fdigiICIpLCBfYygnc3BhbicsIHsKICAgIGRvbVByb3BzOiB7CiAgICAgICJ0ZXh0Q29udGVudCI6IF92bS5fcygiIC8gIiArIF92bS5wYWdlQ291bnQgKyAiICIpCiAgICB9CiAgfSldKSwgX3ZtLl92KCIgIiksIF9jKCdzcGFuJywgewogICAgY2xhc3M6IHsKICAgICAgJ3Zzc3VlLXBhZ2luYXRpb24tbGluayc6IHRydWUsCiAgICAgIGRpc2FibGVkOiBfdm0ucGFnZSA9PT0gX3ZtLnBhZ2VDb3VudCB8fCBfdm0uZGlzYWJsZWQKICAgIH0sCiAgICBhdHRyczogewogICAgICAidGl0bGUiOiBfdm0udnNzdWUuJHQoJ25leHQnKQogICAgfSwKICAgIGRvbVByb3BzOiB7CiAgICAgICJ0ZXh0Q29udGVudCI6IF92bS5fcygiPiIpCiAgICB9LAogICAgb246IHsKICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIF92bS5wYWdlICs9IDE7CiAgICAgIH0KICAgIH0KICB9KV0pXSk7Cn07Cgp2YXIgX192dWVfc3RhdGljUmVuZGVyRm5zX18kMiA9IFtdOwovKiBzdHlsZSAqLwoKY29uc3QgX192dWVfaW5qZWN0X3N0eWxlc19fJDQgPSB1bmRlZmluZWQ7Ci8qIHNjb3BlZCAqLwoKY29uc3QgX192dWVfc2NvcGVfaWRfXyQ0ID0gdW5kZWZpbmVkOwovKiBtb2R1bGUgaWRlbnRpZmllciAqLwoKY29uc3QgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyQ0ID0gdW5kZWZpbmVkOwovKiBmdW5jdGlvbmFsIHRlbXBsYXRlICovCgpjb25zdCBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18kNCA9IGZhbHNlOwovKiBzdHlsZSBpbmplY3QgKi8KCi8qIHN0eWxlIGluamVjdCBTU1IgKi8KCi8qIHN0eWxlIGluamVjdCBzaGFkb3cgZG9tICovCgpjb25zdCBfX3Z1ZV9jb21wb25lbnRfXyQ0ID0gbm9ybWFsaXplQ29tcG9uZW50KHsKICByZW5kZXI6IF9fdnVlX3JlbmRlcl9fJDIsCiAgc3RhdGljUmVuZGVyRm5zOiBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQyCn0sIF9fdnVlX2luamVjdF9zdHlsZXNfXyQ0LCBfX3Z1ZV9zY3JpcHRfXyQ0LCBfX3Z1ZV9zY29wZV9pZF9fJDQsIF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyQ0LCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDQsIGZhbHNlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsKCmxldCBWc3N1ZUNvbW1lbnRzID0gY2xhc3MgVnNzdWVDb21tZW50cyBleHRlbmRzIFZ1ZSQxIHt9OwoKX19kZWNvcmF0ZShbSW5qZWN0KCldLCBWc3N1ZUNvbW1lbnRzLnByb3RvdHlwZSwgInZzc3VlIiwgdm9pZCAwKTsKClZzc3VlQ29tbWVudHMgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFRyYW5zaXRpb25GYWRlOiBfX3Z1ZV9jb21wb25lbnRfXyQxLAogICAgVnNzdWVDb21tZW50OiBfX3Z1ZV9jb21wb25lbnRfXyQzLAogICAgVnNzdWVQYWdpbmF0aW9uOiBfX3Z1ZV9jb21wb25lbnRfXyQ0CiAgfQp9KV0sIFZzc3VlQ29tbWVudHMpOwp2YXIgc2NyaXB0JDUgPSBWc3N1ZUNvbW1lbnRzOwovKiBzY3JpcHQgKi8KCmNvbnN0IF9fdnVlX3NjcmlwdF9fJDUgPSBzY3JpcHQkNTsKLyogdGVtcGxhdGUgKi8KCnZhciBfX3Z1ZV9yZW5kZXJfXyQzID0gZnVuY3Rpb24gKCkgewogIHZhciBfdm0gPSB0aGlzOwoKICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWNvbW1lbnRzIgogIH0sIFtfYygnVnNzdWVQYWdpbmF0aW9uJyksIF92bS5fdigiICIpLCBfYygnVHJhbnNpdGlvbkZhZGUnLCB7CiAgICBhdHRyczogewogICAgICAiZ3JvdXAiOiAiIgogICAgfQogIH0sIF92bS5fbChfdm0udnNzdWUuY29tbWVudHMuZGF0YSwgZnVuY3Rpb24gKGNvbW1lbnQpIHsKICAgIHJldHVybiBfYygnVnNzdWVDb21tZW50JywgewogICAgICBrZXk6IGNvbW1lbnQuaWQsCiAgICAgIGF0dHJzOiB7CiAgICAgICAgImNvbW1lbnQiOiBjb21tZW50CiAgICAgIH0KICAgIH0pOwogIH0pLCAxKSwgX3ZtLl92KCIgIiksIF9jKCdWc3N1ZVBhZ2luYXRpb24nLCB7CiAgICBkaXJlY3RpdmVzOiBbewogICAgICBuYW1lOiAic2hvdyIsCiAgICAgIHJhd05hbWU6ICJ2LXNob3ciLAogICAgICB2YWx1ZTogX3ZtLnZzc3VlLmNvbW1lbnRzLmRhdGEubGVuZ3RoID4gNSwKICAgICAgZXhwcmVzc2lvbjogInZzc3VlLmNvbW1lbnRzLmRhdGEubGVuZ3RoID4gNSIKICAgIH1dCiAgfSldLCAxKTsKfTsKCnZhciBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQzID0gW107Ci8qIHN0eWxlICovCgpjb25zdCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kNSA9IHVuZGVmaW5lZDsKLyogc2NvcGVkICovCgpjb25zdCBfX3Z1ZV9zY29wZV9pZF9fJDUgPSB1bmRlZmluZWQ7Ci8qIG1vZHVsZSBpZGVudGlmaWVyICovCgpjb25zdCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDUgPSB1bmRlZmluZWQ7Ci8qIGZ1bmN0aW9uYWwgdGVtcGxhdGUgKi8KCmNvbnN0IF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyQ1ID0gZmFsc2U7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJDUgPSBub3JtYWxpemVDb21wb25lbnQoewogIHJlbmRlcjogX192dWVfcmVuZGVyX18kMywKICBzdGF0aWNSZW5kZXJGbnM6IF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDMKfSwgX192dWVfaW5qZWN0X3N0eWxlc19fJDUsIF9fdnVlX3NjcmlwdF9fJDUsIF9fdnVlX3Njb3BlX2lkX18kNSwgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDUsIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kNSwgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwoKdmFyIHNjcmlwdCQ2ID0gVnVlLmV4dGVuZCh7CiAgbmFtZTogJ1Zzc3VlSWNvbicsCiAgZnVuY3Rpb25hbDogdHJ1ZSwKICBwcm9wczogewogICAgdHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ2RlZmF1bHQnCiAgICB9CiAgfSwKCiAgcmVuZGVyKGgsIHsKICAgIHByb3BzLAogICAgZGF0YSwKICAgIGNoaWxkcmVuCiAgfSkgewogICAgcmV0dXJuIGgoJ2J1dHRvbicsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGF0YSksIHsKICAgICAgY2xhc3M6IFsndnNzdWUtYnV0dG9uJywgYHZzc3VlLWJ1dHRvbi0ke3Byb3BzLnR5cGV9YF0KICAgIH0pLCBjaGlsZHJlbik7CiAgfQoKfSk7Ci8qIHNjcmlwdCAqLwoKY29uc3QgX192dWVfc2NyaXB0X18kNiA9IHNjcmlwdCQ2OwovKiB0ZW1wbGF0ZSAqLwoKLyogc3R5bGUgKi8KCmNvbnN0IF9fdnVlX2luamVjdF9zdHlsZXNfXyQ2ID0gdW5kZWZpbmVkOwovKiBzY29wZWQgKi8KCmNvbnN0IF9fdnVlX3Njb3BlX2lkX18kNiA9IHVuZGVmaW5lZDsKLyogbW9kdWxlIGlkZW50aWZpZXIgKi8KCmNvbnN0IF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kNiA9IHVuZGVmaW5lZDsKLyogZnVuY3Rpb25hbCB0ZW1wbGF0ZSAqLwoKY29uc3QgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDYgPSB1bmRlZmluZWQ7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJDYgPSBub3JtYWxpemVDb21wb25lbnQoe30sIF9fdnVlX2luamVjdF9zdHlsZXNfXyQ2LCBfX3Z1ZV9zY3JpcHRfXyQ2LCBfX3Z1ZV9zY29wZV9pZF9fJDYsIF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyQ2LCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDYsIGZhbHNlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsKCmxldCBWc3N1ZU5ld0NvbW1lbnQgPSBjbGFzcyBWc3N1ZU5ld0NvbW1lbnQgZXh0ZW5kcyBWdWUkMSB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlciguLi5hcmd1bWVudHMpOwogICAgdGhpcy5jb250ZW50ID0gJyc7CiAgfQoKICBnZXQgdXNlcigpIHsKICAgIHJldHVybiB0aGlzLnZzc3VlLnVzZXI7CiAgfQoKICBnZXQgcGxhdGZvcm0oKSB7CiAgICByZXR1cm4gdGhpcy52c3N1ZS5BUEkgJiYgdGhpcy52c3N1ZS5BUEkucGxhdGZvcm0ubmFtZTsKICB9CgogIGdldCBpc0lucHV0RGlzYWJsZWQoKSB7CiAgICByZXR1cm4gdGhpcy5sb2FkaW5nIHx8IHRoaXMudXNlciA9PT0gbnVsbCB8fCB0aGlzLnZzc3VlLmlzc3VlID09PSBudWxsOwogIH0KCiAgZ2V0IGlzU3VibWl0RGlzYWJsZWQoKSB7CiAgICByZXR1cm4gdGhpcy5jb250ZW50ID09PSAnJyB8fCB0aGlzLnZzc3VlLmlzUGVuZGluZyB8fCB0aGlzLnZzc3VlLmlzc3VlID09PSBudWxsOwogIH0KCiAgZ2V0IGxvYWRpbmcoKSB7CiAgICByZXR1cm4gdGhpcy52c3N1ZS5pc0NyZWF0aW5nQ29tbWVudDsKICB9CgogIGdldCBjb250ZW50Um93cygpIHsKICAgIHJldHVybiB0aGlzLmNvbnRlbnQuc3BsaXQoJ1xuJykubGVuZ3RoIC0gMTsKICB9CgogIGdldCBpbnB1dFJvd3MoKSB7CiAgICByZXR1cm4gdGhpcy5jb250ZW50Um93cyA8IDMgPyA1IDogdGhpcy5jb250ZW50Um93cyArIDI7CiAgfQoKICBjcmVhdGVkKCkgewogICAgdGhpcy52c3N1ZS4kb24oJ3JlcGx5LWNvbW1lbnQnLCBjb21tZW50ID0+IHsKICAgICAgY29uc3QgcXVvdGVkQ29tbWVudCA9IGNvbW1lbnQuY29udGVudFJhdy5yZXBsYWNlKC9cbi9nLCAnXG4+ICcpOwogICAgICBjb25zdCByZXBseUNvbnRlbnQgPSBgQCR7Y29tbWVudC5hdXRob3IudXNlcm5hbWV9XG5cbj4gJHtxdW90ZWRDb21tZW50fVxuXG5gOwogICAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLmNvbnRlbnQuY29uY2F0KHJlcGx5Q29udGVudCk7CiAgICAgIHRoaXMuZm9jdXMoKTsKICAgIH0pOwogIH0KCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMudnNzdWUuJG9mZigncmVwbHktY29tbWVudCcpOwogIH0KCiAgZm9jdXMoKSB7CiAgICB0aGlzLiRyZWZzLmlucHV0LmZvY3VzKCk7CiAgfQoKICBhc3luYyBzdWJtaXQoKSB7CiAgICBpZiAodGhpcy5pc1N1Ym1pdERpc2FibGVkKSByZXR1cm47CiAgICBhd2FpdCB0aGlzLnZzc3VlLnBvc3RDb21tZW50KHsKICAgICAgY29udGVudDogdGhpcy5jb250ZW50CiAgICB9KTsKICAgIHRoaXMuY29udGVudCA9ICcnOwogICAgYXdhaXQgdGhpcy52c3N1ZS5nZXRDb21tZW50cygpOwogIH0KCn07CgpfX2RlY29yYXRlKFtJbmplY3QoKV0sIFZzc3VlTmV3Q29tbWVudC5wcm90b3R5cGUsICJ2c3N1ZSIsIHZvaWQgMCk7CgpWc3N1ZU5ld0NvbW1lbnQgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFZzc3VlQnV0dG9uOiBfX3Z1ZV9jb21wb25lbnRfXyQ2LAogICAgVnNzdWVJY29uOiBfX3Z1ZV9jb21wb25lbnRfXyQyCiAgfQp9KV0sIFZzc3VlTmV3Q29tbWVudCk7CnZhciBzY3JpcHQkNyA9IFZzc3VlTmV3Q29tbWVudDsKLyogc2NyaXB0ICovCgpjb25zdCBfX3Z1ZV9zY3JpcHRfXyQ3ID0gc2NyaXB0JDc7Ci8qIHRlbXBsYXRlICovCgp2YXIgX192dWVfcmVuZGVyX18kNCA9IGZ1bmN0aW9uICgpIHsKICB2YXIgX3ZtID0gdGhpczsKCiAgdmFyIF9oID0gX3ZtLiRjcmVhdGVFbGVtZW50OwoKICB2YXIgX2MgPSBfdm0uX3NlbGYuX2MgfHwgX2g7CgogIHJldHVybiBfYygnZGl2JywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1uZXctY29tbWVudCIKICB9LCBbX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtY29tbWVudC1hdmF0YXIiCiAgfSwgW192bS51c2VyID8gX2MoJ2EnLCB7CiAgICBhdHRyczogewogICAgICAiaHJlZiI6IF92bS51c2VyLmhvbWVwYWdlLAogICAgICAidGl0bGUiOiBfdm0udXNlci51c2VybmFtZSwKICAgICAgInRhcmdldCI6ICJfYmxhbmsiLAogICAgICAicmVsIjogIm5vb3BlbmVyIG5vcmVmZXJyZXIiCiAgICB9CiAgfSwgW19jKCdpbWcnLCB7CiAgICBhdHRyczogewogICAgICAic3JjIjogX3ZtLnVzZXIuYXZhdGFyLAogICAgICAiYWx0IjogX3ZtLnVzZXIudXNlcm5hbWUKICAgIH0KICB9KV0pIDogX2MoJ1Zzc3VlSWNvbicsIHsKICAgIGF0dHJzOiB7CiAgICAgICJuYW1lIjogX3ZtLnBsYXRmb3JtLnRvTG93ZXJDYXNlKCksCiAgICAgICJ0aXRsZSI6IF92bS52c3N1ZS4kdCgnbG9naW5Ub0NvbW1lbnQnLCB7CiAgICAgICAgcGxhdGZvcm06IF92bS5wbGF0Zm9ybQogICAgICB9KQogICAgfSwKICAgIG9uOiB7CiAgICAgICJjbGljayI6IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICByZXR1cm4gX3ZtLnZzc3VlLmxvZ2luKCk7CiAgICAgIH0KICAgIH0KICB9KV0sIDEpLCBfdm0uX3YoIiAiKSwgX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtbmV3LWNvbW1lbnQtYm9keSIKICB9LCBbX2MoJ3RleHRhcmVhJywgewogICAgZGlyZWN0aXZlczogW3sKICAgICAgbmFtZTogIm1vZGVsIiwKICAgICAgcmF3TmFtZTogInYtbW9kZWwiLAogICAgICB2YWx1ZTogX3ZtLmNvbnRlbnQsCiAgICAgIGV4cHJlc3Npb246ICJjb250ZW50IgogICAgfV0sCiAgICByZWY6ICJpbnB1dCIsCiAgICBzdGF0aWNDbGFzczogInZzc3VlLW5ldy1jb21tZW50LWlucHV0IiwKICAgIGF0dHJzOiB7CiAgICAgICJyb3dzIjogX3ZtLmlucHV0Um93cywKICAgICAgImRpc2FibGVkIjogX3ZtLmlzSW5wdXREaXNhYmxlZCwKICAgICAgInBsYWNlaG9sZGVyIjogX3ZtLnZzc3VlLiR0KF92bS51c2VyID8gJ3BsYWNlaG9sZGVyJyA6ICdub0xvZ2luUGxhY2VIb2xkZXInKSwKICAgICAgInNwZWxsY2hlY2siOiBmYWxzZSwKICAgICAgImFyaWEtbGFiZWwiOiAibGVhdmUgYSBjb21tZW50IgogICAgfSwKICAgIGRvbVByb3BzOiB7CiAgICAgICJ2YWx1ZSI6IF92bS5jb250ZW50CiAgICB9LAogICAgb246IHsKICAgICAgImtleXVwIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIGlmICghJGV2ZW50LnR5cGUuaW5kZXhPZigna2V5JykgJiYgX3ZtLl9rKCRldmVudC5rZXlDb2RlLCAiZW50ZXIiLCAxMywgJGV2ZW50LmtleSwgIkVudGVyIikpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KCiAgICAgICAgaWYgKCEkZXZlbnQuY3RybEtleSkgewogICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gX3ZtLnN1Ym1pdCgpOwogICAgICB9LAogICAgICAiaW5wdXQiOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgaWYgKCRldmVudC50YXJnZXQuY29tcG9zaW5nKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBfdm0uY29udGVudCA9ICRldmVudC50YXJnZXQudmFsdWU7CiAgICAgIH0KICAgIH0KICB9KV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtbmV3LWNvbW1lbnQtZm9vdGVyIgogIH0sIFtfdm0udXNlciA/IF9jKCdzcGFuJywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1jdXJyZW50LXVzZXIiCiAgfSwgW19jKCdzcGFuJywgW192bS5fdihfdm0uX3MoX3ZtLnZzc3VlLiR0KCdjdXJyZW50VXNlcicpKSArICIgLSAiICsgX3ZtLl9zKF92bS51c2VyLnVzZXJuYW1lKSArICIgLSAiKV0pLCBfdm0uX3YoIiAiKSwgX2MoJ2EnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWxvZ291dCIsCiAgICBvbjogewogICAgICAiY2xpY2siOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuIF92bS52c3N1ZS5sb2dvdXQoKTsKICAgICAgfQogICAgfQogIH0sIFtfdm0uX3YoIlxuICAgICAgICAiICsgX3ZtLl9zKF92bS52c3N1ZS4kdCgnbG9nb3V0JykpICsgIlxuICAgICAgIildKV0pIDogX2MoJ3NwYW4nLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWN1cnJlbnQtdXNlciIKICB9LCBbX3ZtLl92KCJcbiAgICAgICIgKyBfdm0uX3MoX3ZtLnZzc3VlLiR0KCdsb2dpblRvQ29tbWVudCcsIHsKICAgIHBsYXRmb3JtOiBfdm0ucGxhdGZvcm0KICB9KSkgKyAiXG4gICAgIildKSwgX3ZtLl92KCIgIiksIF9jKCdkaXYnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLW5ldy1jb21tZW50LW9wZXJhdGlvbnMiCiAgfSwgW192bS51c2VyID8gX2MoJ1Zzc3VlQnV0dG9uJywgewogICAgc3RhdGljQ2xhc3M6ICJ2c3N1ZS1idXR0b24tc3VibWl0LWNvbW1lbnQiLAogICAgYXR0cnM6IHsKICAgICAgInR5cGUiOiAicHJpbWFyeSIsCiAgICAgICJkaXNhYmxlZCI6IF92bS5pc1N1Ym1pdERpc2FibGVkCiAgICB9LAogICAgb246IHsKICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIHJldHVybiBfdm0uc3VibWl0KCk7CiAgICAgIH0KICAgIH0KICB9LCBbX2MoJ1Zzc3VlSWNvbicsIHsKICAgIGRpcmVjdGl2ZXM6IFt7CiAgICAgIG5hbWU6ICJzaG93IiwKICAgICAgcmF3TmFtZTogInYtc2hvdyIsCiAgICAgIHZhbHVlOiBfdm0ubG9hZGluZywKICAgICAgZXhwcmVzc2lvbjogImxvYWRpbmciCiAgICB9XSwKICAgIGF0dHJzOiB7CiAgICAgICJuYW1lIjogImxvYWRpbmciCiAgICB9CiAgfSksIF92bS5fdigiXG5cbiAgICAgICAgIiArIF92bS5fcyhfdm0udnNzdWUuJHQoX3ZtLmxvYWRpbmcgPyAnc3VibWl0dGluZycgOiAnc3VibWl0Q29tbWVudCcpKSArICJcbiAgICAgICIpXSwgMSkgOiBfYygnVnNzdWVCdXR0b24nLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWJ1dHRvbi1sb2dpbiIsCiAgICBhdHRyczogewogICAgICAidHlwZSI6ICJwcmltYXJ5IiwKICAgICAgInRpdGxlIjogX3ZtLnZzc3VlLiR0KCdsb2dpblRvQ29tbWVudCcsIHsKICAgICAgICBwbGF0Zm9ybTogX3ZtLnBsYXRmb3JtCiAgICAgIH0pCiAgICB9LAogICAgb246IHsKICAgICAgImNsaWNrIjogZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgIHJldHVybiBfdm0udnNzdWUubG9naW4oKTsKICAgICAgfQogICAgfQogIH0sIFtfdm0uX3YoIlxuICAgICAgICAiICsgX3ZtLl9zKF92bS52c3N1ZS4kdCgnbG9naW4nLCB7CiAgICBwbGF0Zm9ybTogX3ZtLnBsYXRmb3JtCiAgfSkpICsgIlxuICAgICAgIildKV0sIDEpXSldKTsKfTsKCnZhciBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQ0ID0gW107Ci8qIHN0eWxlICovCgpjb25zdCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kNyA9IHVuZGVmaW5lZDsKLyogc2NvcGVkICovCgpjb25zdCBfX3Z1ZV9zY29wZV9pZF9fJDcgPSB1bmRlZmluZWQ7Ci8qIG1vZHVsZSBpZGVudGlmaWVyICovCgpjb25zdCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDcgPSB1bmRlZmluZWQ7Ci8qIGZ1bmN0aW9uYWwgdGVtcGxhdGUgKi8KCmNvbnN0IF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyQ3ID0gZmFsc2U7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJDcgPSBub3JtYWxpemVDb21wb25lbnQoewogIHJlbmRlcjogX192dWVfcmVuZGVyX18kNCwKICBzdGF0aWNSZW5kZXJGbnM6IF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDQKfSwgX192dWVfaW5qZWN0X3N0eWxlc19fJDcsIF9fdnVlX3NjcmlwdF9fJDcsIF9fdnVlX3Njb3BlX2lkX18kNywgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDcsIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kNywgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwoKbGV0IFZzc3VlTm90aWNlID0gY2xhc3MgVnNzdWVOb3RpY2UgZXh0ZW5kcyBWdWUkMSB7CiAgY29uc3RydWN0b3IoKSB7CiAgICBzdXBlciguLi5hcmd1bWVudHMpOyAvLyBwcm9ncmVzcyBkYXRhCgogICAgdGhpcy5wcm9ncmVzcyA9IHsKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIHBlcmNlbnQ6IDAsCiAgICAgIHRpbWVyOiBudWxsLAogICAgICBzcGVlZDogMjAwCiAgICB9OyAvLyBhbGVydCBkYXRhCgogICAgdGhpcy5hbGVydCA9IHsKICAgICAgc2hvdzogZmFsc2UsCiAgICAgIG1lc3NhZ2U6IG51bGwsCiAgICAgIHRpbWVyOiBudWxsCiAgICB9OwogIH0KICAvKioKICAgKiBTaG93IHByb2dyZXNzIHdoZW4gbG9hZGluZyBjb21tZW50cwogICAqLwoKCiAgb25Mb2FkaW5nQ29tbWVudHNDaGFuZ2UodmFsKSB7CiAgICBpZiAodGhpcy52c3N1ZS5jb21tZW50cykgewogICAgICBpZiAodmFsKSB7CiAgICAgICAgdGhpcy5wcm9ncmVzc1N0YXJ0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wcm9ncmVzc0RvbmUoKTsKICAgICAgfQogICAgfQogIH0KCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMudnNzdWUuJG9uKCdlcnJvcicsIGUgPT4gdGhpcy5hbGVydFNob3coZS5tZXNzYWdlKSk7CiAgfQoKICBiZWZvcmVEZXN0cm95KCkgewogICAgdGhpcy52c3N1ZS4kb2ZmKCdlcnJvcicpOwogICAgaWYgKHRoaXMucHJvZ3Jlc3MudGltZXIgIT09IG51bGwpIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5wcm9ncmVzcy50aW1lcik7CiAgICBpZiAodGhpcy5hbGVydC50aW1lciAhPT0gbnVsbCkgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmFsZXJ0LnRpbWVyKTsKICB9CiAgLyoqCiAgICogUHJvZ3Jlc3Mgc3RhcnQKICAgKi8KCgogIHByb2dyZXNzU3RhcnQoKSB7CiAgICB0aGlzLnByb2dyZXNzLnNob3cgPSB0cnVlOwogICAgdGhpcy5wcm9ncmVzcy5wZXJjZW50ID0gMDsKICAgIHRoaXMucHJvZ3Jlc3MudGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICB0aGlzLnByb2dyZXNzLnBlcmNlbnQgKz0gNTsKCiAgICAgIGlmICh0aGlzLnByb2dyZXNzLnBlcmNlbnQgPiA5NCkgewogICAgICAgIGlmICh0aGlzLnByb2dyZXNzLnRpbWVyICE9PSBudWxsKSB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnByb2dyZXNzLnRpbWVyKTsKICAgICAgfQogICAgfSwgdGhpcy5wcm9ncmVzcy5zcGVlZCk7CiAgfQogIC8qKgogICAqIFByb2dyZXNzIHN0b3AKICAgKi8KCgogIHByb2dyZXNzRG9uZSgpIHsKICAgIHRoaXMucHJvZ3Jlc3MucGVyY2VudCA9IDEwMDsKICAgIGlmICh0aGlzLnByb2dyZXNzLnRpbWVyICE9PSBudWxsKSB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucHJvZ3Jlc3MudGltZXIpOwogICAgdGhpcy5wcm9ncmVzcy50aW1lciA9IG51bGw7CiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIHRoaXMucHJvZ3Jlc3Muc2hvdyA9IGZhbHNlOwogICAgfSwgdGhpcy5wcm9ncmVzcy5zcGVlZCk7CiAgfQogIC8qKgogICAqIFNob3cgYWxlcnQgbWVzc2FnZQogICAqLwoKCiAgYWxlcnRTaG93KGNvbnRlbnQpIHsKICAgIHRoaXMuYWxlcnQuc2hvdyA9IHRydWU7CiAgICB0aGlzLmFsZXJ0Lm1lc3NhZ2UgPSBjb250ZW50OwogICAgaWYgKHRoaXMuYWxlcnQudGltZXIgIT09IG51bGwpIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5hbGVydC50aW1lcik7CiAgICB0aGlzLmFsZXJ0LnRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4gewogICAgICB0aGlzLmFsZXJ0SGlkZSgpOwogICAgfSwgMzAwMCk7CiAgfQogIC8qKgogICAqIEhpZGUgYWxlcnQgbWVzc2FnZQogICAqLwoKCiAgYWxlcnRIaWRlKCkgewogICAgdGhpcy5hbGVydC5zaG93ID0gZmFsc2U7CiAgICBpZiAodGhpcy5hbGVydC50aW1lciAhPT0gbnVsbCkgd2luZG93LmNsZWFyVGltZW91dCh0aGlzLmFsZXJ0LnRpbWVyKTsKICAgIHRoaXMuYWxlcnQudGltZXIgPSBudWxsOwogIH0KCn07CgpfX2RlY29yYXRlKFtJbmplY3QoKV0sIFZzc3VlTm90aWNlLnByb3RvdHlwZSwgInZzc3VlIiwgdm9pZCAwKTsKCl9fZGVjb3JhdGUoW1dhdGNoKCd2c3N1ZS5pc0xvYWRpbmdDb21tZW50cycpXSwgVnNzdWVOb3RpY2UucHJvdG90eXBlLCAib25Mb2FkaW5nQ29tbWVudHNDaGFuZ2UiLCBudWxsKTsKClZzc3VlTm90aWNlID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBUcmFuc2l0aW9uRmFkZTogX192dWVfY29tcG9uZW50X18kMQogIH0KfSldLCBWc3N1ZU5vdGljZSk7CnZhciBzY3JpcHQkOCA9IFZzc3VlTm90aWNlOwovKiBzY3JpcHQgKi8KCmNvbnN0IF9fdnVlX3NjcmlwdF9fJDggPSBzY3JpcHQkODsKLyogdGVtcGxhdGUgKi8KCnZhciBfX3Z1ZV9yZW5kZXJfXyQ1ID0gZnVuY3Rpb24gKCkgewogIHZhciBfdm0gPSB0aGlzOwoKICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLW5vdGljZSIKICB9LCBbX2MoJ2RpdicsIHsKICAgIGRpcmVjdGl2ZXM6IFt7CiAgICAgIG5hbWU6ICJzaG93IiwKICAgICAgcmF3TmFtZTogInYtc2hvdyIsCiAgICAgIHZhbHVlOiBfdm0ucHJvZ3Jlc3Muc2hvdywKICAgICAgZXhwcmVzc2lvbjogInByb2dyZXNzLnNob3ciCiAgICB9XSwKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtcHJvZ3Jlc3MiLAogICAgc3R5bGU6IHsKICAgICAgd2lkdGg6IF92bS5wcm9ncmVzcy5wZXJjZW50ICsgIiUiLAogICAgICB0cmFuc2l0aW9uOiAiYWxsICIgKyBfdm0ucHJvZ3Jlc3Muc3BlZWQgKyAibXMgbGluZWFyIgogICAgfQogIH0pLCBfdm0uX3YoIiAiKSwgX2MoJ1RyYW5zaXRpb25GYWRlJywgW19jKCdkaXYnLCB7CiAgICBkaXJlY3RpdmVzOiBbewogICAgICBuYW1lOiAic2hvdyIsCiAgICAgIHJhd05hbWU6ICJ2LXNob3ciLAogICAgICB2YWx1ZTogX3ZtLmFsZXJ0LnNob3csCiAgICAgIGV4cHJlc3Npb246ICJhbGVydC5zaG93IgogICAgfV0sCiAgICBzdGF0aWNDbGFzczogInZzc3VlLWFsZXJ0IiwKICAgIGRvbVByb3BzOiB7CiAgICAgICJ0ZXh0Q29udGVudCI6IF92bS5fcyhfdm0uYWxlcnQubWVzc2FnZSkKICAgIH0sCiAgICBvbjogewogICAgICAiY2xpY2siOiBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuIF92bS5hbGVydEhpZGUoKTsKICAgICAgfQogICAgfQogIH0pXSldLCAxKTsKfTsKCnZhciBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQ1ID0gW107Ci8qIHN0eWxlICovCgpjb25zdCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kOCA9IHVuZGVmaW5lZDsKLyogc2NvcGVkICovCgpjb25zdCBfX3Z1ZV9zY29wZV9pZF9fJDggPSB1bmRlZmluZWQ7Ci8qIG1vZHVsZSBpZGVudGlmaWVyICovCgpjb25zdCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJDggPSB1bmRlZmluZWQ7Ci8qIGZ1bmN0aW9uYWwgdGVtcGxhdGUgKi8KCmNvbnN0IF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyQ4ID0gZmFsc2U7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJDggPSBub3JtYWxpemVDb21wb25lbnQoewogIHJlbmRlcjogX192dWVfcmVuZGVyX18kNSwKICBzdGF0aWNSZW5kZXJGbnM6IF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDUKfSwgX192dWVfaW5qZWN0X3N0eWxlc19fJDgsIF9fdnVlX3NjcmlwdF9fJDgsIF9fdnVlX3Njb3BlX2lkX18kOCwgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDgsIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kOCwgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwoKbGV0IFZzc3VlU3RhdHVzID0gY2xhc3MgVnNzdWVTdGF0dXMgZXh0ZW5kcyBWdWUkMSB7CiAgZ2V0IHN0YXR1cygpIHsKICAgIGlmICh0aGlzLnZzc3VlLmlzRmFpbGVkKSB7CiAgICAgIHJldHVybiAnZmFpbGVkJzsKICAgIH0gZWxzZSBpZiAodGhpcy52c3N1ZS5pc0luaXRpYWxpemluZykgewogICAgICByZXR1cm4gJ2luaXRpYWxpemluZyc7CiAgICB9IGVsc2UgaWYgKHRoaXMudnNzdWUuaXNJc3N1ZU5vdENyZWF0ZWQgJiYgIXRoaXMudnNzdWUuaXNDcmVhdGluZ0lzc3VlKSB7CiAgICAgIGlmICh0aGlzLnZzc3VlLmlzQWRtaW4gfHwgIXRoaXMudnNzdWUuaXNMb2dpbmVkKSB7CiAgICAgICAgcmV0dXJuICdpc3N1ZU5vdENyZWF0ZWQnOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnZmFpbGVkJzsKICAgICAgfQogICAgfSBlbHNlIGlmICh0aGlzLnZzc3VlLmlzTG9naW5SZXF1aXJlZCkgewogICAgICByZXR1cm4gJ2xvZ2luUmVxdWlyZWQnOwogICAgfSBlbHNlIGlmICghdGhpcy52c3N1ZS5jb21tZW50cyB8fCB0aGlzLnZzc3VlLmlzQ3JlYXRpbmdJc3N1ZSkgewogICAgICByZXR1cm4gJ2xvYWRpbmdDb21tZW50cyc7CiAgICB9IGVsc2UgaWYgKHRoaXMudnNzdWUuY29tbWVudHMuZGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgcmV0dXJuICdub0NvbW1lbnRzJzsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0KCiAgaGFuZGxlQ2xpY2soKSB7CiAgICBpZiAodGhpcy5zdGF0dXMgPT09ICdpc3N1ZU5vdENyZWF0ZWQnKSB7CiAgICAgIHRoaXMudnNzdWUucG9zdElzc3VlKCk7CiAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdHVzID09PSAnbG9naW5SZXF1aXJlZCcpIHsKICAgICAgdGhpcy52c3N1ZS5sb2dpbigpOwogICAgfQogIH0KCn07CgpfX2RlY29yYXRlKFtJbmplY3QoKV0sIFZzc3VlU3RhdHVzLnByb3RvdHlwZSwgInZzc3VlIiwgdm9pZCAwKTsKClZzc3VlU3RhdHVzID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBjb21wb25lbnRzOiB7CiAgICBUcmFuc2l0aW9uRmFkZTogX192dWVfY29tcG9uZW50X18kMSwKICAgIFZzc3VlSWNvbjogX192dWVfY29tcG9uZW50X18kMgogIH0KfSldLCBWc3N1ZVN0YXR1cyk7CnZhciBzY3JpcHQkOSA9IFZzc3VlU3RhdHVzOwovKiBzY3JpcHQgKi8KCmNvbnN0IF9fdnVlX3NjcmlwdF9fJDkgPSBzY3JpcHQkOTsKLyogdGVtcGxhdGUgKi8KCnZhciBfX3Z1ZV9yZW5kZXJfXyQ2ID0gZnVuY3Rpb24gKCkgewogIHZhciBfdm0gPSB0aGlzOwoKICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgcmV0dXJuIF9jKCdUcmFuc2l0aW9uRmFkZScsIFtfdm0uc3RhdHVzID8gX2MoJ2RpdicsIHsKICAgIGtleTogX3ZtLnN0YXR1cywKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtc3RhdHVzIgogIH0sIFtbJ2ZhaWxlZCcsICdsb2FkaW5nQ29tbWVudHMnLCAnaW5pdGlhbGl6aW5nJ10uaW5jbHVkZXMoX3ZtLnN0YXR1cykgPyBfYygnVnNzdWVJY29uJywgewogICAgYXR0cnM6IHsKICAgICAgIm5hbWUiOiBfdm0uc3RhdHVzID09PSAnZmFpbGVkJyA/ICdlcnJvcicgOiAnbG9hZGluZycKICAgIH0KICB9KSA6IF92bS5fZSgpLCBfdm0uX3YoIiAiKSwgX2MoJ3AnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLXN0YXR1cy1pbmZvIgogIH0sIFtfYyhbJ2lzc3VlTm90Q3JlYXRlZCcsICdsb2dpblJlcXVpcmVkJ10uaW5jbHVkZXMoX3ZtLnN0YXR1cykgPyAnYScgOiAnc3BhbicsIHsKICAgIHRhZzogIkNvbXBvbmVudCIsCiAgICBvbjogewogICAgICAiY2xpY2siOiBfdm0uaGFuZGxlQ2xpY2sKICAgIH0KICB9LCBbX3ZtLl92KCJcbiAgICAgICAgIiArIF92bS5fcyhfdm0udnNzdWUuJHQoX3ZtLnN0YXR1cykpICsgIlxuICAgICAgIildKV0sIDEpXSwgMSkgOiBfdm0uX2UoKV0pOwp9OwoKdmFyIF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDYgPSBbXTsKLyogc3R5bGUgKi8KCmNvbnN0IF9fdnVlX2luamVjdF9zdHlsZXNfXyQ5ID0gdW5kZWZpbmVkOwovKiBzY29wZWQgKi8KCmNvbnN0IF9fdnVlX3Njb3BlX2lkX18kOSA9IHVuZGVmaW5lZDsKLyogbW9kdWxlIGlkZW50aWZpZXIgKi8KCmNvbnN0IF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kOSA9IHVuZGVmaW5lZDsKLyogZnVuY3Rpb25hbCB0ZW1wbGF0ZSAqLwoKY29uc3QgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJDkgPSBmYWxzZTsKLyogc3R5bGUgaW5qZWN0ICovCgovKiBzdHlsZSBpbmplY3QgU1NSICovCgovKiBzdHlsZSBpbmplY3Qgc2hhZG93IGRvbSAqLwoKY29uc3QgX192dWVfY29tcG9uZW50X18kOSA9IG5vcm1hbGl6ZUNvbXBvbmVudCh7CiAgcmVuZGVyOiBfX3Z1ZV9yZW5kZXJfXyQ2LAogIHN0YXRpY1JlbmRlckZuczogX192dWVfc3RhdGljUmVuZGVyRm5zX18kNgp9LCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kOSwgX192dWVfc2NyaXB0X18kOSwgX192dWVfc2NvcGVfaWRfXyQ5LCBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18kOSwgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyQ5LCBmYWxzZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7CgpsZXQgVnNzdWVCb2R5ID0gY2xhc3MgVnNzdWVCb2R5IGV4dGVuZHMgVnVlJDEge307CgpfX2RlY29yYXRlKFtJbmplY3QoKV0sIFZzc3VlQm9keS5wcm90b3R5cGUsICJ2c3N1ZSIsIHZvaWQgMCk7CgpWc3N1ZUJvZHkgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIFRyYW5zaXRpb25GYWRlOiBfX3Z1ZV9jb21wb25lbnRfXyQxLAogICAgVnNzdWVJY29uOiBfX3Z1ZV9jb21wb25lbnRfXyQyLAogICAgVnNzdWVDb21tZW50czogX192dWVfY29tcG9uZW50X18kNSwKICAgIFZzc3VlTmV3Q29tbWVudDogX192dWVfY29tcG9uZW50X18kNywKICAgIFZzc3VlTm90aWNlOiBfX3Z1ZV9jb21wb25lbnRfXyQ4LAogICAgVnNzdWVTdGF0dXM6IF9fdnVlX2NvbXBvbmVudF9fJDkKICB9Cn0pXSwgVnNzdWVCb2R5KTsKdmFyIHNjcmlwdCRhID0gVnNzdWVCb2R5OwovKiBzY3JpcHQgKi8KCmNvbnN0IF9fdnVlX3NjcmlwdF9fJGEgPSBzY3JpcHQkYTsKLyogdGVtcGxhdGUgKi8KCnZhciBfX3Z1ZV9yZW5kZXJfXyQ3ID0gZnVuY3Rpb24gKCkgewogIHZhciBfdm0gPSB0aGlzOwoKICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgcmV0dXJuIF9jKCdUcmFuc2l0aW9uRmFkZScsIFshX3ZtLnZzc3VlLmlzSW5pdGlhbGl6aW5nID8gX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtYm9keSIKICB9LCBbX3ZtLnZzc3VlLkFQSSA/IF9jKCdWc3N1ZU5ld0NvbW1lbnQnKSA6IF92bS5fZSgpLCBfdm0uX3YoIiAiKSwgX2MoJ1Zzc3VlTm90aWNlJyksIF92bS5fdigiICIpLCBfYygnVHJhbnNpdGlvbkZhZGUnLCBbX3ZtLnZzc3VlLmNvbW1lbnRzICYmIF92bS52c3N1ZS5jb21tZW50cy5kYXRhLmxlbmd0aCA+IDAgPyBfYygnVnNzdWVDb21tZW50cycpIDogX2MoJ1Zzc3VlU3RhdHVzJyldLCAxKV0sIDEpIDogX2MoJ1Zzc3VlU3RhdHVzJyldLCAxKTsKfTsKCnZhciBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQ3ID0gW107Ci8qIHN0eWxlICovCgpjb25zdCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kYSA9IHVuZGVmaW5lZDsKLyogc2NvcGVkICovCgpjb25zdCBfX3Z1ZV9zY29wZV9pZF9fJGEgPSB1bmRlZmluZWQ7Ci8qIG1vZHVsZSBpZGVudGlmaWVyICovCgpjb25zdCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJGEgPSB1bmRlZmluZWQ7Ci8qIGZ1bmN0aW9uYWwgdGVtcGxhdGUgKi8KCmNvbnN0IF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyRhID0gZmFsc2U7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJGEgPSBub3JtYWxpemVDb21wb25lbnQoewogIHJlbmRlcjogX192dWVfcmVuZGVyX18kNywKICBzdGF0aWNSZW5kZXJGbnM6IF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDcKfSwgX192dWVfaW5qZWN0X3N0eWxlc19fJGEsIF9fdnVlX3NjcmlwdF9fJGEsIF9fdnVlX3Njb3BlX2lkX18kYSwgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJGEsIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kYSwgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwoKbGV0IFZzc3VlSGVhZGVyID0gY2xhc3MgVnNzdWVIZWFkZXIgZXh0ZW5kcyBWdWUkMSB7fTsKCl9fZGVjb3JhdGUoW0luamVjdCgpXSwgVnNzdWVIZWFkZXIucHJvdG90eXBlLCAidnNzdWUiLCB2b2lkIDApOwoKVnNzdWVIZWFkZXIgPSBfX2RlY29yYXRlKFtDb21wb25lbnRdLCBWc3N1ZUhlYWRlcik7CnZhciBzY3JpcHQkYiA9IFZzc3VlSGVhZGVyOwovKiBzY3JpcHQgKi8KCmNvbnN0IF9fdnVlX3NjcmlwdF9fJGIgPSBzY3JpcHQkYjsKLyogdGVtcGxhdGUgKi8KCnZhciBfX3Z1ZV9yZW5kZXJfXyQ4ID0gZnVuY3Rpb24gKCkgewogIHZhciBfdm0gPSB0aGlzOwoKICB2YXIgX2ggPSBfdm0uJGNyZWF0ZUVsZW1lbnQ7CgogIHZhciBfYyA9IF92bS5fc2VsZi5fYyB8fCBfaDsKCiAgcmV0dXJuIF9jKCdkaXYnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWhlYWRlciIKICB9LCBbX2MoJ2EnLCB7CiAgICBzdGF0aWNDbGFzczogInZzc3VlLWhlYWRlci1jb21tZW50cy1jb3VudCIsCiAgICBhdHRyczogewogICAgICAiaHJlZiI6IF92bS52c3N1ZS5pc3N1ZSA/IF92bS52c3N1ZS5pc3N1ZS5saW5rIDogbnVsbCwKICAgICAgInRhcmdldCI6ICJfYmxhbmsiLAogICAgICAicmVsIjogIm5vb3BlbmVyIG5vcmVmZXJyZXIiCiAgICB9CiAgfSwgW19jKCdzcGFuJywgW192bS5fdigiXG4gICAgICAiICsgX3ZtLl9zKF92bS52c3N1ZS5jb21tZW50cyA/IF92bS52c3N1ZS4kdGMoJ2NvbW1lbnRzJywgX3ZtLnZzc3VlLmNvbW1lbnRzLmNvdW50LCB7CiAgICBjb3VudDogX3ZtLnZzc3VlLmNvbW1lbnRzLmNvdW50CiAgfSkgOiBfdm0udnNzdWUuJHRjKCdjb21tZW50cycsIDApKSArICJcbiAgICAiKV0pXSksIF92bS5fdigiICIpLCBfYygnc3BhbicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUtaGVhZGVyLXBvd2VyZWQtYnkiCiAgfSwgW19jKCdzcGFuJywgW192bS5fdigiUG93ZXJlZCBieSIpXSksIF92bS5fdigiICIpLCBfdm0udnNzdWUuQVBJID8gX2MoJ3NwYW4nLCBbX2MoJ2EnLCB7CiAgICBhdHRyczogewogICAgICAiaHJlZiI6IF92bS52c3N1ZS5BUEkucGxhdGZvcm0ubGluaywKICAgICAgInRpdGxlIjogX3ZtLnZzc3VlLkFQSS5wbGF0Zm9ybS5uYW1lICsgIiBBUEkgIiArIF92bS52c3N1ZS5BUEkucGxhdGZvcm0udmVyc2lvbiwKICAgICAgInRhcmdldCI6ICJfYmxhbmsiLAogICAgICAicmVsIjogIm5vb3BlbmVyIG5vcmVmZXJyZXIiCiAgICB9CiAgfSwgW192bS5fdigiXG4gICAgICAgICIgKyBfdm0uX3MoX3ZtLnZzc3VlLkFQSS5wbGF0Zm9ybS5uYW1lKSArICJcbiAgICAgICIpXSksIF92bS5fdigiICIpLCBfYygnc3BhbicsIFtfdm0uX3YoIiYiKV0pXSkgOiBfdm0uX2UoKSwgX3ZtLl92KCIgIiksIF9jKCdhJywgewogICAgYXR0cnM6IHsKICAgICAgImhyZWYiOiAiaHR0cHM6Ly9naXRodWIuY29tL21ldGVvcmx4eS92c3N1ZSIsCiAgICAgICJ0aXRsZSI6ICJWc3N1ZSB2IiArIF92bS52c3N1ZS52ZXJzaW9uLAogICAgICAidGFyZ2V0IjogIl9ibGFuayIsCiAgICAgICJyZWwiOiAibm9vcGVuZXIgbm9yZWZlcnJlciIKICAgIH0KICB9LCBbX3ZtLl92KCJcbiAgICAgIFZzc3VlXG4gICAgIildKV0pXSk7Cn07Cgp2YXIgX192dWVfc3RhdGljUmVuZGVyRm5zX18kOCA9IFtdOwovKiBzdHlsZSAqLwoKY29uc3QgX192dWVfaW5qZWN0X3N0eWxlc19fJGIgPSB1bmRlZmluZWQ7Ci8qIHNjb3BlZCAqLwoKY29uc3QgX192dWVfc2NvcGVfaWRfXyRiID0gdW5kZWZpbmVkOwovKiBtb2R1bGUgaWRlbnRpZmllciAqLwoKY29uc3QgX192dWVfbW9kdWxlX2lkZW50aWZpZXJfXyRiID0gdW5kZWZpbmVkOwovKiBmdW5jdGlvbmFsIHRlbXBsYXRlICovCgpjb25zdCBfX3Z1ZV9pc19mdW5jdGlvbmFsX3RlbXBsYXRlX18kYiA9IGZhbHNlOwovKiBzdHlsZSBpbmplY3QgKi8KCi8qIHN0eWxlIGluamVjdCBTU1IgKi8KCi8qIHN0eWxlIGluamVjdCBzaGFkb3cgZG9tICovCgpjb25zdCBfX3Z1ZV9jb21wb25lbnRfXyRiID0gbm9ybWFsaXplQ29tcG9uZW50KHsKICByZW5kZXI6IF9fdnVlX3JlbmRlcl9fJDgsCiAgc3RhdGljUmVuZGVyRm5zOiBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQ4Cn0sIF9fdnVlX2luamVjdF9zdHlsZXNfXyRiLCBfX3Z1ZV9zY3JpcHRfXyRiLCBfX3Z1ZV9zY29wZV9pZF9fJGIsIF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyRiLCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJGIsIGZhbHNlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTsKCmNvbnN0IG1lc3NhZ2VzID0gewogIC8vIGF1dGgKICBsb2dpbjogJ0xvZ2luIHdpdGgge3BsYXRmb3JtfScsCiAgbG9nb3V0OiAnTG9nb3V0JywKICBjdXJyZW50VXNlcjogJ0N1cnJlbnQgVXNlcicsCiAgLy8gY29tbWVudCBpbnB1dAogIGxvYWRpbmc6ICdMb2FkaW5nJywKICBzdWJtaXQ6ICdTdWJtaXQnLAogIHN1Ym1pdHRpbmc6ICdTdWJtaXR0aW5nJywKICBzdWJtaXRDb21tZW50OiAnU3VibWl0IENvbW1lbnQnLAogIGNhbmNlbDogJ0NhbmNlbCcsCiAgZWRpdDogJ0VkaXQnLAogIGVkaXRNb2RlOiAnRWRpdCBNb2RlJywKICBkZWxldGU6ICdEZWxldGUnLAogIHJlcGx5OiAnUmVwbHknLAogIC8vIHJlYWN0aW9ucwogIGhlYXJ0OiAnSGVhcnQnLAogIGxpa2U6ICdMaWtlJywKICB1bmxpa2U6ICdVbmxpa2UnLAogIC8vIHBhZ2luYXRpb24KICBwZXJQYWdlOiAnQ29tbWVudHMgcGVyIHBhZ2UnLAogIHNvcnQ6ICdDbGljayB0byBjaGFuZ2UgdGhlIHNvcnQgZGlyZWN0aW9uJywKICBwYWdlOiAnUGFnZScsCiAgcHJldjogJ1ByZXZpb3VzIFBhZ2UnLAogIG5leHQ6ICdOZXh0IFBhZ2UnLAogIC8vIGhpbnQKICBjb21tZW50czogJ0NvbW1lbnRzIHwge2NvdW50fSBDb21tZW50IHwge2NvdW50fSBDb21tZW50cycsCiAgbG9naW5Ub0NvbW1lbnQ6ICdMb2dpbiB3aXRoIHtwbGF0Zm9ybX0gYWNjb3VudCB0byBsZWF2ZSBhIGNvbW1lbnQnLAogIHBsYWNlaG9sZGVyOiAnTGVhdmUgYSBjb21tZW50LiBTdHlsaW5nIHdpdGggTWFya2Rvd24gaXMgc3VwcG9ydGVkLiBDdHJsICsgRW50ZXIgdG8gc3VibWl0LicsCiAgbm9Mb2dpblBsYWNlSG9sZGVyOiAnTG9naW4gdG8gbGVhdmUgYSBjb21tZW50LiBTdHlsaW5nIHdpdGggTWFya2Rvd24gaXMgc3VwcG9ydGVkLiAnLAogIC8vIHN0YXR1cwogIGZhaWxlZDogJ0ZhaWxlZCB0byBsb2FkIGNvbW1lbnRzJywKICBpbml0aWFsaXppbmc6ICdJbml0aWFsaXppbmcuLi4nLAogIGlzc3VlTm90Q3JlYXRlZDogJ0NsaWNrIHRvIGNyZWF0ZSBpc3N1ZScsCiAgbG9hZGluZ0NvbW1lbnRzOiAnTG9hZGluZyBjb21tZW50cy4uLicsCiAgbG9naW5SZXF1aXJlZDogJ0xvZ2luIHRvIHZpZXcgY29tbWVudHMnLAogIG5vQ29tbWVudHM6ICdObyBjb21tZW50cyB5ZXQuIExlYXZlIHRoZSBmaXJzdCBjb21tZW50ICEnLAogIC8vIGFsZXJ0cwogIHJlYWN0aW9uR2l2ZW46IGBBbHJlYWR5IGdpdmVuICd7cmVhY3Rpb259JyByZWFjdGlvbmAsCiAgZGVsZXRlQ29uZmlybTogJ0NvbmZpcm0gdG8gZGVsZXRlIHRoaXMgY29tbWVudCA/JywKICBkZWxldGVGYWlsZWQ6ICdGYWlsZWQgdG8gZGVsZXRlIGNvbW1lbnQnCn07CmNvbnN0IG1lc3NhZ2VzJDEgPSB7CiAgLy8gYXV0aAogIGxvZ2luOiAn5L2/55SoIHtwbGF0Zm9ybX0g55m75b2VJywKICBsb2dvdXQ6ICfpgIDlh7rnmbvlvZUnLAogIGN1cnJlbnRVc2VyOiAn5b2T5YmN55So5oi3JywKICAvLyBjb21tZW50IGlucHV0CiAgbG9hZGluZzogJ+WKoOi9veS4rScsCiAgc3VibWl0OiAn5o+Q5LqkJywKICBzdWJtaXR0aW5nOiAn5Y+R6KGo5LitJywKICBzdWJtaXRDb21tZW50OiAn5Y+R6KGo6K+E6K66JywKICBjYW5jZWw6ICflj5bmtognLAogIGVkaXQ6ICfnvJbovpEnLAogIGVkaXRNb2RlOiAn57yW6L6R5qih5byPJywKICBkZWxldGU6ICfliKDpmaQnLAogIHJlcGx5OiAn5Zue5aSNJywKICAvLyByZWFjdGlvbnMKICBoZWFydDogJ+WWnOasoicsCiAgbGlrZTogJ+i1nicsCiAgdW5saWtlOiAn6LipJywKICAvLyBwYWdpbmF0aW9uCiAgcGVyUGFnZTogJ+avj+mhteivhOiuuuaVsCcsCiAgc29ydDogJ+eCueWHu+aUueWPmOaOkuW6j+aWueW8jycsCiAgcGFnZTogJ+mhteaVsCcsCiAgcHJldjogJ+S4iuS4gOmhtScsCiAgbmV4dDogJ+S4i+S4gOmhtScsCiAgLy8gaGludAogIGNvbW1lbnRzOiAn6K+E6K66IHwge2NvdW50fSDmnaHor4TorrogfCB7Y291bnR9IOadoeivhOiuuicsCiAgbG9naW5Ub0NvbW1lbnQ6ICfkvb/nlKgge3BsYXRmb3JtfSDluJDlj7fnmbvlvZXlkI7lj5Hooajor4TorronLAogIHBsYWNlaG9sZGVyOiAn55WZ5LiL5L2g55qE6K+E6K665Lio5pSv5oyBIE1hcmtkb3duIOivreazleS4qEN0cmwgKyBFbnRlciDlj5Hooajor4TorronLAogIG5vTG9naW5QbGFjZUhvbGRlcjogJ+eZu+W9leWQjuaJjeiDveWPkeihqOivhOiuuuS4qOaUr+aMgSBNYXJrZG93biDor63ms5UnLAogIC8vIHN0YXR1cwogIGZhaWxlZDogJ+ivhOiuuuWKoOi9veWksei0pScsCiAgaW5pdGlhbGl6aW5nOiAn5q2j5Zyo5Yid5aeL5YyWLi4uJywKICBpc3N1ZU5vdENyZWF0ZWQ6ICfngrnlh7vliJvlu7ogSXNzdWUnLAogIGxvYWRpbmdDb21tZW50czogJ+ato+WcqOWKoOi9veivhOiuui4uLicsCiAgbG9naW5SZXF1aXJlZDogJ+eZu+W9leWQjuafpeeci+ivhOiuuicsCiAgbm9Db21tZW50czogJ+i/mOayoeacieivhOiuuu+8jOadpeWPkeihqOesrOS4gOadoeivhOiuuuWQp++8gScsCiAgLy8gYWxlcnRzCiAgcmVhY3Rpb25HaXZlbjogYOW3sue7j+a3u+WKoOi/hyAne3JlYWN0aW9ufScg5LqGYCwKICBkZWxldGVDb25maXJtOiAn56Gu6K6k6KaB5Yig6Zmk6K+l6K+E6K665ZCX77yfJywKICBkZWxldGVGYWlsZWQ6ICfor4TorrrliKDpmaTlpLHotKUnCn07CmNvbnN0IG1lc3NhZ2VzJDIgPSB7CiAgLy8gYXV0aAogIGxvZ2luOiAnRW50cmFyIGNvbSB7cGxhdGZvcm19JywKICBsb2dvdXQ6ICdTYWlyJywKICBjdXJyZW50VXNlcjogJ1VzdcOhcmlvIEF0dWFsJywKICAvLyBjb21tZW50IGlucHV0CiAgbG9hZGluZzogJ0NhcnJlZ2FuZG8nLAogIHN1Ym1pdDogJ0VudmlhcicsCiAgc3VibWl0dGluZzogJ0VudmlhbmRvJywKICBzdWJtaXRDb21tZW50OiAnRW52aWFyIENvbWVudMOhcmlvJywKICBjYW5jZWw6ICdDYW5jZWxhcicsCiAgZWRpdDogJ0VkaXRhcicsCiAgZWRpdE1vZGU6ICdNb2RvIGRlIEVkacOnw6NvJywKICBkZWxldGU6ICdBcGFnYXInLAogIHJlcGx5OiAnUmVzcG9uZGVyJywKICAvLyByZWFjdGlvbnMKICBoZWFydDogJ0hlYXJ0JywKICBsaWtlOiAnTGlrZScsCiAgdW5saWtlOiAnVW5saWtlJywKICAvLyBwYWdpbmF0aW9uCiAgcGVyUGFnZTogJ0NvbWVudMOhcmlvcyBwb3IgcMOhZ2luYScsCiAgc29ydDogJ0NsaXF1ZSBwYXJhIGFsdGVyYXIgYSBvcmRlbmHDp8OjbycsCiAgcGFnZTogJ1DDoWdpbmEnLAogIHByZXY6ICdQw6FnaW5hIEFudGVyaW9yJywKICBuZXh0OiAnUHLDs3hpbWEgUMOhZ2luYScsCiAgLy8gaGludAogIGNvbW1lbnRzOiAnQ29tZW50w6FyaW9zIHwge2NvdW50fSBDb21lbnTDoXJpbyB8IHtjb3VudH0gQ29tZW50w6FyaW9zJywKICBsb2dpblRvQ29tbWVudDogJ0VudHJlIGNvbSB1bWEgY29udGEge3BsYXRmb3JtfSBwYXJhIGRlaXhhciB1bSBjb21lbnTDoXJpbycsCiAgcGxhY2Vob2xkZXI6ICdEZWl4ZSB1bSBjb21lbnTDoXJpby4gRXN0aWxvcyBjb20gTWFya2Rvd24gc3Vwb3J0YWRvcy4gQ3RybCArIEVudGVyIHBhcmEgZW52aWFyLicsCiAgbm9Mb2dpblBsYWNlSG9sZGVyOiAnRW50cmUgcGFyYSBkZWl4YXIgdW0gY29tZW50w6FyaW8uIEVzdGlsb3MgY29tIE1hcmtkb3duIHN1cG9ydGFkb3MuICcsCiAgLy8gc3RhdHVzCiAgZmFpbGVkOiAnRmFsaGEgYW8gY2FycmVnYXIgY29tZW50w6FyaW9zJywKICBpbml0aWFsaXppbmc6ICdJbmljaWFsaXphbmRvLi4uJywKICBpc3N1ZU5vdENyZWF0ZWQ6ICdDbGljayB0byBjcmVhdGUgaXNzdWUnLAogIGxvYWRpbmdDb21tZW50czogJ0NhcnJlZ2FuZG8gY29tZW50w6FyaW9zLi4uJywKICBsb2dpblJlcXVpcmVkOiAnRW50cmFyIHBhcmEgdmlzdWFsaXphciBjb21lbnTDoXJpb3MnLAogIG5vQ29tbWVudHM6ICdOZW5odW0gY29tZW50w6FyaW8uIERlaXhlIG8gcHJpbWVpcm8gY29tZW50w6FyaW8hJywKICAvLyBhbGVydHMKICByZWFjdGlvbkdpdmVuOiBgSsOhIHJlYWdpdSBjb20gJ3tyZWFjdGlvbn0nYCwKICBkZWxldGVDb25maXJtOiAnQXBhZ2FyIGVzdGUgY29tZW50w6FyaW8/JywKICBkZWxldGVGYWlsZWQ6ICdGYWxoYSBhbyBhcGFnYXIgY29tZW50w6FyaW8nCn07CmNvbnN0IG1lc3NhZ2VzJDMgPSB7CiAgLy8gYXV0aAogIGxvZ2luOiAne3BsYXRmb3JtfSDjgafjg63jgrDjgqTjg7MnLAogIGxvZ291dDogJ+ODreOCsOOCouOCpuODiCcsCiAgY3VycmVudFVzZXI6ICfnj77lnKjjga7jg6bjg7zjgrbjg7wnLAogIC8vIGNvbW1lbnQgaW5wdXQKICBsb2FkaW5nOiAn6Kqt44G/6L6844G/5LitJywKICBzdWJtaXQ6ICfpgIHkv6EnLAogIHN1Ym1pdHRpbmc6ICfpgIHkv6HkuK0nLAogIHN1Ym1pdENvbW1lbnQ6ICfjgrPjg6Hjg7Pjg4jjgpLpgIHkv6EnLAogIGNhbmNlbDogJ+OCreODo+ODs+OCu+ODqycsCiAgZWRpdDogJ+e3qOmbhicsCiAgZWRpdE1vZGU6ICfnt6jpm4bjg6Ljg7zjg4knLAogIGRlbGV0ZTogJ+WJiumZpCcsCiAgcmVwbHk6ICfov5Tkv6EnLAogIC8vIHJlYWN0aW9ucwogIGhlYXJ0OiAn44OP44O844OIJywKICBsaWtlOiAn6auY6KmV5L6hJywKICB1bmxpa2U6ICfkvY7oqZXkvqEnLAogIC8vIHBhZ2luYXRpb24KICBwZXJQYWdlOiAn44Kz44Oh44Oz44OIL+ODmuODvOOCuCcsCiAgc29ydDogJ+S4puOBs+mghuOCkuWkieabtOOBmeOCi+OBq+OBr+OCr+ODquODg+OCr+OBl+OBpuOBj+OBoOOBleOBhCcsCiAgcGFnZTogJ+ODmuODvOOCuCcsCiAgcHJldjogJ+WJjeOBruODmuODvOOCuCcsCiAgbmV4dDogJ+asoeOBruODmuODvOOCuCcsCiAgLy8gaGludAogIGNvbW1lbnRzOiAn44Kz44Oh44Oz44OIIHwge2NvdW50fSDjgrPjg6Hjg7Pjg4ggfCB7Y291bnR9IOOCs+ODoeODs+ODiCcsCiAgbG9naW5Ub0NvbW1lbnQ6ICfjgrPjg6Hjg7Pjg4jjgpLmrovjgZnjgavjga8ge3BsYXRmb3JtfSDjgqLjgqvjgqbjg7Pjg4jjgafjg63jgrDjgqTjg7PjgZfjgabjgY/jgaDjgZXjgYTjgIInLAogIHBsYWNlaG9sZGVyOiAn44Kz44Oh44Oz44OI44KS5q6L44GX44Gm44GP44Gg44GV44GE44CCTWFya2Rvd24g6KiY5rOV44KS44K144Od44O844OI44GX44Gm44GE44G+44GZ44CCIEN0cmwgKyBFbnRlciDjgafpgIHkv6HjgafjgY3jgb7jgZnjgIInLAogIG5vTG9naW5QbGFjZUhvbGRlcjogJ+OCs+ODoeODs+ODiOOCkuaui+OBmeOBq+OBr+ODreOCsOOCpOODs+OBl+OBpuOBj+OBoOOBleOBhOOAguODnuODvOOCr+ODgOOCpuODs+iomOazleOCkuOCteODneODvOODiOOBl+OBpuOBhOOBvuOBmeOAgicsCiAgLy8gc3RhdHVzCiAgZmFpbGVkOiAn44Kz44Oh44Oz44OI44Gu6Kqt44G/6L6844G/44Gr5aSx5pWX44GX44G+44GX44GfJywKICBpbml0aWFsaXppbmc6ICfliJ3mnJ/ljJbkuK0uLi4nLAogIGlzc3VlTm90Q3JlYXRlZDogJ0NsaWNrIHRvIGNyZWF0ZSBpc3N1ZScsCiAgbG9hZGluZ0NvbW1lbnRzOiAn44Kz44Oh44Oz44OI44Gu6Kqt44G/6L6844G/5LitLi4uJywKICBsb2dpblJlcXVpcmVkOiAn44Kz44Oh44Oz44OI44KS6KaL44KL44Gr44Gv44Ot44Kw44Kk44Oz44GX44Gm44GP44Gg44GV44GEJywKICBub0NvbW1lbnRzOiAn44G+44Gg44Kz44Oh44Oz44OI44GM44GC44KK44G+44Gb44KT44CC5pyA5Yid44Gu44Kz44Oh44Oz44OI44KS5q6L44GX44G+44GX44KH44GG77yBJywKICAvLyBhbGVydHMKICByZWFjdGlvbkdpdmVuOiBg5pei44GrICd7cmVhY3Rpb259JyDjga7jg6rjgqLjgq/jgrfjg6fjg7PjgpLjgZfjgabjgYTjgb7jgZlgLAogIGRlbGV0ZUNvbmZpcm06ICfmnKzlvZPjgavjgrPjg6Hjg7Pjg4jjgpLliYrpmaTjgZfjgabjgoLjgYTjgYTjgafjgZnjgYvvvJ8nLAogIGRlbGV0ZUZhaWxlZDogJ+OCs+ODoeODs+ODiOOBruWJiumZpOOBq+WkseaVl+OBl+OBvuOBl+OBnycKfTsKY29uc3QgbWVzc2FnZXMkNCA9IHsKICAvLyBhdXRoCiAgbG9naW46ICfXlNeq15fXkdeo15Ug16LXnSB7cGxhdGZvcm19JywKICBsb2dvdXQ6ICfXlNeq16DXqten15UnLAogIGN1cnJlbnRVc2VyOiAn157Xqdeq157XqS/XqiDXoNeV15vXl9eZL9eqJywKICAvLyBjb21tZW50IGlucHV0CiAgbG9hZGluZzogJ9eY15XXotefJywKICBzdWJtaXQ6ICfXqdec15nXl9eUJywKICBzdWJtaXR0aW5nOiAn16nXldec15cnLAogIHN1Ym1pdENvbW1lbnQ6ICfXqdec15nXl9eqINeq15LXldeR15QnLAogIGNhbmNlbDogJ9eR15nXmNecJywKICBlZGl0OiAn16LXqNeZ15vXlCcsCiAgZWRpdE1vZGU6ICfXntem15Eg16LXqNeZ15vXlCcsCiAgZGVsZXRlOiAn157Xl9eZ16fXlCcsCiAgcmVwbHk6ICfXqtep15XXkdeUJywKICAvLyByZWFjdGlvbnMKICBoZWFydDogJ9ec15EnLAogIGxpa2U6ICfXnNeZ15nXpycsCiAgdW5saWtlOiAn15DXoNec15nXmdenJywKICAvLyBwYWdpbmF0aW9uCiAgcGVyUGFnZTogJ9eq15LXldeR15XXqiDXnNeT16MnLAogIHNvcnQ6ICfXnNeX16bXlSDXm9eT15kg15zXqdeg15XXqiDXkNeqINeb15nXldeV158g15TXnteZ15XXnycsCiAgcGFnZTogJ9eT16MnLAogIHByZXY6ICfXlNeT16Mg15TXp9eV15PXnScsCiAgbmV4dDogJ9eU15PXoyDXlNeR15AnLAogIC8vIGhpbnQKICBjb21tZW50czogJ9eq15LXldeR15XXqiB8IHtjb3VudH0g16rXkteV15HXlCB8IHtjb3VudH0g16rXkteV15HXldeqJywKICBsb2dpblRvQ29tbWVudDogJ9eU16rXl9eR16jXlSDXotedINeX16nXkdeV158ge3BsYXRmb3JtfSDXm9eT15kg15zXlNep15DXmdeoINeq15LXldeR15QnLAogIHBsYWNlaG9sZGVyOiAn15TXqdeQ15nXqNeVINeq15LXldeR15QuINeZ16kg16rXnteZ15vXlCDXkdei15nXpteV15Eg15HXoteW16jXqiBNYXJrZG93bi4gQ3RybCArIEVudGVyINeb15PXmSDXnNep15zXldeXLicsCiAgbm9Mb2dpblBsYWNlSG9sZGVyOiAn15TXqteX15HXqNeVINeb15PXmSDXnNeU16nXkNeZ16gg16rXkteV15HXlC4g15nXqSDXqtee15nXm9eUINeR16LXmdem15XXkSDXkdei15bXqNeqIE1hcmtkb3duLiAnLAogIC8vIHN0YXR1cwogIGZhaWxlZDogJ9eb16nXnNeV158g15HXmNei15nXoNeqINeU16rXkteV15HXldeqJywKICBpbml0aWFsaXppbmc6ICfXnteQ16rXl9ecLi4uJywKICBpc3N1ZU5vdENyZWF0ZWQ6ICfXnNeX16bXlSDXnNeZ16bXmdeo16ogaXNzdWUnLAogIGxvYWRpbmdDb21tZW50czogJ9eY15XXotefINeq15LXldeR15XXqi4uLicsCiAgbG9naW5SZXF1aXJlZDogJ9eU16rXl9eR16jXlSDXm9eT15kg15zXptek15XXqiDXkdeq15LXldeR15XXqicsCiAgbm9Db21tZW50czogJ9ei15PXmdeZ158g15DXmdefINeq15LXldeR15XXqi4g15TXqdeQ15nXqNeVINeq15LXldeR15Qg16jXkNep15XXoNeUICEnLAogIC8vIGFsZXJ0cwogIHJlYWN0aW9uR2l2ZW46IGDXm9eR16gg16DXmdeq158g15fXmdeV15XXmSAne3JlYWN0aW9ufSdgLAogIGRlbGV0ZUNvbmZpcm06ICfXkdeY15XXl9eZ150g15HXnteX15nXp9eqINeU16rXkteV15HXlCA/JywKICBkZWxldGVGYWlsZWQ6ICfXm9ep15zXldefINeR157Xl9eZ16fXqiDXlNeq15LXldeR15QnCn07CgppZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChWdWUsICckaTE4bicpKSB7CiAgVnVlLnVzZShWdWVJMThuKTsKfQoKY29uc3QgaTE4biA9IG5ldyBWdWVJMThuKHsKICBsb2NhbGU6ICdlbicsCiAgZmFsbGJhY2tMb2NhbGU6ICdlbicsCiAgbWVzc2FnZXM6IHsKICAgIGVuOiBtZXNzYWdlcywKICAgICdlbi1VUyc6IG1lc3NhZ2VzLAogICAgemg6IG1lc3NhZ2VzJDEsCiAgICAnemgtQ04nOiBtZXNzYWdlcyQxLAogICAgcHQ6IG1lc3NhZ2VzJDIsCiAgICAncHQtQlInOiBtZXNzYWdlcyQyLAogICAgamE6IG1lc3NhZ2VzJDMsCiAgICAnamEtSlAnOiBtZXNzYWdlcyQzLAogICAgaGU6IG1lc3NhZ2VzJDQsCiAgICAnaGUtSUwnOiBtZXNzYWdlcyQ0CiAgfQp9KTsKbGV0IFZzc3VlU3RvcmUgPSBjbGFzcyBWc3N1ZVN0b3JlIGV4dGVuZHMgVnVlJDEgewogIGNvbnN0cnVjdG9yKCkgewogICAgc3VwZXIoLi4uYXJndW1lbnRzKTsKCiAgICB0aGlzLnRpdGxlID0gb3B0aW9ucyA9PiBgJHtvcHRpb25zLnByZWZpeH0ke2RvY3VtZW50LnRpdGxlfWA7CgogICAgdGhpcy5pc3N1ZUlkID0gbnVsbDsKICAgIHRoaXMub3B0aW9ucyA9IG51bGw7CiAgICB0aGlzLkFQSSA9IG51bGw7CiAgICB0aGlzLmFjY2Vzc1Rva2VuID0gbnVsbDsKICAgIHRoaXMudXNlciA9IG51bGw7CiAgICB0aGlzLmlzc3VlID0gbnVsbDsKICAgIHRoaXMuY29tbWVudHMgPSBudWxsOwogICAgdGhpcy5xdWVyeSA9IHsKICAgICAgcGFnZTogMSwKICAgICAgcGVyUGFnZTogMTAsCiAgICAgIHNvcnQ6ICdkZXNjJwogICAgfTsKICAgIHRoaXMuaXNJbml0aWFsaXppbmcgPSB0cnVlOwogICAgdGhpcy5pc0lzc3VlTm90Q3JlYXRlZCA9IGZhbHNlOwogICAgdGhpcy5pc0xvZ2luUmVxdWlyZWQgPSBmYWxzZTsKICAgIHRoaXMuaXNGYWlsZWQgPSBmYWxzZTsKICAgIHRoaXMuaXNDcmVhdGluZ0lzc3VlID0gZmFsc2U7CiAgICB0aGlzLmlzTG9hZGluZ0NvbW1lbnRzID0gZmFsc2U7CiAgICB0aGlzLmlzQ3JlYXRpbmdDb21tZW50ID0gZmFsc2U7CiAgICB0aGlzLmlzVXBkYXRpbmdDb21tZW50ID0gZmFsc2U7CiAgfQoKICBnZXQgdmVyc2lvbigpIHsKICAgIHJldHVybiAiMS40LjgiOwogIH0KCiAgZ2V0IGlzc3VlVGl0bGUoKSB7CiAgICBpZiAodGhpcy5vcHRpb25zID09PSBudWxsKSB7CiAgICAgIHJldHVybiAnJzsKICAgIH0KCiAgICByZXR1cm4gdHlwZW9mIHRoaXMudGl0bGUgPT09ICdmdW5jdGlvbicgPyB0aGlzLnRpdGxlKHRoaXMub3B0aW9ucykgOiBgJHt0aGlzLm9wdGlvbnMucHJlZml4fSR7dGhpcy50aXRsZX1gOwogIH0KCiAgZ2V0IGlzUGVuZGluZygpIHsKICAgIHJldHVybiB0aGlzLmlzTG9hZGluZ0NvbW1lbnRzIHx8IHRoaXMuaXNDcmVhdGluZ0NvbW1lbnQgfHwgdGhpcy5pc1VwZGF0aW5nQ29tbWVudDsKICB9CgogIGdldCBpc0xvZ2luZWQoKSB7CiAgICByZXR1cm4gdGhpcy5hY2Nlc3NUb2tlbiAhPT0gbnVsbCAmJiB0aGlzLnVzZXIgIT09IG51bGw7CiAgfQoKICBnZXQgaXNBZG1pbigpIHsKICAgIHJldHVybiB0aGlzLm9wdGlvbnMgIT09IG51bGwgJiYgdGhpcy5hY2Nlc3NUb2tlbiAhPT0gbnVsbCAmJiB0aGlzLnVzZXIgIT09IG51bGwgJiYgKHRoaXMudXNlci51c2VybmFtZSA9PT0gdGhpcy5vcHRpb25zLm93bmVyIHx8IHRoaXMub3B0aW9ucy5hZG1pbnMuaW5jbHVkZXModGhpcy51c2VyLnVzZXJuYW1lKSk7CiAgfQogIC8qKgogICAqIHRoZSBrZXkgb2YgYWNjZXNzIHRva2VuIGZvciBsb2NhbCBzdG9yYWdlCiAgICovCgoKICBnZXQgYWNjZXNzVG9rZW5LZXkoKSB7CiAgICByZXR1cm4gdGhpcy5BUEkgPyBgVnNzdWUuJHt0aGlzLkFQSS5wbGF0Zm9ybS5uYW1lLnRvTG93ZXJDYXNlKCl9LmFjY2Vzc190b2tlbmAgOiAnJzsKICB9CgogIG9uUXVlcnlQZXJQYWdlQ2hhbmdlKCkgewogICAgdGhpcy5xdWVyeS5wYWdlID0gMTsKICAgIHRoaXMuZ2V0Q29tbWVudHMoKTsKICB9CgogIG9uUXVlcnlDaGFuZ2UoKSB7CiAgICB0aGlzLmdldENvbW1lbnRzKCk7CiAgfQogIC8qKgogICAqIFNldCBvcHRpb25zIG9mIFZzc3VlCiAgICovCgoKICBzZXRPcHRpb25zKG9wdGlvbnMpIHsKICAgIHRoaXMub3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oewogICAgICBsYWJlbHM6IFsnVnNzdWUnXSwKICAgICAgc3RhdGU6ICdWc3N1ZScsCiAgICAgIHByZWZpeDogJ1tWc3N1ZV0nLAogICAgICBhZG1pbnM6IFtdLAogICAgICBwZXJQYWdlOiAxMCwKICAgICAgcHJveHk6IHVybCA9PiBgaHR0cHM6Ly9jb3JzLWFueXdoZXJlLmF6bS53b3JrZXJzLmRldi8ke3VybH1gLAogICAgICBpc3N1ZUNvbnRlbnQ6ICh7CiAgICAgICAgdXJsCiAgICAgIH0pID0+IHVybCwKICAgICAgYXV0b0NyZWF0ZUlzc3VlOiBmYWxzZQogICAgfSwgb3B0aW9ucyk7IC8vIGNoZWNrIG9wdGlvbnMKCiAgICBjb25zdCByZXF1aXJlZE9wdGlvbnMgPSBbJ2FwaScsICdvd25lcicsICdyZXBvJywgJ2NsaWVudElkJ107CgogICAgZm9yIChjb25zdCBvcHQgb2YgcmVxdWlyZWRPcHRpb25zKSB7CiAgICAgIGlmICghdGhpcy5vcHRpb25zW29wdF0pIHsKICAgICAgICBjb25zb2xlLndhcm4oYFtWc3N1ZV0gdGhlIG9wdGlvbiAnJHtvcHR9JyBpcyByZXF1aXJlZGApOwogICAgICB9CiAgICB9IC8vIHNldCBsb2NhbGUKCgogICAgaWYgKHRoaXMub3B0aW9ucy5sb2NhbGUpIHsKICAgICAgdGhpcy4kaTE4bi5sb2NhbGUgPSB0aGlzLm9wdGlvbnMubG9jYWxlOwogICAgfSBlbHNlIHsKICAgICAgY29uc3QgbG9jYWxlcyA9IE9iamVjdC5rZXlzKHRoaXMuJGkxOG4ubWVzc2FnZXMpOwogICAgICBjb25zdCBuYXZMYW5ncyA9IHdpbmRvdy5uYXZpZ2F0b3IubGFuZ3VhZ2VzOwogICAgICB0aGlzLiRpMThuLmxvY2FsZSA9IG5hdkxhbmdzLmZpbHRlcihpdGVtID0+IGxvY2FsZXMuaW5jbHVkZXMoaXRlbSkpLnNoaWZ0KCkgfHwgJ2VuJzsKICAgIH0KICB9CiAgLyoqCiAgICogSW5pdGlhbGl6YXRpb24KICAgKi8KCgogIGFzeW5jIGluaXQoKSB7CiAgICB0cnkgewogICAgICAvLyBpbml0IFZzc3VlU3RvcmUKICAgICAgYXdhaXQgdGhpcy5pbml0U3RvcmUoKTsgLy8gaW5pdCBjb21tZW50cwoKICAgICAgYXdhaXQgdGhpcy5pbml0Q29tbWVudHMoKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgaWYgKGUucmVzcG9uc2UgJiYgWzQwMSwgNDAzXS5pbmNsdWRlcyhlLnJlc3BvbnNlLnN0YXR1cykpIHsKICAgICAgICAvLyBpbiBzb21lIGNhc2VzLCByZXF1aXJlIGxvZ2luIHRvIGxvYWQgY29tbWVudHMKICAgICAgICB0aGlzLmlzTG9naW5SZXF1aXJlZCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc0ZhaWxlZCA9IHRydWU7CiAgICAgIH0KCiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICB9CiAgfQogIC8qKgogICAqIEluaXQgVnNzdWVTdG9yZQogICAqLwoKCiAgYXN5bmMgaW5pdFN0b3JlKCkgewogICAgdHJ5IHsKICAgICAgaWYgKCF0aGlzLm9wdGlvbnMpIHRocm93IG5ldyBFcnJvcignT3B0aW9ucyBhcmUgcmVxdWlyZWQgdG8gaW5pdGlhbGl6ZSBWc3N1ZScpOyAvLyByZXNldCBkYXRhCgogICAgICB0aGlzLkFQSSA9IG51bGw7CiAgICAgIHRoaXMuYWNjZXNzVG9rZW4gPSBudWxsOwogICAgICB0aGlzLnVzZXIgPSBudWxsOwogICAgICB0aGlzLmlzc3VlID0gbnVsbDsKICAgICAgdGhpcy5jb21tZW50cyA9IG51bGw7CiAgICAgIHRoaXMucXVlcnkgPSB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBwZXJQYWdlOiB0aGlzLm9wdGlvbnMucGVyUGFnZSwKICAgICAgICBzb3J0OiAnZGVzYycKICAgICAgfTsgLy8gcmVzZXQgc3RhdHVzCgogICAgICB0aGlzLmlzSW5pdGlhbGl6aW5nID0gdHJ1ZTsKICAgICAgdGhpcy5pc0lzc3VlTm90Q3JlYXRlZCA9IGZhbHNlOwogICAgICB0aGlzLmlzTG9naW5SZXF1aXJlZCA9IGZhbHNlOwogICAgICB0aGlzLmlzRmFpbGVkID0gZmFsc2U7CiAgICAgIHRoaXMuaXNDcmVhdGluZ0lzc3VlID0gZmFsc2U7CiAgICAgIHRoaXMuaXNMb2FkaW5nQ29tbWVudHMgPSBmYWxzZTsKICAgICAgdGhpcy5pc0NyZWF0aW5nQ29tbWVudCA9IGZhbHNlOwogICAgICB0aGlzLmlzVXBkYXRpbmdDb21tZW50ID0gZmFsc2U7IC8vIGdldCB0aGUgVnNzdWVBUEkgaW5zdGFuY2UgYWNjb3JkaW5nIHRvIHRoZSBvcHRpb25zLmFwaQoKICAgICAgY29uc3QgQVBJQ29uc3RydWN0b3IgPSB0aGlzLm9wdGlvbnMuYXBpOwogICAgICB0aGlzLkFQSSA9IG5ldyBBUElDb25zdHJ1Y3Rvcih7CiAgICAgICAgYmFzZVVSTDogdGhpcy5vcHRpb25zLmJhc2VVUkwsCiAgICAgICAgbGFiZWxzOiB0aGlzLm9wdGlvbnMubGFiZWxzLAogICAgICAgIHN0YXRlOiB0aGlzLm9wdGlvbnMuc3RhdGUsCiAgICAgICAgb3duZXI6IHRoaXMub3B0aW9ucy5vd25lciwKICAgICAgICByZXBvOiB0aGlzLm9wdGlvbnMucmVwbywKICAgICAgICBjbGllbnRJZDogdGhpcy5vcHRpb25zLmNsaWVudElkLAogICAgICAgIGNsaWVudFNlY3JldDogdGhpcy5vcHRpb25zLmNsaWVudFNlY3JldCwKICAgICAgICBwcm94eTogdGhpcy5vcHRpb25zLnByb3h5CiAgICAgIH0pOyAvLyBoYW5kbGUgYXV0aG9yaXphdGlvbgoKICAgICAgYXdhaXQgdGhpcy5oYW5kbGVBdXRoKCk7CiAgICB9IGZpbmFsbHkgewogICAgICB0aGlzLmlzSW5pdGlhbGl6aW5nID0gZmFsc2U7CiAgICB9CiAgfQogIC8qKgogICAqIEluaXQgY29tbWVudHMKICAgKi8KCgogIGFzeW5jIGluaXRDb21tZW50cygpIHsKICAgIGlmICghdGhpcy5BUEkgfHwgIXRoaXMub3B0aW9ucykgcmV0dXJuOwoKICAgIGlmICh0aGlzLmlzc3VlSWQpIHsKICAgICAgLy8gaWYgaXNzdWVJZCBpcyBzZXQsIGdldCB0aGUgaXNzdWUgYW5kIGNvbW1lbnRzIGluIHRoZSBtZWFuIHRpbWUKICAgICAgLy8gbm90aWNlIHRoYXQgdnNzdWUgd2lsbCBub3QgdHJ5IHRvIGNyZWF0ZSB0aGUgaXNzdWUgaXMgbm90IGZvdW5kCiAgICAgIGNvbnN0IFtpc3N1ZSwgY29tbWVudHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuQVBJLmdldElzc3VlKHsKICAgICAgICBhY2Nlc3NUb2tlbjogdGhpcy5hY2Nlc3NUb2tlbiwKICAgICAgICBpc3N1ZUlkOiB0aGlzLmlzc3VlSWQKICAgICAgfSksIHRoaXMuQVBJLmdldENvbW1lbnRzKHsKICAgICAgICBhY2Nlc3NUb2tlbjogdGhpcy5hY2Nlc3NUb2tlbiwKICAgICAgICBpc3N1ZUlkOiB0aGlzLmlzc3VlSWQsCiAgICAgICAgcXVlcnk6IHRoaXMucXVlcnkKICAgICAgfSldKTsKICAgICAgdGhpcy5pc3N1ZSA9IGlzc3VlOwogICAgICB0aGlzLmNvbW1lbnRzID0gY29tbWVudHM7CiAgICB9IGVsc2UgewogICAgICAvLyBnZXQgaXNzdWUgYWNjb3JkaW5nIHRvIHRpdGxlCiAgICAgIHRoaXMuaXNzdWUgPSBhd2FpdCB0aGlzLkFQSS5nZXRJc3N1ZSh7CiAgICAgICAgYWNjZXNzVG9rZW46IHRoaXMuYWNjZXNzVG9rZW4sCiAgICAgICAgaXNzdWVUaXRsZTogdGhpcy5pc3N1ZVRpdGxlCiAgICAgIH0pOwoKICAgICAgaWYgKHRoaXMuaXNzdWUgPT09IG51bGwpIHsKICAgICAgICAvLyBpZiB0aGUgaXNzdWUgb2YgdGhpcyBwYWdlIGRvZXMgbm90IGV4aXN0CiAgICAgICAgdGhpcy5pc0lzc3VlTm90Q3JlYXRlZCA9IHRydWU7IC8vIHRyeSB0byBjcmVhdGUgaXNzdWUgd2hlbiBgYXV0b0NyZWF0ZUlzc3VlID0gdHJ1ZWAKCiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvQ3JlYXRlSXNzdWUpIHsKICAgICAgICAgIGF3YWl0IHRoaXMucG9zdElzc3VlKCk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIHRyeSB0byBsb2FkIGNvbW1lbnRzCiAgICAgICAgYXdhaXQgdGhpcy5nZXRDb21tZW50cygpOwogICAgICB9CiAgICB9CiAgfQogIC8qKgogICAqIFBvc3QgYSBuZXcgaXNzdWUKICAgKi8KCgogIGFzeW5jIHBvc3RJc3N1ZSgpIHsKICAgIGlmICghdGhpcy5BUEkgfHwgIXRoaXMub3B0aW9ucyB8fCB0aGlzLmlzc3VlIHx8IHRoaXMuaXNzdWVJZCkgcmV0dXJuOyAvLyBsb2dpbiB0byBjcmVhdGUgaXNzdWUKCiAgICBpZiAoIXRoaXMuaXNMb2dpbmVkKSB7CiAgICAgIHRoaXMubG9naW4oKTsKICAgIH0gLy8gb25seSBvd25lci9hZG1pbnMgY2FuIGNyZWF0ZSBpc3N1ZQoKCiAgICBpZiAoIXRoaXMuaXNBZG1pbikgcmV0dXJuOwoKICAgIHRyeSB7CiAgICAgIHRoaXMuaXNDcmVhdGluZ0lzc3VlID0gdHJ1ZTsKICAgICAgY29uc3QgaXNzdWUgPSBhd2FpdCB0aGlzLkFQSS5wb3N0SXNzdWUoewogICAgICAgIHRpdGxlOiB0aGlzLmlzc3VlVGl0bGUsCiAgICAgICAgY29udGVudDogYXdhaXQgdGhpcy5vcHRpb25zLmlzc3VlQ29udGVudCh7CiAgICAgICAgICBvcHRpb25zOiB0aGlzLm9wdGlvbnMsCiAgICAgICAgICB1cmw6IGdldENsZWFuVVJMKHdpbmRvdy5sb2NhdGlvbi5ocmVmKQogICAgICAgIH0pLAogICAgICAgIGFjY2Vzc1Rva2VuOiB0aGlzLmFjY2Vzc1Rva2VuCiAgICAgIH0pOwogICAgICB0aGlzLmlzc3VlID0gaXNzdWU7CiAgICAgIHRoaXMuaXNJc3N1ZU5vdENyZWF0ZWQgPSBmYWxzZTsKICAgICAgYXdhaXQgdGhpcy5nZXRDb21tZW50cygpOwogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLmlzRmFpbGVkID0gdHJ1ZTsKICAgIH0gZmluYWxseSB7CiAgICAgIHRoaXMuaXNDcmVhdGluZ0lzc3VlID0gZmFsc2U7CiAgICB9CiAgfQogIC8qKgogICAqIEdldCBjb21tZW50cyBvZiB0aGlzIHZzc3VlIGFjY29yZGluZyB0byB0aGUgaXNzdWUgaWQKICAgKi8KCgogIGFzeW5jIGdldENvbW1lbnRzKCkgewogICAgdHJ5IHsKICAgICAgaWYgKCF0aGlzLkFQSSB8fCAhdGhpcy5pc3N1ZSB8fCB0aGlzLmlzTG9hZGluZ0NvbW1lbnRzKSByZXR1cm47CiAgICAgIHRoaXMuaXNMb2FkaW5nQ29tbWVudHMgPSB0cnVlOwogICAgICBjb25zdCBjb21tZW50cyA9IGF3YWl0IHRoaXMuQVBJLmdldENvbW1lbnRzKHsKICAgICAgICBhY2Nlc3NUb2tlbjogdGhpcy5hY2Nlc3NUb2tlbiwKICAgICAgICBpc3N1ZUlkOiB0aGlzLmlzc3VlLmlkLAogICAgICAgIHF1ZXJ5OiB0aGlzLnF1ZXJ5CiAgICAgIH0pOwogICAgICB0aGlzLmNvbW1lbnRzID0gY29tbWVudHM7CgogICAgICBpZiAodGhpcy5xdWVyeS5wYWdlICE9PSBjb21tZW50cy5wYWdlKSB7CiAgICAgICAgdGhpcy5xdWVyeS5wYWdlID0gY29tbWVudHMucGFnZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMucXVlcnkucGVyUGFnZSAhPT0gY29tbWVudHMucGVyUGFnZSkgewogICAgICAgIHRoaXMucXVlcnkucGVyUGFnZSA9IGNvbW1lbnRzLnBlclBhZ2U7CiAgICAgIH0KCiAgICAgIHJldHVybiBjb21tZW50czsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgaWYgKGUucmVzcG9uc2UgJiYgWzQwMSwgNDAzXS5pbmNsdWRlcyhlLnJlc3BvbnNlLnN0YXR1cykgJiYgIXRoaXMuaXNMb2dpbmVkKSB7CiAgICAgICAgdGhpcy5pc0xvZ2luUmVxdWlyZWQgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGVtaXQoJ2Vycm9yJywgZSk7CiAgICAgICAgdGhyb3cgZTsKICAgICAgfQogICAgfSBmaW5hbGx5IHsKICAgICAgdGhpcy5pc0xvYWRpbmdDb21tZW50cyA9IGZhbHNlOwogICAgfQogIH0KICAvKioKICAgKiBQb3N0IGEgbmV3IGNvbW1lbnQKICAgKi8KCgogIGFzeW5jIHBvc3RDb21tZW50KHsKICAgIGNvbnRlbnQKICB9KSB7CiAgICB0cnkgewogICAgICBpZiAoIXRoaXMuQVBJIHx8ICF0aGlzLmlzc3VlIHx8IHRoaXMuaXNDcmVhdGluZ0NvbW1lbnQpIHJldHVybjsKICAgICAgdGhpcy5pc0NyZWF0aW5nQ29tbWVudCA9IHRydWU7CiAgICAgIGNvbnN0IGNvbW1lbnQgPSBhd2FpdCB0aGlzLkFQSS5wb3N0Q29tbWVudCh7CiAgICAgICAgYWNjZXNzVG9rZW46IHRoaXMuYWNjZXNzVG9rZW4sCiAgICAgICAgY29udGVudCwKICAgICAgICBpc3N1ZUlkOiB0aGlzLmlzc3VlLmlkCiAgICAgIH0pOwogICAgICByZXR1cm4gY29tbWVudDsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdGhpcy4kZW1pdCgnZXJyb3InLCBlKTsKICAgICAgdGhyb3cgZTsKICAgIH0gZmluYWxseSB7CiAgICAgIHRoaXMuaXNDcmVhdGluZ0NvbW1lbnQgPSBmYWxzZTsKICAgIH0KICB9CiAgLyoqCiAgICogRWRpdCBhIGNvbW1lbnQKICAgKi8KCgogIGFzeW5jIHB1dENvbW1lbnQoewogICAgY29tbWVudElkLAogICAgY29udGVudAogIH0pIHsKICAgIHRyeSB7CiAgICAgIGlmICghdGhpcy5BUEkgfHwgIXRoaXMuaXNzdWUpIHJldHVybjsKICAgICAgY29uc3QgY29tbWVudCA9IGF3YWl0IHRoaXMuQVBJLnB1dENvbW1lbnQoewogICAgICAgIGFjY2Vzc1Rva2VuOiB0aGlzLmFjY2Vzc1Rva2VuLAogICAgICAgIGlzc3VlSWQ6IHRoaXMuaXNzdWUuaWQsCiAgICAgICAgY29tbWVudElkLAogICAgICAgIGNvbnRlbnQKICAgICAgfSk7CiAgICAgIHJldHVybiBjb21tZW50OwogICAgfSBjYXRjaCAoZSkgewogICAgICB0aGlzLiRlbWl0KCdlcnJvcicsIGUpOwogICAgICB0aHJvdyBlOwogICAgfQogIH0KICAvKioKICAgKiBEZWxldGUgYSBuZXcgY29tbWVudAogICAqLwoKCiAgYXN5bmMgZGVsZXRlQ29tbWVudCh7CiAgICBjb21tZW50SWQKICB9KSB7CiAgICB0cnkgewogICAgICBpZiAoIXRoaXMuQVBJIHx8ICF0aGlzLmlzc3VlKSByZXR1cm47CiAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLkFQSS5kZWxldGVDb21tZW50KHsKICAgICAgICBhY2Nlc3NUb2tlbjogdGhpcy5hY2Nlc3NUb2tlbiwKICAgICAgICBpc3N1ZUlkOiB0aGlzLmlzc3VlLmlkLAogICAgICAgIGNvbW1lbnRJZAogICAgICB9KTsKICAgICAgcmV0dXJuIHN1Y2Nlc3M7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Vycm9yJywgZSk7CiAgICAgIHRocm93IGU7CiAgICB9CiAgfQogIC8qKgogICAqIEdldCByZWFjdGlvbnMgb2YgYSBjb21tZW50CiAgICovCgoKICBhc3luYyBnZXRDb21tZW50UmVhY3Rpb25zKHsKICAgIGNvbW1lbnRJZAogIH0pIHsKICAgIHRyeSB7CiAgICAgIGlmICghdGhpcy5BUEkgfHwgIXRoaXMuaXNzdWUpIHJldHVybjsKICAgICAgY29uc3QgcmVhY3Rpb25zID0gYXdhaXQgdGhpcy5BUEkuZ2V0Q29tbWVudFJlYWN0aW9ucyh7CiAgICAgICAgYWNjZXNzVG9rZW46IHRoaXMuYWNjZXNzVG9rZW4sCiAgICAgICAgaXNzdWVJZDogdGhpcy5pc3N1ZS5pZCwKICAgICAgICBjb21tZW50SWQKICAgICAgfSk7CiAgICAgIHJldHVybiByZWFjdGlvbnM7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Vycm9yJywgZSk7CiAgICAgIHRocm93IGU7CiAgICB9CiAgfQogIC8qKgogICAqIENyZWF0ZSBhIG5ldyByZWFjdGlvbiB0byBhIGNlcnRhaW4gY29tbWVudAogICAqLwoKCiAgYXN5bmMgcG9zdENvbW1lbnRSZWFjdGlvbih7CiAgICBjb21tZW50SWQsCiAgICByZWFjdGlvbgogIH0pIHsKICAgIHRyeSB7CiAgICAgIGlmICghdGhpcy5BUEkgfHwgIXRoaXMuaXNzdWUpIHJldHVybiBmYWxzZTsKICAgICAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IHRoaXMuQVBJLnBvc3RDb21tZW50UmVhY3Rpb24oewogICAgICAgIGFjY2Vzc1Rva2VuOiB0aGlzLmFjY2Vzc1Rva2VuLAogICAgICAgIGlzc3VlSWQ6IHRoaXMuaXNzdWUuaWQsCiAgICAgICAgY29tbWVudElkLAogICAgICAgIHJlYWN0aW9uCiAgICAgIH0pOwogICAgICByZXR1cm4gc3VjY2VzczsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdGhpcy4kZW1pdCgnZXJyb3InLCBlKTsKICAgICAgdGhyb3cgZTsKICAgIH0KICB9CiAgLyoqCiAgICogUmVkaXJlY3QgdG8gdGhlIHBsYXRmb3JtJ3MgYXV0aG9yaXphdGlvbiBwYWdlCiAgICovCgoKICBsb2dpbigpIHsKICAgIGlmICghdGhpcy5BUEkpIHJldHVybjsKICAgIHRoaXMuQVBJLnJlZGlyZWN0QXV0aCgpOwogIH0KICAvKioKICAgKiBDbGVhbiB0aGUgYWNjZXNzIHRva2VuIHN0b3JlZCBpbiBsb2NhbCBzdG9yYWdlCiAgICovCgoKICBsb2dvdXQoKSB7CiAgICB0aGlzLnNldEFjY2Vzc1Rva2VuKG51bGwpOwogICAgdGhpcy51c2VyID0gbnVsbDsKICB9CiAgLyoqCiAgICogSGFuZGxlIGF1dGhvcml6YXRpb24gYW5kIHNldCBhY2Nlc3NfdG9rZW4KICAgKi8KCgogIGFzeW5jIGhhbmRsZUF1dGgoKSB7CiAgICBpZiAoIXRoaXMuQVBJKSByZXR1cm47IC8vIGhhbmRsZSBhdXRob3JpemUgYW5kIHRyeSB0byBnZXQgdGhlIGFjY2Vzc190b2tlbgoKICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gYXdhaXQgdGhpcy5BUEkuaGFuZGxlQXV0aCgpOwoKICAgIGlmIChhY2Nlc3NUb2tlbikgewogICAgICAvLyBuZXcgYWNjZXNzX3Rva2VuCiAgICAgIHRoaXMuc2V0QWNjZXNzVG9rZW4oYWNjZXNzVG9rZW4pOwogICAgICB0aGlzLnVzZXIgPSBhd2FpdCB0aGlzLkFQSS5nZXRVc2VyKHsKICAgICAgICBhY2Nlc3NUb2tlbgogICAgICB9KTsKICAgIH0gZWxzZSBpZiAodGhpcy5nZXRBY2Nlc3NUb2tlbigpKSB7CiAgICAgIC8vIGhhdmUgYWNjZXNzX3Rva2VuIGluIGxvY2Fsc3RvcmFnZQogICAgICB0aGlzLnVzZXIgPSBhd2FpdCB0aGlzLkFQSS5nZXRVc2VyKHsKICAgICAgICBhY2Nlc3NUb2tlbjogdGhpcy5hY2Nlc3NUb2tlbgogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIC8vIG5vIGFjY2Vzc190b2tlbgogICAgICB0aGlzLnNldEFjY2Vzc1Rva2VuKG51bGwpOwogICAgICB0aGlzLnVzZXIgPSBudWxsOwogICAgfQogIH0KICAvKioKICAgKiBHZXQgYWNjZXNzIHRva2VuIGZyb20gbG9jYWwgc3RvcmFnZQogICAqLwoKCiAgZ2V0QWNjZXNzVG9rZW4oKSB7CiAgICB0aGlzLmFjY2Vzc1Rva2VuID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuYWNjZXNzVG9rZW5LZXkpOwogICAgcmV0dXJuIHRoaXMuYWNjZXNzVG9rZW47CiAgfQogIC8qKgogICAqIFNhdmUgYWNjZXNzIHRva2VuIHRvIGxvY2FsIHN0b3JhZ2UKICAgKi8KCgogIHNldEFjY2Vzc1Rva2VuKHRva2VuKSB7CiAgICBpZiAodG9rZW4gPT09IG51bGwpIHsKICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMuYWNjZXNzVG9rZW5LZXkpOwogICAgfSBlbHNlIHsKICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuYWNjZXNzVG9rZW5LZXksIHRva2VuKTsKICAgIH0KCiAgICB0aGlzLmFjY2Vzc1Rva2VuID0gdG9rZW47CiAgfQoKfTsKCl9fZGVjb3JhdGUoW1dhdGNoKCdxdWVyeS5wZXJQYWdlJyldLCBWc3N1ZVN0b3JlLnByb3RvdHlwZSwgIm9uUXVlcnlQZXJQYWdlQ2hhbmdlIiwgbnVsbCk7CgpfX2RlY29yYXRlKFtXYXRjaCgncXVlcnkucGFnZScpLCBXYXRjaCgncXVlcnkuc29ydCcpXSwgVnNzdWVTdG9yZS5wcm90b3R5cGUsICJvblF1ZXJ5Q2hhbmdlIiwgbnVsbCk7CgpWc3N1ZVN0b3JlID0gX19kZWNvcmF0ZShbQ29tcG9uZW50KHsKICBpMThuCn0pXSwgVnNzdWVTdG9yZSk7CnZhciBWc3N1ZVN0b3JlJDEgPSBWc3N1ZVN0b3JlOwpsZXQgVnNzdWUgPSBjbGFzcyBWc3N1ZSBleHRlbmRzIFZ1ZSQxIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7CiAgICAvKioKICAgICAqIFByb3ZpZGUgdGhlIFZzc3VlU3RvcmUgZm9yIHRoZSBjaGlsZCBjb21wb25lbnRzCiAgICAgKi8KCiAgICB0aGlzLnZzc3VlID0gbmV3IFZzc3VlU3RvcmUkMSgpOwogIH0KICAvKioKICAgKiBTZXQgb3B0aW9ucyBvZiBWc3N1ZSBpZiBgb3B0aW9uc2AgcHJvcCBpcyBjaGFuZ2VkCiAgICovCgoKICBvbk9wdGlvbnNDaGFuZ2Uob3B0aW9ucykgewogICAgdGhpcy52c3N1ZS5zZXRPcHRpb25zKG9wdGlvbnMpOwogIH0KICAvKioKICAgKiBtb3VudGVkIGhvb2sKICAgKi8KCgogIG1vdW50ZWQoKSB7CiAgICAvLyBzZXQgaXNzdWUgdGl0bGUgYW5kIGlzc3VlIGlkCiAgICBpZiAodGhpcy50aXRsZSAhPT0gbnVsbCkgewogICAgICB0aGlzLnZzc3VlLnRpdGxlID0gdGhpcy50aXRsZTsKICAgIH0KCiAgICBpZiAodGhpcy5pc3N1ZUlkICE9PSBudWxsKSB7CiAgICAgIHRoaXMudnNzdWUuaXNzdWVJZCA9IHRoaXMuaXNzdWVJZDsKICAgIH0gLy8gc2V0IG9wdGlvbnMKCgogICAgdGhpcy52c3N1ZS5zZXRPcHRpb25zKHRoaXMub3B0aW9ucyk7IC8vIGluaXQgdnNzdWUKCiAgICB0aGlzLnZzc3VlLmluaXQoKTsKICB9Cgp9OwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgdHlwZTogW1N0cmluZywgRnVuY3Rpb25dLAogIHJlcXVpcmVkOiBmYWxzZSwKICBkZWZhdWx0OiBudWxsCn0pXSwgVnNzdWUucHJvdG90eXBlLCAidGl0bGUiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwKICByZXF1aXJlZDogZmFsc2UsCiAgZGVmYXVsdDogbnVsbAp9KV0sIFZzc3VlLnByb3RvdHlwZSwgImlzc3VlSWQiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbUHJvcCh7CiAgdHlwZTogT2JqZWN0LAogIHJlcXVpcmVkOiBmYWxzZSwKICBkZWZhdWx0OiAoKSA9PiAoe30pCn0pXSwgVnNzdWUucHJvdG90eXBlLCAib3B0aW9ucyIsIHZvaWQgMCk7CgpfX2RlY29yYXRlKFtQcm92aWRlKCd2c3N1ZScpXSwgVnNzdWUucHJvdG90eXBlLCAidnNzdWUiLCB2b2lkIDApOwoKX19kZWNvcmF0ZShbV2F0Y2goJ29wdGlvbnMnLCB7CiAgZGVlcDogdHJ1ZQp9KV0sIFZzc3VlLnByb3RvdHlwZSwgIm9uT3B0aW9uc0NoYW5nZSIsIG51bGwpOwoKVnNzdWUgPSBfX2RlY29yYXRlKFtDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIEljb25mb250OiBfX3Z1ZV9jb21wb25lbnRfXywKICAgIFZzc3VlQm9keTogX192dWVfY29tcG9uZW50X18kYSwKICAgIFZzc3VlSGVhZGVyOiBfX3Z1ZV9jb21wb25lbnRfXyRiCiAgfQp9KV0sIFZzc3VlKTsKdmFyIHNjcmlwdCRjID0gVnNzdWU7Ci8qIHNjcmlwdCAqLwoKY29uc3QgX192dWVfc2NyaXB0X18kYyA9IHNjcmlwdCRjOwovKiB0ZW1wbGF0ZSAqLwoKdmFyIF9fdnVlX3JlbmRlcl9fJDkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIF92bSA9IHRoaXM7CgogIHZhciBfaCA9IF92bS4kY3JlYXRlRWxlbWVudDsKCiAgdmFyIF9jID0gX3ZtLl9zZWxmLl9jIHx8IF9oOwoKICByZXR1cm4gX2MoJ2RpdicsIHsKICAgIHN0YXRpY0NsYXNzOiAidnNzdWUiCiAgfSwgW19jKCdJY29uZm9udCcpLCBfdm0uX3YoIiAiKSwgX2MoJ1Zzc3VlSGVhZGVyJyksIF92bS5fdigiICIpLCBfYygnVnNzdWVCb2R5JyldLCAxKTsKfTsKCnZhciBfX3Z1ZV9zdGF0aWNSZW5kZXJGbnNfXyQ5ID0gW107Ci8qIHN0eWxlICovCgpjb25zdCBfX3Z1ZV9pbmplY3Rfc3R5bGVzX18kYyA9IHVuZGVmaW5lZDsKLyogc2NvcGVkICovCgpjb25zdCBfX3Z1ZV9zY29wZV9pZF9fJGMgPSB1bmRlZmluZWQ7Ci8qIG1vZHVsZSBpZGVudGlmaWVyICovCgpjb25zdCBfX3Z1ZV9tb2R1bGVfaWRlbnRpZmllcl9fJGMgPSB1bmRlZmluZWQ7Ci8qIGZ1bmN0aW9uYWwgdGVtcGxhdGUgKi8KCmNvbnN0IF9fdnVlX2lzX2Z1bmN0aW9uYWxfdGVtcGxhdGVfXyRjID0gZmFsc2U7Ci8qIHN0eWxlIGluamVjdCAqLwoKLyogc3R5bGUgaW5qZWN0IFNTUiAqLwoKLyogc3R5bGUgaW5qZWN0IHNoYWRvdyBkb20gKi8KCmNvbnN0IF9fdnVlX2NvbXBvbmVudF9fJGMgPSBub3JtYWxpemVDb21wb25lbnQoewogIHJlbmRlcjogX192dWVfcmVuZGVyX18kOSwKICBzdGF0aWNSZW5kZXJGbnM6IF9fdnVlX3N0YXRpY1JlbmRlckZuc19fJDkKfSwgX192dWVfaW5qZWN0X3N0eWxlc19fJGMsIF9fdnVlX3NjcmlwdF9fJGMsIF9fdnVlX3Njb3BlX2lkX18kYywgX192dWVfaXNfZnVuY3Rpb25hbF90ZW1wbGF0ZV9fJGMsIF9fdnVlX21vZHVsZV9pZGVudGlmaWVyX18kYywgZmFsc2UsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQpOwoKY29uc3QgVnNzdWVQbHVnaW4gPSB7CiAgZ2V0IHZlcnNpb24oKSB7CiAgICByZXR1cm4gIjEuNC44IjsKICB9LAoKICBpbnN0YWxsZWQ6IGZhbHNlLAoKICBpbnN0YWxsKFZ1ZSwgb3B0aW9ucykgewogICAgaWYgKHRoaXMuaW5zdGFsbGVkKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KCiAgICB0aGlzLmluc3RhbGxlZCA9IHRydWU7CiAgICBWdWUuY29tcG9uZW50KCdWc3N1ZScsIHsKICAgICAgZnVuY3Rpb25hbDogdHJ1ZSwKICAgICAgcHJvcHM6IHsKICAgICAgICB0aXRsZTogewogICAgICAgICAgdHlwZTogU3RyaW5nLAogICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICAgICAgfSwKICAgICAgICBpc3N1ZUlkOiB7CiAgICAgICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLAogICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICAgICAgZGVmYXVsdDogdW5kZWZpbmVkCiAgICAgICAgfSwKICAgICAgICBvcHRpb25zOiB7CiAgICAgICAgICB0eXBlOiBPYmplY3QsCiAgICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgICAgICB9CiAgICAgIH0sCgogICAgICByZW5kZXIoaCwgewogICAgICAgIGRhdGEsCiAgICAgICAgcHJvcHMKICAgICAgfSkgewogICAgICAgIHJldHVybiBoKF9fdnVlX2NvbXBvbmVudF9fJGMsIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGF0YSksIHsKICAgICAgICAgIHByb3BzOiB7CiAgICAgICAgICAgIHRpdGxlOiBwcm9wcy50aXRsZSwKICAgICAgICAgICAgaXNzdWVJZDogcHJvcHMuaXNzdWVJZCwKICAgICAgICAgICAgb3B0aW9uczogT2JqZWN0LmFzc2lnbih7fSwgb3B0aW9ucywgcHJvcHMub3B0aW9ucykKICAgICAgICAgIH0KICAgICAgICB9KSk7CiAgICAgIH0KCiAgICB9KTsKICB9LAoKICBWc3N1ZUNvbXBvbmVudDogX192dWVfY29tcG9uZW50X18kYwp9OwpleHBvcnQgZGVmYXVsdCBWc3N1ZVBsdWdpbjsKZXhwb3J0IHsgX192dWVfY29tcG9uZW50X18kYyBhcyBWc3N1ZUNvbXBvbmVudCB9Ow=="},null]}